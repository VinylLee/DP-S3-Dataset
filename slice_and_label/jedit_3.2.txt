{'sequence': 'public class Registers public static void copy JEditTextArea textArea char register String selection textArea getSelectedText if selection null return setRegister register selection HistoryModel getModel addItem selection public static void append JEditTextArea textArea char register append textArea register false public static void append JEditTextArea textArea char register String separator append textArea register separator false public static void append JEditTextArea textArea char register String separator boolean cut if cut textArea isEditable textArea getToolkit beep return String selection textArea getSelectedText if selection null return Register reg getRegister register String registerContents reg toString if reg null registerContents null if registerContents endsWith separator selection registerContents selection else selection registerContents separator selection setRegister register selection HistoryModel getModel addItem selection if cut textArea setSelectedText public static void cut JEditTextArea textArea char register if textArea isEditable String selection textArea getSelectedText if selection null return setRegister register selection HistoryModel getModel addItem selection textArea setSelectedText else textArea getToolkit beep public static void paste JEditTextArea textArea char register if textArea isEditable textArea getToolkit beep return Register reg getRegister register if reg null textArea getToolkit beep return else String selection reg toString if selection null textArea getToolkit beep return int magic textArea getMagicCaretPosition textArea setSelectedText selection if textArea getCaretPosition textArea getLineEndOffset textArea getCaretLine textArea setMagicCaretPosition magic else HistoryModel getModel addItem selection public static Register getRegister char name if registers null name registers length return null else return registers name public static void setRegister char name Register newRegister if name registers length Register newRegisters new Register Math min name System arraycopy registers newRegisters registers length registers newRegisters registers name newRegister public static void setRegister char name String value if name registers length Register newRegisters new Register Math min name System arraycopy registers newRegisters registers length registers newRegisters registers name new StringRegister value else Register register registers name if register null register setValue value else registers name new StringRegister value public static void clearRegister char name if name registers length return Register register registers name if name name register setValue else registers name null public static Register getRegisters return registers public interface Register String toString void setValue String value public static class ClipboardRegister implements Register Clipboard clipboard public ClipboardRegister Clipboard clipboard this clipboard clipboard public void setValue String value StringSelection selection new StringSelection value clipboard setContents selection null public String toString try String selection String clipboard getContents this getTransferData DataFlavor stringFlavor boolean trailingEOL selection endsWith selection endsWith System getProperty BufferedReader in new BufferedReader new StringReader selection StringBuffer buf new StringBuffer String line while line in readLine null buf append line buf append if trailingEOL buf setLength buf length return buf toString catch Exception Log log Log NOTICE this return null public static class StringRegister implements Register private String value public StringRegister String value this value value public void setValue String value this value value public String toString return value public void dispose private static Register registers private Registers static registers new Register registers new ClipboardRegister Toolkit getDefaultToolkit getSystemClipboard try Method method Toolkit class getMethod new Class Clipboard selection Clipboard method invoke Toolkit getDefaultToolkit new Object if selection null Log log Log DEBUG Registers class Log log Log DEBUG Registers class registers new ClipboardRegister selection else Log log Log DEBUG Registers class Log log Log DEBUG Registers class registers new StringRegister catch Exception Log log Log DEBUG Registers class Log log Log DEBUG Registers class registers new StringRegister', 'bug': '0'}
{'sequence': 'final class RETokenRepeated extends REToken private REToken token private int min max private boolean stingy RETokenRepeated int subIndex REToken token int min int max super subIndex this token token this min min this max max void makeStingy stingy true boolean isStingy return stingy int getMinimumLength return min token getMinimumLength boolean match CharIndexed input REMatch mymatch int numRepeats REMatch newMatch mymatch REMatch last null REMatch current Vector positions new Vector positions addElement newMatch REMatch doables REMatch doablesLast REMatch recurrent do if stingy numRepeats min REMatch result matchRest input newMatch if result null mymatch assignFrom result return true doables null doablesLast null for current newMatch current null current current next recurrent REMatch current clone if token match input recurrent if doables null doables recurrent doablesLast recurrent else doablesLast next recurrent while doablesLast next null doablesLast doablesLast next if doables null break newMatch doables numRepeats positions addElement newMatch while numRepeats max if numRepeats min return false int posIndex positions size REMatch allResults null REMatch allResultsLast null REMatch results null while posIndex min newMatch REMatch positions elementAt posIndex results matchRest input newMatch if results null if allResults null allResults results allResultsLast results else allResultsLast next results while allResultsLast next null allResultsLast allResultsLast next if allResults null return true return false private REMatch matchRest CharIndexed input final REMatch newMatch REMatch current single REMatch doneIndex null REMatch doneIndexLast null for current newMatch current null current current next single REMatch current clone if next input single if doneIndex null doneIndex single doneIndexLast single else doneIndexLast next single while doneIndexLast next null doneIndexLast doneIndexLast next return doneIndex void dump StringBuffer os os append token dumpAll os os append if max Integer MAX_VALUE min os append min else if min max os append else os append append min if max min os append if max Integer MAX_VALUE os append max os append if stingy os append', 'bug': '0'}
{'sequence': 'public class REMatchEnumeration implements Enumeration Serializable private static final int YES private static final int MAYBE private static final int NO private int more private REMatch match private RE expr private CharIndexed input private int eflags private StringBuffer buffer REMatchEnumeration RE expr CharIndexed input int index int eflags more MAYBE this expr expr this input input input move index this eflags eflags public boolean hasMoreElements return hasMoreMatches null public boolean hasMoreMatches return hasMoreMatches null public boolean hasMoreMatches StringBuffer buffer if more MAYBE match expr getMatchImpl input eflags buffer if match null input move match end match end more YES else more NO return more YES public Object nextElement throws NoSuchElementException return nextMatch public REMatch nextMatch throws NoSuchElementException if hasMoreElements more input isValid MAYBE NO return match throw new NoSuchElementException', 'bug': '0'}
{'sequence': 'class BSHType extends SimpleNode implements BshClassManager Listener private Class baseType private int arrayDims private Class type BSHType int id super id BshClassManager addCMListener this public void addArrayDimension arrayDims public Class getType NameSpace namespace throws EvalError if type null return type SimpleNode node SimpleNode jjtGetChild if node instanceof BSHPrimitiveType baseType BSHPrimitiveType node getType else baseType BSHAmbiguousName node toClass namespace if arrayDims try Object obj Array newInstance baseType dims type obj getClass catch Exception throw new EvalError this else type baseType return type public Class getBaseType return baseType public int getArrayDims return arrayDims public void classLoaderChanged type null baseType null', 'bug': '0'}
{'sequence': 'final class RETokenOneOf extends REToken private Vector options private boolean negative RETokenOneOf int subIndex String optionsStr boolean negative boolean insens super subIndex options new Vector this negative negative for int optionsStr length options addElement new RETokenChar subIndex optionsStr charAt insens RETokenOneOf int subIndex Vector options boolean negative super subIndex this options options this negative negative int getMinimumLength int min Integer MAX_VALUE int for int options size if REToken options elementAt getMinimumLength min min return min boolean match CharIndexed input REMatch mymatch if negative input charAt mymatch index CharIndexed OUT_OF_BOUNDS return false REMatch newMatch null REMatch last null REToken tk boolean isMatch for int options size tk REToken options elementAt REMatch tryMatch REMatch mymatch clone if negative return false if next input tryMatch if last null newMatch tryMatch last tryMatch else last next tryMatch last tryMatch if newMatch null if negative return false else mymatch assignFrom newMatch return true else if negative mymatch index return next input mymatch else return false void dump StringBuffer os os append negative for int options size if negative os append REToken options elementAt dumpAll os os append negative', 'bug': '0'}
{'sequence': 'class BSHArrayDimensions extends SimpleNode public Class baseType private int arrayDims public int dimensions BSHArrayDimensions int id super id public void addArrayDimension arrayDims public Object eval Class type CallStack callstack Interpreter interpreter throws EvalError Interpreter debug type baseType type return eval callstack interpreter public Object eval CallStack callstack Interpreter interpreter throws EvalError SimpleNode child SimpleNode jjtGetChild if child instanceof BSHArrayInitializer if baseType null throw new EvalError this Object initValue BSHArrayInitializer child eval baseType arrayDims callstack interpreter Class arrayClass initValue getClass dimensions new int Reflect getArrayDimensions arrayClass if dimensions length arrayDims throw new EvalError arrayDims dimensions length this Object arraySlice initValue for int dimensions length dimensions Array getLength arraySlice if dimensions arraySlice Array get arraySlice return initValue else dimensions new int jjtGetNumChildren for int dimensions length try Object length SimpleNode jjtGetChild eval callstack interpreter dimensions Primitive length intValue catch Exception throw new EvalError this return Primitive VOID', 'bug': '0'}
{'sequence': 'class CharIndexedString implements CharIndexed Serializable private String private int anchor private int len CharIndexedString String str int index str len length anchor index public char charAt int index int pos anchor index return pos len pos charAt pos OUT_OF_BOUNDS public boolean isValid return anchor len public boolean move int index return anchor index len', 'bug': '0'}
{'sequence': 'public interface DockableWindowContainer void addDockableWindow DockableWindow win void saveDockableWindow DockableWindow win void removeDockableWindow DockableWindow win void showDockableWindow DockableWindow win boolean isDockableWindowVisible DockableWindow win public class TabbedPane extends JTabbedPane implements DockableWindowContainer public static final int SPLITTER_WIDTH String position int dimension boolean collapsed public TabbedPane String position this position position try dimension Integer parseInt jEdit getProperty position catch NumberFormatException nf dimension if dimension SPLITTER_WIDTH collapsed true collapsed jEdit getBooleanProperty position MouseHandler mouseHandler new MouseHandler addMouseListener mouseHandler addMouseMotionListener mouseHandler propertiesChanged public boolean isCollapsed return getComponentCount collapsed public void setCollapsed boolean collapsed if getComponentCount return if dimension SPLITTER_WIDTH dimension this collapsed collapsed revalidate public void toggleCollapsed setCollapsed collapsed public void saveDimension jEdit setProperty position String valueOf dimension jEdit setBooleanProperty position collapsed public void propertiesChanged setBorder new DockBorder position int tabsPos Integer parseInt jEdit getProperty if tabsPos setTabPlacement JTabbedPane TOP else if tabsPos setTabPlacement JTabbedPane BOTTOM public Dimension getMinimumSize return new Dimension public Dimension getPreferredSize if getComponentCount return new Dimension Dimension prefSize super getPreferredSize if collapsed if position equals DockableWindowManager LEFT position equals DockableWindowManager RIGHT prefSize width SPLITTER_WIDTH else if position equals DockableWindowManager TOP position equals DockableWindowManager BOTTOM prefSize height SPLITTER_WIDTH else if dimension SPLITTER_WIDTH if position equals DockableWindowManager LEFT position equals DockableWindowManager RIGHT dimension prefSize width else if position equals DockableWindowManager TOP position equals DockableWindowManager BOTTOM dimension prefSize height else if position equals DockableWindowManager LEFT position equals DockableWindowManager RIGHT prefSize width dimension else if position equals DockableWindowManager TOP position equals DockableWindowManager BOTTOM prefSize height dimension return prefSize public void addDockableWindow DockableWindow win addTab jEdit getProperty win getName win getComponent setSelectedComponent win getComponent collapsed false revalidate public void saveDockableWindow DockableWindow win public void removeDockableWindow DockableWindow win remove win getComponent revalidate public void showDockableWindow DockableWindow win setSelectedComponent win getComponent if collapsed collapsed false revalidate win getComponent requestFocus public boolean isDockableWindowVisible DockableWindow win return collapsed class MouseHandler extends MouseAdapter implements MouseMotionListener boolean canDrag int dragStartDimension Point dragStart public void mousePressed MouseEvent evt dragStartDimension dimension dragStart evt getPoint dragStart getWidth dragStart dragStart getHeight dragStart public void mouseClicked MouseEvent evt if evt getClickCount setCollapsed isCollapsed public void mouseMoved MouseEvent evt Border border getBorder Insets insets border getBorderInsets TabbedPane this int cursor Cursor DEFAULT_CURSOR canDrag false if position equals DockableWindowManager TOP if evt getY getHeight insets bottom cursor Cursor N_RESIZE_CURSOR canDrag true else if position equals DockableWindowManager LEFT if evt getX getWidth insets right cursor Cursor W_RESIZE_CURSOR canDrag true else if position equals DockableWindowManager BOTTOM if evt getY insets top cursor Cursor S_RESIZE_CURSOR canDrag true else if position equals DockableWindowManager RIGHT if evt getX insets left cursor Cursor E_RESIZE_CURSOR canDrag true setCursor Cursor getPredefinedCursor cursor public void mouseDragged MouseEvent evt if canDrag return return if position equals DockableWindowManager TOP dimension evt getY dragStart else if position equals DockableWindowManager LEFT dimension evt getX dragStart else if position equals DockableWindowManager BOTTOM else if position equals DockableWindowManager RIGHT dimension Math max SPLITTER_WIDTH dimension if dimension SPLITTER_WIDTH dimension dragStartDimension collapsed true else collapsed false revalidate public void mouseExited MouseEvent evt setCursor Cursor getPredefinedCursor Cursor DEFAULT_CURSOR static class DockBorder implements Border String position Insets insets Color color1 Color color2 Color color3 DockBorder String position if UIManager getLookAndFeel instanceof MetalLookAndFeel color1 MetalLookAndFeel getControlHighlight color2 MetalLookAndFeel getControlDarkShadow color3 MetalLookAndFeel getControl else color1 color2 null color3 GUIUtilities parseColor jEdit getProperty this position position insets new Insets position equals DockableWindowManager BOTTOM SPLITTER_WIDTH position equals DockableWindowManager RIGHT SPLITTER_WIDTH position equals DockableWindowManager TOP SPLITTER_WIDTH position equals DockableWindowManager LEFT SPLITTER_WIDTH public void paintBorder Component Graphics int int int width int height if position equals DockableWindowManager BOTTOM paintHorizBorder width else if position equals DockableWindowManager RIGHT paintVertBorder height else if position equals DockableWindowManager TOP paintHorizBorder height SPLITTER_WIDTH width else if position equals DockableWindowManager LEFT paintVertBorder width SPLITTER_WIDTH height public Insets getBorderInsets Component return insets public boolean isBorderOpaque return false private void paintHorizBorder Graphics int int int width setColor color3 fillRect width SPLITTER_WIDTH if color1 null color2 null return for int width setColor color1 drawLine setColor color2 drawLine setColor color1 drawLine setColor color2 drawLine private void paintVertBorder Graphics int int int height setColor color3 fillRect SPLITTER_WIDTH height if color1 null color2 null return for int height setColor color1 drawLine setColor color2 drawLine setColor color1 drawLine setColor color2 drawLine public class Floating extends JFrame implements DockableWindowContainer public Floating DockableWindowManager dockableWindowManager this dockableWindowManager dockableWindowManager setIconImage GUIUtilities getPluginIcon setDefaultCloseOperation DISPOSE_ON_CLOSE public void addDockableWindow DockableWindow window this window window name window getName setTitle jEdit getProperty name getContentPane add BorderLayout CENTER window getComponent pack GUIUtilities loadGeometry this name show public void saveDockableWindow DockableWindow window GUIUtilities saveGeometry this name public void removeDockableWindow DockableWindow window super dispose public void showDockableWindow DockableWindow window toFront requestFocus public boolean isDockableWindowVisible DockableWindow win return true public void dispose dockableWindowManager removeDockableWindow name private DockableWindowManager dockableWindowManager private DockableWindow window private String name', 'bug': '0'}
{'sequence': 'class TextRendererAWT extends TextRenderer float char text int start int len Graphics float float drawChars text start len int int return float getFontMetrics charsWidth text start len float char text int start int len Font font return float Toolkit getDefaultToolkit getFontMetrics font charsWidth text start len int char text int start int len Font font float boolean round int end start len FontMetrics fm Toolkit getDefaultToolkit getFontMetrics font int width for int start end int newWidth fm charWidth text if width newWidth if round width width newWidth return start else return start else width newWidth return', 'bug': '0'}
{'sequence': 'public abstract class EditPlugin public String getClassName return getClass getName public void start public void stop public void createMenuItems Vector menuItems public void createMenuItems View view Vector menus Vector menuItems public void createOptionPanes OptionsDialog optionsDialog public EditPlugin JAR getJAR return jar public static class Broken extends EditPlugin public String getClassName return clazz Broken String clazz this clazz clazz private String clazz public static class JAR public String getPath return path public JARClassLoader getClassLoader return classLoader public void addPlugin EditPlugin plugin plugin jar JAR this plugins addElement plugin plugin start public EditPlugin getPlugins EditPlugin array new EditPlugin plugins size plugins copyInto array return array public JAR String path JARClassLoader classLoader this path path this classLoader classLoader plugins new Vector void getPlugins Vector vector for int plugins size vector addElement plugins elementAt private String path private JARClassLoader classLoader private Vector plugins private EditPlugin JAR jar', 'bug': '1'}
{'sequence': 'class BSHLHSPrimarySuffix extends SimpleNode public static final int INDEX NAME PROPERTY public String field public String method BSHLHSPrimarySuffix int id super id public LHS doLHSSuffix Object obj CallStack callstack Interpreter interpreter throws EvalError try switch operation case INDEX return doIndex obj callstack interpreter case NAME return doName obj callstack interpreter case PROPERTY return doProperty obj callstack interpreter default throw new InterpreterError catch ReflectError throw new EvalError this catch InvocationTargetException throw new TargetError getTargetException this private LHS doName Object obj CallStack callstack Interpreter interpreter throws EvalError ReflectError InvocationTargetException if jjtGetNumChildren return Reflect getLHSObjectField obj field else Object oa BSHArguments jjtGetChild getArguments callstack interpreter try obj Reflect invokeObjectMethod interpreter obj method oa this catch EvalError ee throw new EvalError ee getMessage this return Reflect getLHSObjectField obj field private LHS doIndex Object obj CallStack callstack Interpreter interpreter throws EvalError ReflectError if obj getClass isArray throw new EvalError this int index try Primitive val Primitive SimpleNode jjtGetChild eval callstack interpreter index val intValue catch Exception throw new EvalError this return new LHS obj index private LHS doProperty Object obj CallStack callstack Interpreter interpreter throws EvalError ReflectError if obj Primitive VOID throw new EvalError this else if obj instanceof Primitive throw new EvalError this Object value SimpleNode jjtGetChild eval callstack interpreter if value instanceof String throw new EvalError this Interpreter debug return new LHS obj String value', 'bug': '0'}
{'sequence': 'public class VFSBrowser extends JPanel implements EBComponent DockableWindow public static final String NAME public static final int OPEN_DIALOG public static final int SAVE_DIALOG public static final int BROWSER public VFSBrowser View view String path this view path BROWSER false public VFSBrowser View view String path int mode boolean multipleSelection super new BorderLayout listenerList new EventListenerList this mode mode this multipleSelection multipleSelection this view view ActionHandler actionHandler new ActionHandler Box topBox new Box BoxLayout Y_AXIS topBox add createToolBar GridBagLayout layout new GridBagLayout JPanel pathAndFilterPanel new JPanel layout GridBagConstraints cons new GridBagConstraints cons gridwidth cons gridheight cons gridx cons gridy cons fill GridBagConstraints BOTH cons anchor GridBagConstraints EAST JLabel label new JLabel jEdit getProperty SwingConstants RIGHT label setBorder new EmptyBorder layout setConstraints label cons pathAndFilterPanel add label pathField new HistoryTextField true false Dimension prefSize pathField getPreferredSize prefSize width pathField setPreferredSize prefSize pathField addActionListener actionHandler cons gridx cons weightx layout setConstraints pathField cons pathAndFilterPanel add pathField filterCheckbox new JCheckBox jEdit getProperty filterCheckbox setMargin new Insets filterCheckbox setRequestFocusEnabled false filterCheckbox setBorder new EmptyBorder filterCheckbox setSelected mode BROWSER jEdit getBooleanProperty filterCheckbox setForeground new Color UIManager getColor getRGB filterCheckbox addActionListener actionHandler cons gridx cons weightx cons gridy layout setConstraints filterCheckbox cons pathAndFilterPanel add filterCheckbox filterField new HistoryTextField true filterField addActionListener actionHandler cons gridx cons weightx layout setConstraints filterField cons pathAndFilterPanel add filterField topBox add pathAndFilterPanel add BorderLayout NORTH topBox add BorderLayout CENTER browserView new BrowserView this propertiesChanged HistoryModel filterModel HistoryModel getModel String filter if mode BROWSER view null jEdit getBooleanProperty filter jEdit getProperty if filter null filter jEdit getProperty else String name view getBuffer getName int index name lastIndexOf if index filter jEdit getProperty else String ext name substring index filter ext filterField setText filter filterField addCurrentToHistory updateFilterEnabled if path null String defaultPath jEdit getProperty String userHome System getProperty if defaultPath equals path userHome else if defaultPath equals if view null Buffer buffer view getBuffer path buffer getVFS getParentOfPath buffer getPath else path userHome else if defaultPath equals HistoryModel pathModel HistoryModel getModel if pathModel getSize path userHome else path pathModel getItem else if defaultPath equals path else path userHome setDirectory path public void addNotify super addNotify EditBus addToBus this public void removeNotify super removeNotify jEdit setBooleanProperty filterCheckbox isSelected if mode BROWSER jEdit getBooleanProperty jEdit setProperty filterField getText EditBus removeFromBus this public String getName return NAME public Component getComponent return this public void handleMessage EBMessage msg if msg instanceof ViewUpdate handleViewUpdate ViewUpdate msg else if msg instanceof BufferUpdate handleBufferUpdate BufferUpdate msg else if msg instanceof PropertiesChanged propertiesChanged else if msg instanceof VFSUpdate if requestRunning return browserView reloadDirectory VFSUpdate msg getPath public String getDirectory return path public void setDirectory String path if path length path endsWith path endsWith java io File separator path path substring path length if path startsWith path path substring this path path pathField setText path pathField addCurrentToHistory reloadDirectory public void reloadDirectory try String filter filterField getText if filter length filter filenameFilter new RE MiscUtilities globToRE filter RE REG_ICASE catch Exception Log log Log ERROR VFSBrowser this String args filterField getText getMessage GUIUtilities error VFSBrowser this args loadDirectory path public void loadDirectory String path VFS vfs VFSManager getVFSForPath path Object session vfs createVFSSession path this if session null return if startRequest return VFSManager runInWorkThread new BrowserIORequest BrowserIORequest LIST_DIRECTORY this session vfs path null public void delete String path if MiscUtilities isURL path FavoritesVFS PROTOCOL equals MiscUtilities getProtocolOfURL path Object args path substring FavoritesVFS PROTOCOL length int result GUIUtilities confirm this args JOptionPane YES_NO_OPTION JOptionPane WARNING_MESSAGE if result JOptionPane YES_OPTION return else Object args path int result GUIUtilities confirm this args JOptionPane YES_NO_OPTION JOptionPane WARNING_MESSAGE if result JOptionPane YES_OPTION return VFS vfs VFSManager getVFSForPath path Object session vfs createVFSSession path this if session null return if startRequest return VFSManager runInWorkThread new BrowserIORequest BrowserIORequest DELETE this session vfs path null public void rename String from VFS vfs VFSManager getVFSForPath from String filename vfs getFileName from String args filename String to GUIUtilities input this args filename if to null return to vfs constructPath vfs getParentOfPath from to Object session vfs createVFSSession from this if session null return if startRequest return VFSManager runInWorkThread new BrowserIORequest BrowserIORequest RENAME this session vfs from to public void mkdir String newDirectory GUIUtilities input this null if newDirectory null return VFS DirectoryEntry selected getSelectedFiles String parent if selected length parent path else if selected type VFS DirectoryEntry FILE parent selected path parent VFSManager getVFSForPath parent getParentOfPath parent else parent selected path VFS vfs VFSManager getVFSForPath parent newDirectory vfs constructPath parent newDirectory Object session vfs createVFSSession newDirectory this if session null return if startRequest return VFSManager runInWorkThread new BrowserIORequest BrowserIORequest MKDIR this session vfs newDirectory null public View getView return view public int getMode return mode public boolean isMultipleSelectionEnabled return multipleSelection public boolean getShowHiddenFiles return showHiddenFiles public void setShowHiddenFiles boolean showHiddenFiles this showHiddenFiles showHiddenFiles public String getFilenameFilter if filterCheckbox isSelected String filter filterField getText if filter length return else return filter else return public void setFilenameFilter String filter if filter null filter length filter equals filterCheckbox setSelected false else filterCheckbox setSelected true filterField setText filter public BrowserView getBrowserView return browserView public VFS DirectoryEntry getSelectedFiles return browserView getSelectedFiles public void addBrowserListener BrowserListener listenerList add BrowserListener class public void removeBrowserListener BrowserListener listenerList remove BrowserListener class void directoryLoaded final VFS DirectoryEntry list SwingUtilities invokeLater new Runnable public void run boolean filterEnabled filterCheckbox isSelected Vector directoryVector new Vector if list null browserView directoryLoaded directoryVector return for int list length VFS DirectoryEntry file list if file hidden showHiddenFiles continue if file type VFS DirectoryEntry FILE filterEnabled filenameFilter null filenameFilter isMatch file name continue directoryVector addElement file if sortFiles MiscUtilities quicksort directoryVector new FileCompare browserView directoryLoaded directoryVector class FileCompare implements MiscUtilities Compare public int compare Object obj1 Object obj2 VFS DirectoryEntry file1 VFS DirectoryEntry obj1 VFS DirectoryEntry file2 VFS DirectoryEntry obj2 if sortMixFilesAndDirs if file1 type file2 type return file2 type file1 type if sortIgnoreCase return file1 name toLowerCase compareTo file2 name toLowerCase else return file1 name compareTo file2 name void filesSelected VFS DirectoryEntry selectedFiles browserView getSelectedFiles if mode BROWSER for int selectedFiles length VFS DirectoryEntry file selectedFiles Buffer buffer jEdit getBuffer file path if buffer null view null view setBuffer buffer Object listeners listenerList getListenerList for int listeners length if listeners BrowserListener class BrowserListener BrowserListener listeners filesSelected this selectedFiles void filesActivated VFS DirectoryEntry selectedFiles browserView getSelectedFiles for int selectedFiles length VFS DirectoryEntry file selectedFiles if file type VFS DirectoryEntry DIRECTORY file type VFS DirectoryEntry FILESYSTEM setDirectory file path else if mode BROWSER Buffer buffer jEdit getBuffer file path if buffer null buffer jEdit openFile null file path else if doubleClickClose jEdit closeBuffer view buffer break if buffer null if view null view jEdit newView null buffer else view setBuffer buffer else Object listeners listenerList getListenerList for int listeners length if listeners BrowserListener class BrowserListener BrowserListener listeners filesActivated this selectedFiles void endRequest requestRunning false private EventListenerList listenerList private View view private String path private HistoryTextField pathField private JCheckBox filterCheckbox private HistoryTextField filterField private JButton up reload roots home synchronize private BrowserView browserView private RE filenameFilter private int mode private boolean multipleSelection private boolean showHiddenFiles private boolean sortFiles private boolean sortMixFilesAndDirs private boolean sortIgnoreCase private boolean doubleClickClose private boolean requestRunning private JToolBar createToolBar JToolBar toolBar new JToolBar toolBar setFloatable false toolBar putClientProperty Boolean TRUE toolBar add up createToolButton toolBar add new UpMenuButton up toolBar add reload createToolButton toolBar addSeparator toolBar add roots createToolButton toolBar add home createToolButton toolBar add synchronize createToolButton toolBar addSeparator toolBar add new MoreMenuButton toolBar add Box createGlue return toolBar private JButton createToolButton String name JButton button new JButton String prefix button setIcon GUIUtilities loadIcon jEdit getProperty prefix name button setToolTipText jEdit getProperty prefix name button setRequestFocusEnabled false button setMargin new Insets button addActionListener new ActionHandler return button private void handleViewUpdate ViewUpdate vmsg if vmsg getWhat ViewUpdate CLOSED vmsg getView view view null private void handleBufferUpdate BufferUpdate bmsg if bmsg getWhat BufferUpdate CREATED bmsg getWhat BufferUpdate CLOSED browserView updateFileView else if bmsg getWhat BufferUpdate DIRTY_CHANGED if bmsg getBuffer isDirty browserView updateFileView private void propertiesChanged showHiddenFiles jEdit getBooleanProperty sortFiles jEdit getBooleanProperty sortMixFilesAndDirs jEdit getBooleanProperty sortIgnoreCase jEdit getBooleanProperty doubleClickClose jEdit getBooleanProperty browserView propertiesChanged if path null reloadDirectory private boolean startRequest if requestRunning Log log Log DEBUG this new Throwable GUIUtilities error this null return false else requestRunning true return true private void updateFilterEnabled filterField setEnabled filterCheckbox isSelected class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source pathField source filterField source filterCheckbox updateFilterEnabled String path pathField getText if path null setDirectory path else if source up VFS vfs VFSManager getVFSForPath path setDirectory vfs getParentOfPath path else if source reload reloadDirectory else if source roots setDirectory FileRootsVFS PROTOCOL else if source home setDirectory System getProperty else if source synchronize if view null Buffer buffer view getBuffer setDirectory buffer getVFS getParentOfPath buffer getPath else getToolkit beep class UpMenuButton extends JButton UpMenuButton JButton upButton this upButton upButton setIcon GUIUtilities loadIcon jEdit getProperty UpMenuButton this setToolTipText jEdit getProperty UpMenuButton this setRequestFocusEnabled false setMargin new Insets UpMenuButton this addMouseListener new MouseHandler private JButton upButton private JPopupMenu popup private void createPopup popup new JPopupMenu ActionHandler actionHandler new ActionHandler VFS vfs VFSManager getVFSForPath path String dir vfs getParentOfPath path for JMenuItem menuItem new JMenuItem dir menuItem addActionListener actionHandler popup add menuItem String parentDir vfs getParentOfPath dir if parentDir equals dir break else dir parentDir class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt setDirectory evt getActionCommand class MouseHandler extends MouseAdapter public void mousePressed MouseEvent evt if popup null popup isVisible createPopup popup show upButton upButton getHeight else popup setVisible false popup null class MoreMenuButton extends JButton MoreMenuButton setText jEdit getProperty setIcon GUIUtilities loadIcon jEdit getProperty setHorizontalTextPosition SwingConstants LEFT MoreMenuButton this setRequestFocusEnabled false setMargin new Insets MoreMenuButton this addMouseListener new MouseHandler JPopupMenu popup class MouseHandler extends MouseAdapter public void mousePressed MouseEvent evt if popup null popup isVisible popup new BrowserPopupMenu VFSBrowser this null popup show MoreMenuButton this MoreMenuButton this getHeight else popup setVisible false popup null', 'bug': '1'}
{'sequence': 'public class DockingOptionPane extends AbstractOptionPane public DockingOptionPane super public void Box box new Box BoxLayout X_AXIS ButtonGroup grp new ButtonGroup layout1 new JToggleButton GUIUtilities loadIcon grp add layout1 box add layout1 box add Box createHorizontalStrut layout2 new JToggleButton GUIUtilities loadIcon grp add layout2 box add layout2 if jEdit getBooleanProperty layout2 setSelected true else layout1 setSelected true addComponent jEdit getProperty box String positions jEdit getProperty jEdit getProperty tabsPos new JComboBox positions tabsPos setSelectedIndex Integer parseInt jEdit getProperty addComponent jEdit getProperty tabsPos addComponent Box createVerticalStrut GridBagConstraints cons new GridBagConstraints cons gridy cons gridwidth cons gridheight GridBagConstraints REMAINDER cons fill GridBagConstraints BOTH cons weightx cons weighty JScrollPane windowScroller createWindowTableScroller gridBag setConstraints windowScroller cons add windowScroller public void jEdit setBooleanProperty layout2 isSelected jEdit setProperty String valueOf tabsPos getSelectedIndex windowModel save private JToggleButton layout1 private JToggleButton layout2 private JComboBox tabsPos private JTable windowTable private WindowTableModel windowModel private JScrollPane createWindowTableScroller windowModel createWindowModel windowTable new JTable windowModel windowTable getTableHeader setReorderingAllowed false windowTable setColumnSelectionAllowed false windowTable setRowSelectionAllowed false windowTable setCellSelectionEnabled false DockPositionCellRenderer comboBox new DockPositionCellRenderer comboBox setRequestFocusEnabled false windowTable setRowHeight comboBox getPreferredSize height TableColumn column windowTable getColumnModel getColumn column setCellRenderer comboBox comboBox new DockPositionCellRenderer comboBox setRequestFocusEnabled false column setCellEditor new DefaultCellEditor comboBox Dimension windowTable getPreferredSize height Math min height JScrollPane scroller new JScrollPane windowTable scroller setPreferredSize return scroller private WindowTableModel createWindowModel return new WindowTableModel class DockPositionCellRenderer extends JComboBox implements TableCellRenderer DockPositionCellRenderer super new String DockableWindowManager FLOATING DockableWindowManager TOP DockableWindowManager LEFT DockableWindowManager BOTTOM DockableWindowManager RIGHT public Component getTableCellRendererComponent JTable table Object value boolean isSelected boolean hasFocus int row int column setSelectedItem value return this class WindowTableModel extends AbstractTableModel private Vector windows WindowTableModel Object list EditBus getNamedList DockableWindow DOCKABLE_WINDOW_LIST windows new Vector list length for int list length windows addElement new Entry String list sort public void sort MiscUtilities quicksort windows new WindowCompare fireTableDataChanged public int getColumnCount return public int getRowCount return windows size public Class getColumnClass int col switch col case case return String class case return Boolean class default throw new InternalError public Object getValueAt int row int col Entry window Entry windows elementAt row switch col case return window title case return window dockPosition case return new Boolean window autoOpen default throw new InternalError public boolean isCellEditable int row int col return col public void setValueAt Object value int row int col if col return Entry window Entry windows elementAt row switch col case window dockPosition String value break case window autoOpen Boolean value booleanValue break default throw new InternalError fireTableRowsUpdated row row public String getColumnName int index switch index case return jEdit getProperty case return jEdit getProperty case return jEdit getProperty default throw new InternalError public void save for int windows size Entry windows elementAt save class Entry String name String title String dockPosition boolean autoOpen Entry String name this name name title jEdit getProperty name if title null title name dockPosition jEdit getProperty name if dockPosition null dockPosition DockableWindowManager FLOATING autoOpen jEdit getBooleanProperty name void save jEdit setProperty name dockPosition jEdit setBooleanProperty name autoOpen class WindowCompare implements MiscUtilities Compare public int compare Object obj1 Object obj2 Entry e1 Entry obj1 Entry e2 Entry obj2 return e1 title compareTo e2 title', 'bug': '1'}
{'sequence': 'public class Interpreter public static final String VERSION public static boolean DEBUG TRACE static PrintStream debug static staticInit static This systemObject public static boolean strictJava false Parser parser NameSpace globalNameSpace Reader in PrintStream out PrintStream err ConsoleInterface console Interpreter parent String sourceFileInfo public boolean noExitOnEOF private boolean public Interpreter Reader in PrintStream out PrintStream err boolean interactive NameSpace namespace Interpreter parent String sourceFileInfo parser new Parser in long t1 System currentTimeMillis this in in this out out this err err this interactive interactive debug err this parent parent this sourceFileInfo sourceFileInfo if namespace null this globalNameSpace new NameSpace else this globalNameSpace namespace globalNameSpace loadDefaultImports if getu instanceof bsh This initRootSystemObject if interactive loadRCFiles long t2 System currentTimeMillis Interpreter debug t2 t1 public Interpreter Reader in PrintStream out PrintStream err boolean interactive NameSpace namespace this in out err interactive namespace null null public Interpreter Reader in PrintStream out PrintStream err boolean interactive this in out err interactive null public Interpreter ConsoleInterface console NameSpace globalNameSpace this console getIn console getOut console getErr true globalNameSpace setConsole console public Interpreter ConsoleInterface console this console null public Interpreter this new StringReader System out System err false null evalOnly true setu new Primitive true public void setConsole ConsoleInterface console this console console setu console private void initRootSystemObject setu new NameSpace getThis this if systemObject null systemObject new NameSpace getThis this setu systemObject This helpText new NameSpace getThis this setu helpText try setu System getProperty catch SecurityException setu setu new Primitive interactive setu new Primitive evalOnly public void setNameSpace NameSpace globalNameSpace this globalNameSpace globalNameSpace public NameSpace getNameSpace return globalNameSpace public static void main String args if args length String filename args String bshArgs if args length bshArgs new String args length System arraycopy args bshArgs args length else bshArgs new String Interpreter interpreter new Interpreter interpreter setu bshArgs try interpreter source filename interpreter globalNameSpace catch FileNotFoundException System out println catch EvalError System out println catch IOException System out println else InputStream src if System getProperty startsWith System getProperty startsWith src new FilterInputStream System in public int available throws IOException return else src System in Reader in new CommandLineReader new InputStreamReader src Interpreter interpreter new Interpreter in System out System err true interpreter run public void run if evalOnly throw new RuntimeException if interactive try eval catch EvalError println VERSION boolean eof false CallStack callstack new CallStack callstack push globalNameSpace while eof try System out flush System err flush if interactive print eof Line SimpleNode node SimpleNode get_jjtree rootNode if DEBUG node dump Object ret node eval callstack this if callstack depth throw new InterpreterError callstack if ret instanceof ReturnControl ret ReturnControl ret value if ret Primitive VOID setVariable ret Object show getu if show instanceof Boolean Boolean show booleanValue true println ret catch ParseException error getMessage DEBUG if DEBUG printStackTrace if interactive eof true parser reInitInput in catch InterpreterError error getMessage printStackTrace if interactive eof true catch TargetError if DEBUG printStackTrace if interactive eof true catch EvalError if interactive error toString else error getMessage if DEBUG printStackTrace if interactive eof true catch Exception error printStackTrace if interactive eof true catch TokenMgrError error parser reInitTokenInput in if interactive eof true finally get_jjtree reset if callstack depth callstack clear callstack push globalNameSpace if interactive noExitOnEOF System exit public Object source String filename NameSpace nameSpace throws FileNotFoundException IOException EvalError File file pathToFile filename debug file Reader in new BufferedReader new FileReader file return eval in nameSpace filename public Object source String filename throws FileNotFoundException IOException EvalError return source filename globalNameSpace public Object eval Reader in NameSpace nameSpace String sourceFileInfo throws EvalError Object retVal null debug nameSpace Interpreter localInterpreter new Interpreter in out err false nameSpace this sourceFileInfo CallStack callstack new CallStack callstack push nameSpace boolean eof false while eof SimpleNode node null try eof localInterpreter Line if localInterpreter get_jjtree nodeArity node SimpleNode localInterpreter get_jjtree rootNode node setSourceFile sourceFileInfo if TRACE retVal node eval callstack localInterpreter if callstack depth throw new InterpreterError callstack if retVal instanceof ReturnControl retVal ReturnControl retVal value catch ParseException throw new EvalError sourceFileInfo getMessage DEBUG node catch InterpreterError printStackTrace throw new EvalError sourceFileInfo getMessage node catch TargetError if DEBUG printStackTrace if getNode null setNode node reThrow sourceFileInfo catch EvalError if DEBUG printStackTrace if getNode null setNode node reThrow sourceFileInfo catch Exception printStackTrace throw new EvalError sourceFileInfo getMessage node catch TokenMgrError throw new EvalError sourceFileInfo getMessage node finally localInterpreter get_jjtree reset if callstack depth callstack clear callstack push nameSpace return Primitive unwrap retVal public Object eval Reader in throws EvalError return eval in globalNameSpace public Object eval String statement throws EvalError return eval statement globalNameSpace public Object eval String statement NameSpace nameSpace throws EvalError String statement endsWith statement statement return eval new StringReader nameSpace public final void error String if console null else err flush public Reader getIn return in public PrintStream getOut return out public PrintStream getErr return err public final void println String print public final void print String if console null console print else out print out flush public final static void debug String if DEBUG public Object get String name throws EvalError Object ret globalNameSpace get name this return Primitive unwrap ret Object getu String name try return get name catch EvalError throw new InterpreterError public void set String name Object value throws EvalError if value null value Primitive NULL CallStack callstack new CallStack LHS lhs globalNameSpace getNameResolver name toLHS callstack this lhs assign value void setu String name Object value try set name value catch EvalError throw new InterpreterError public void set String name long value throws EvalError set name new Primitive value public void set String name int value throws EvalError set name new Primitive value public void set String name double value throws EvalError set name new Primitive value public void set String name float value throws EvalError set name new Primitive value public void set String name boolean value throws EvalError set name new Primitive value public void unset String name throws EvalError CallStack callstack new CallStack LHS lhs globalNameSpace getNameResolver name toLHS callstack this if lhs type LHS VARIABLE throw new EvalError name lhs assign null public Object getVariable String name Object obj globalNameSpace getVariable name return Primitive unwrap obj public void setVariable String name Object value try globalNameSpace setVariable name value catch EvalError error toString public void setVariable String name int value try globalNameSpace setVariable name new Primitive value catch EvalError error toString public void setVariable String name float value try globalNameSpace setVariable name new Primitive value catch EvalError error toString public void setVariable String name boolean value try globalNameSpace setVariable name new Primitive value catch EvalError error toString private JJTParserState get_jjtree return parser jjtree private ASCII_UCodeESC_CharStream get_jj_input_stream return parser jj_input_stream private boolean Line throws ParseException return parser Line void loadRCFiles try String rcfile System getProperty File separator source rcfile globalNameSpace catch Exception debug public File pathToFile String fileName throws IOException File file new File fileName if file isAbsolute String cwd String getu file new File cwd File separator fileName return new File file getCanonicalPath public static void redirectOutputToFile String filename try PrintStream pout new PrintStream new FileOutputStream filename System setOut pout System setErr pout catch IOException System err println filename public void setClassLoader ClassLoader externalCL BshClassManager setClassLoader externalCL static void staticInit try debug System err DEBUG Boolean getBoolean TRACE Boolean getBoolean String outfilename System getProperty if outfilename null redirectOutputToFile outfilename catch SecurityException System err println catch Exception System err println catch Throwable System err println public String getSourceFileInfo if sourceFileInfo null return sourceFileInfo else return public Interpreter getParent return parent', 'bug': '0'}
{'sequence': 'public class HelpViewer extends JFrame implements EBComponent public static void gotoURL URL url new HelpViewer url toString public HelpViewer URL url this url toString public HelpViewer String url super jEdit getProperty setIconImage GUIUtilities getEditorIcon history new String nodes new Hashtable ActionHandler actionListener new ActionHandler JToolBar toolBar new JToolBar toolBar setFloatable false toolBar putClientProperty Boolean TRUE JLabel label new JLabel jEdit getProperty label setBorder new EmptyBorder toolBar add label Box box new Box BoxLayout Y_AXIS box add Box createGlue urlField new JTextField urlField addKeyListener new KeyHandler Dimension dim urlField getPreferredSize dim width Integer MAX_VALUE urlField setMaximumSize dim box add urlField box add Box createGlue toolBar add box toolBar add Box createHorizontalStrut JPanel buttons new JPanel buttons setLayout new BoxLayout buttons BoxLayout X_AXIS buttons setBorder new EmptyBorder back new JButton GUIUtilities loadIcon back setToolTipText jEdit getProperty back addActionListener actionListener back setRequestFocusEnabled false toolBar add back forward new JButton GUIUtilities loadIcon forward addActionListener actionListener forward setToolTipText jEdit getProperty forward setRequestFocusEnabled false toolBar add forward back setPreferredSize forward getPreferredSize getContentPane add BorderLayout NORTH toolBar createTOC toc new TOCTree tocModel toc putClientProperty toc setCellRenderer new TOCCellRenderer toc setEditable false toc setRootVisible false toc setShowsRootHandles true viewer new JEditorPane viewer setEditable false viewer addHyperlinkListener new LinkHandler viewer setFont new Font Font PLAIN JSplitPane splitter new JSplitPane JSplitPane HORIZONTAL_SPLIT new JScrollPane toc new JScrollPane viewer splitter setBorder null getContentPane add BorderLayout CENTER splitter gotoURL url true setDefaultCloseOperation DISPOSE_ON_CLOSE setSize GUIUtilities loadGeometry this EditBus addToBus this show public void gotoURL String url boolean addToHistory viewer setCursor Cursor getDefaultCursor int index url indexOf URL null try new URL url urlField setText toString viewer setPage if addToHistory history historyPos url if historyPos history length System arraycopy history history history length history historyPos null else historyPos catch MalformedURLException mf Log log Log ERROR this mf String args url mf getMessage GUIUtilities error this args return catch IOException io Log log Log ERROR this io String args url io toString GUIUtilities error this args return index url lastIndexOf if index url url substring index DefaultMutableTreeNode node DefaultMutableTreeNode nodes get url if node null return TreePath path new TreePath tocModel getPathToRoot node toc expandPath path toc setSelectionPath path toc scrollPathToVisible path public void dispose EditBus removeFromBus this GUIUtilities saveGeometry this super dispose public void handleMessage EBMessage msg if msg instanceof PropertiesChanged SwingUtilities updateComponentTreeUI getRootPane private JButton back private JButton forward private DefaultTreeModel tocModel private JTree toc private Hashtable nodes private JEditorPane viewer private JTextField urlField private String history private int historyPos private void createTOC DefaultMutableTreeNode root new DefaultMutableTreeNode root add createNode jEdit getProperty root add createNode jEdit getProperty root add createNode jEdit getProperty root add createNode jEdit getProperty root add createNode jEdit getProperty root add createNode jEdit getProperty root add createNode jEdit getProperty loadUserGuideTOC root DefaultMutableTreeNode pluginDocs new DefaultMutableTreeNode jEdit getProperty true EditPlugin plugins jEdit getPlugins for int plugins length EditPlugin plugin plugins EditPlugin JAR jar plugin getJAR if jar null continue String name plugin getClassName String docs jEdit getProperty name String label jEdit getProperty name if docs null if label null docs null URL url jar getClassLoader getResource docs if url null pluginDocs add createNode url toString label root add pluginDocs tocModel new DefaultTreeModel root private void loadUserGuideTOC DefaultMutableTreeNode root URL resource getClass getResource if resource null return TOCHandler new TOCHandler root XmlParser parser new XmlParser parser setHandler try parser parse null null new InputStreamReader resource openStream catch XmlException xe int line xe getLine String message xe getMessage Log log Log ERROR this line message catch Exception Log log Log ERROR this private DefaultMutableTreeNode createNode String href String title DefaultMutableTreeNode node new DefaultMutableTreeNode new HelpNode href title true nodes put href node return node static class HelpNode String href title HelpNode String href String title this href href this title title public String toString return title class TOCHandler extends HandlerBase TOCHandler DefaultMutableTreeNode root nodes new Stack node root public void attribute String aname String value boolean isSpecified if aname equals href value public void charData char int off int len if tag equals title new String off len public void startElement String name tag name public void endElement String name if name null return if name equals DefaultMutableTreeNode newNode createNode href title node add newNode nodes push node node newNode else if name equals node DefaultMutableTreeNode nodes pop private String tag private String title private String href private DefaultMutableTreeNode node private Stack nodes class TOCTree extends JTree TOCTree TreeModel model super model ToolTipManager sharedInstance registerComponent this public final String getToolTipText MouseEvent evt TreePath path getPathForLocation evt getX evt getY if path null Rectangle cellRect getPathBounds path if cellRect null cellRectIsVisible cellRect return path getLastPathComponent toString return null public final Point getToolTipLocation MouseEvent evt TreePath path getPathForLocation evt getX evt getY if path null Rectangle cellRect getPathBounds path if cellRect null cellRectIsVisible cellRect return new Point cellRect cellRect return null protected void processMouseEvent MouseEvent evt ToolTipManager ttm ToolTipManager sharedInstance switch evt getID case MouseEvent MOUSE_ENTERED toolTipInitialDelay ttm getInitialDelay toolTipReshowDelay ttm getReshowDelay ttm setInitialDelay ttm setReshowDelay super processMouseEvent evt break case MouseEvent MOUSE_EXITED ttm setInitialDelay toolTipInitialDelay ttm setReshowDelay toolTipReshowDelay super processMouseEvent evt break case MouseEvent MOUSE_CLICKED TreePath path getPathForLocation evt getX evt getY if path null if isPathSelected path setSelectionPath path Object obj DefaultMutableTreeNode path getLastPathComponent getUserObject if obj instanceof HelpNode toc expandPath path return HelpNode node HelpNode obj gotoURL node href true super processMouseEvent evt break default super processMouseEvent evt break private int toolTipInitialDelay private int toolTipReshowDelay private boolean cellRectIsVisible Rectangle cellRect Rectangle vr TOCTree this getVisibleRect return vr contains cellRect cellRect vr contains cellRect cellRect width cellRect cellRect height class TOCCellRenderer extends DefaultTreeCellRenderer EmptyBorder border new EmptyBorder public Component getTreeCellRendererComponent JTree tree Object value boolean sel boolean expanded boolean leaf int row boolean focus super getTreeCellRendererComponent tree value sel expanded leaf row focus setIcon null setBorder border return this class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source back if historyPos getToolkit beep else String url history historyPos gotoURL url false else if source forward if history length historyPos getToolkit beep else String url history historyPos if url null getToolkit beep else historyPos gotoURL url false class LinkHandler implements HyperlinkListener public void hyperlinkUpdate HyperlinkEvent evt if evt getEventType HyperlinkEvent EventType ACTIVATED if evt instanceof HTMLFrameHyperlinkEvent HTMLDocument viewer getDocument processHTMLFrameHyperlinkEvent HTMLFrameHyperlinkEvent evt else URL url evt getURL if url null gotoURL url toString true else if evt getEventType HyperlinkEvent EventType ENTERED viewer setCursor Cursor getPredefinedCursor Cursor HAND_CURSOR else if evt getEventType HyperlinkEvent EventType EXITED viewer setCursor Cursor getDefaultCursor class KeyHandler extends KeyAdapter public void keyPressed KeyEvent evt if evt getKeyCode KeyEvent VK_ENTER gotoURL urlField getText true', 'bug': '1'}
{'sequence': 'public class CreateDockableWindow extends EBMessage public CreateDockableWindow View view String name String position super view if name null throw new NullPointerException this name name this position position public View getView return View getSource public String getDockableWindowName return name public void setDockableWindow DockableWindow win this win win veto public DockableWindow getDockableWindow return win public String getPosition return position public String paramString return super paramString name position private String name private String position private DockableWindow win', 'bug': '0'}
{'sequence': 'public class EditingOptionPane extends AbstractOptionPane public EditingOptionPane super protected void Mode modes jEdit getModes String defaultModeString jEdit getProperty String modeNames new String modes length int index for int modes length Mode modes modeNames getName if defaultModeString equals getName index defaultMode new JComboBox modeNames defaultMode setSelectedIndex index addComponent jEdit getProperty defaultMode String tabSizes defaultTabSize new JComboBox tabSizes defaultTabSize setEditable true defaultTabSize setSelectedItem jEdit getProperty addComponent jEdit getProperty defaultTabSize defaultIndentSize new JComboBox tabSizes defaultIndentSize setEditable true defaultIndentSize setSelectedItem jEdit getProperty addComponent jEdit getProperty defaultIndentSize String lineLens defaultMaxLineLen new JComboBox lineLens defaultMaxLineLen setEditable true defaultMaxLineLen setSelectedItem jEdit getProperty addComponent jEdit getProperty defaultMaxLineLen defaultWordBreakChars new JTextField jEdit getProperty addComponent jEdit getProperty defaultWordBreakChars defaultCollapseFolds new JTextField jEdit getProperty addComponent jEdit getProperty defaultCollapseFolds undoCount new JTextField jEdit getProperty addComponent jEdit getProperty undoCount defaultSyntax new JCheckBox jEdit getProperty defaultSyntax setSelected jEdit getBooleanProperty addComponent defaultSyntax defaultIndentOnTab new JCheckBox jEdit getProperty defaultIndentOnTab setSelected jEdit getBooleanProperty addComponent defaultIndentOnTab defaultIndentOnEnter new JCheckBox jEdit getProperty defaultIndentOnEnter setSelected jEdit getBooleanProperty addComponent defaultIndentOnEnter defaultNoTabs new JCheckBox jEdit getProperty defaultNoTabs setSelected jEdit getBooleanProperty addComponent defaultNoTabs protected void jEdit setProperty String defaultMode getSelectedItem jEdit setProperty String defaultTabSize getSelectedItem jEdit setProperty String defaultIndentSize getSelectedItem jEdit setProperty String defaultMaxLineLen getSelectedItem jEdit setProperty defaultWordBreakChars getText jEdit setProperty defaultCollapseFolds getText jEdit setProperty undoCount getText jEdit setBooleanProperty defaultSyntax isSelected jEdit setBooleanProperty defaultIndentOnTab isSelected jEdit setBooleanProperty defaultIndentOnEnter isSelected jEdit setBooleanProperty defaultNoTabs isSelected private JComboBox defaultMode private JComboBox defaultTabSize private JComboBox defaultIndentSize private JComboBox defaultMaxLineLen private JTextField defaultWordBreakChars private JTextField defaultCollapseFolds private JTextField undoCount private JCheckBox defaultSyntax private JCheckBox defaultIndentOnTab private JCheckBox defaultIndentOnEnter private JCheckBox defaultNoTabs', 'bug': '1'}
{'sequence': 'public class JEditTextArea extends JComponent public JEditTextArea View view enableEvents AWTEvent FOCUS_EVENT_MASK AWTEvent KEY_EVENT_MASK this view view selection new Vector renderer TextRenderer createTextRenderer painter new TextAreaPainter this gutter new Gutter view this documentHandler new DocumentHandler foldHandler new FoldHandler listenerList new EventListenerList caretEvent new MutableCaretEvent bracketLine bracketPosition blink true lineSegment new Segment setLayout new ScrollLayout add LEFT gutter add CENTER painter add RIGHT vertical new JScrollBar JScrollBar VERTICAL add BOTTOM horizontal new JScrollBar JScrollBar HORIZONTAL horizontal setValues if UIManager getLookAndFeel instanceof MetalLookAndFeel setBorder new TextAreaBorder vertical putClientProperty Boolean FALSE horizontal putClientProperty Boolean FALSE vertical addAdjustmentListener new AdjustHandler horizontal addAdjustmentListener new AdjustHandler painter addComponentListener new ComponentHandler mouseHandler new MouseHandler painter addMouseListener mouseHandler painter addMouseMotionListener mouseHandler addFocusListener new FocusHandler focusedComponent this public final TextAreaPainter getPainter return painter public final Gutter getGutter return gutter public final boolean isCaretBlinkEnabled return caretBlinks public void setCaretBlinkEnabled boolean caretBlinks this caretBlinks caretBlinks if caretBlinks blink false if buffer null invalidateLine caretLine public final void blinkCaret if caretBlinks blink blink invalidateLine caretLine else blink true public final int getElectricScroll return electricScroll public final void setElectricScroll int electricScroll this electricScroll electricScroll public final boolean isMiddleMousePasteEnabled return middleMousePaste public final void setMiddleMousePasteEnabled boolean middleMousePaste this middleMousePaste middleMousePaste public void updateScrollBars if vertical null visibleLines int lineCount getVirtualLineCount if lineCount firstLine visibleLines int newFirstLine Math max lineCount visibleLines if newFirstLine firstLine setFirstLine newFirstLine return vertical setValues firstLine visibleLines lineCount vertical setUnitIncrement vertical setBlockIncrement visibleLines int width painter getWidth if horizontal null width maxHorizontalScrollWidth painter repaint horizontal setUnitIncrement painter getFontMetrics charWidth horizontal setBlockIncrement width public final int getFirstLine return firstLine public void setFirstLine int firstLine if firstLine this firstLine return firstLine view synchroScrollVertical this firstLine public void int firstLine this firstLine Math max firstLine physFirstLine buffer virtualToPhysical this firstLine maxHorizontalScrollWidth if this firstLine vertical getValue updateScrollBars painter repaint gutter repaint fireScrollEvent true public final int getVisibleLines return visibleLines public final int getHorizontalOffset return horizontalOffset public void setHorizontalOffset int horizontalOffset if horizontalOffset this horizontalOffset return horizontalOffset view synchroScrollHorizontal this horizontalOffset public void int horizontalOffset this horizontalOffset horizontalOffset if horizontalOffset horizontal getValue updateScrollBars painter repaint fireScrollEvent false public boolean setOrigin int firstLine int horizontalOffset setFirstLine firstLine setHorizontalOffset horizontalOffset return true public void centerCaret Element map buffer getDefaultRootElement int gotoLine buffer virtualToPhysical firstLine visibleLines if gotoLine gotoLine map getElementCount getToolkit beep return Element element map getElement gotoLine setCaretPosition element getStartOffset public void scrollUpLine if firstLine setFirstLine firstLine else getToolkit beep public void scrollUpPage if firstLine int newFirstLine firstLine visibleLines setFirstLine newFirstLine else getToolkit beep public void scrollDownLine int numLines getVirtualLineCount if firstLine visibleLines numLines setFirstLine firstLine else getToolkit beep public void scrollDownPage int numLines getVirtualLineCount if firstLine visibleLines numLines int newFirstLine firstLine visibleLines setFirstLine newFirstLine visibleLines numLines newFirstLine numLines visibleLines else getToolkit beep public void scrollToCaret boolean doElectricScroll if buffer isLineVisible caretLine buffer expandFoldAt caretLine true this int offset caret getLineStartOffset caretLine int virtualCaretLine buffer physicalToVirtual caretLine if visibleLines setFirstLine caretLine electricScroll return int electricScroll if doElectricScroll visibleLines this electricScroll electricScroll this electricScroll else electricScroll boolean changed false int firstLine electricScroll int firstLine visibleLines electricScroll if virtualCaretLine virtualCaretLine else if virtualCaretLine visibleLines virtualCaretLine visibleLines int startLine endLine Selection getSelectionAtOffset caret if null startLine endLine virtualCaretLine else startLine buffer physicalToVirtual startLine endLine buffer physicalToVirtual endLine if endLine startLine visibleLines firstLine startLine endLine visibleLines else firstLine buffer physicalToVirtual caretLine visibleLines firstLine Math min firstLine buffer getVirtualLineCount visibleLines firstLine Math max firstLine changed true else if virtualCaretLine firstLine Math max virtualCaretLine electricScroll changed true else if virtualCaretLine firstLine virtualCaretLine visibleLines electricScroll if firstLine getVirtualLineCount visibleLines firstLine getVirtualLineCount visibleLines changed true int offsetToX caretLine offset int width painter getFontMetrics charWidth if horizontalOffset Math min horizontalOffset width changed true else if painter getWidth width horizontalOffset horizontalOffset painter getWidth width changed true if changed if firstLine firstLine physFirstLine buffer virtualToPhysical firstLine updateScrollBars painter repaint gutter repaint view synchroScrollVertical this firstLine view synchroScrollHorizontal this horizontalOffset fireScrollEvent true fireScrollEvent false public int lineToY int line FontMetrics fm painter getFontMetrics return line firstLine fm getHeight fm getLeading fm getDescent public int yToLine int FontMetrics fm painter getFontMetrics int height fm getHeight return Math max Math min getVirtualLineCount height firstLine public TextRenderer getTextRenderer return renderer public int offsetToX int line int offset Token tokens buffer markTokens line getFirstToken getLineText line lineSegment char text lineSegment array int off lineSegment offset float float horizontalOffset Toolkit toolkit painter getToolkit Font defaultFont painter getFont SyntaxStyle styles painter getStyles for byte id tokens id if id Token END return int Font font if id Token NULL font defaultFont else font styles id getFont int len tokens length if offset len return int renderer charsWidth text off offset font painter else renderer charsWidth text off len font painter off len offset len tokens tokens next public int xToOffset int line int return xToOffset line true public int xToOffset int line int boolean round Token tokens buffer markTokens line getFirstToken getLineText line lineSegment char text lineSegment array int off lineSegment offset Toolkit toolkit painter getToolkit Font defaultFont painter getFont SyntaxStyle styles painter getStyles float widthArray new float horizontalOffset for byte id tokens id if id Token END return lineSegment count Font font if id Token NULL font defaultFont else font styles id getFont int len tokens length int offset renderer xToOffset text off len font painter round widthArray if offset return offset lineSegment offset off len tokens tokens next public int xyToOffset int int return xyToOffset true public int xyToOffset int int boolean round FontMetrics fm painter getFontMetrics int height fm getHeight int line height firstLine if line return else if line getVirtualLineCount return getLineEndOffset buffer virtualToPhysical buffer getVirtualLineCount else line buffer virtualToPhysical line return getLineStartOffset line xToOffset line public final void invalidateLine int line line buffer physicalToVirtual line FontMetrics fm painter getFontMetrics int lineToY line fm getDescent fm getLeading painter repaint painter getWidth fm getHeight gutter repaint gutter getWidth fm getHeight public final void invalidateLineRange int firstLine int lastLine firstLine buffer physicalToVirtual firstLine if lastLine buffer virtualToPhysical buffer getVirtualLineCount lastLine lastLine buffer getLineCount buffer getVirtualLineCount else lastLine buffer physicalToVirtual lastLine FontMetrics fm painter getFontMetrics int lineToY firstLine fm getDescent fm getLeading int height lastLine firstLine fm getHeight painter repaint painter getWidth height gutter repaint gutter getWidth height public final void invalidateSelectedLines for int selection size Selection Selection selection elementAt invalidateLineRange startLine endLine public final Buffer getBuffer return buffer public void setBuffer Buffer buffer if this buffer buffer return if this buffer null this buffer removeDocumentListener documentHandler this buffer removeFoldListener foldHandler this buffer buffer buffer addDocumentListener documentHandler buffer addFoldListener foldHandler documentHandlerInstalled true maxHorizontalScrollWidth painter updateTabSize setCaretPosition updateScrollBars painter repaint gutter repaint public final int getBufferLength return buffer getLength public final int getLineCount return buffer getLineCount public final int getVirtualLineCount return buffer getVirtualLineCount public final int getLineOfOffset int offset return buffer getDefaultRootElement getElementIndex offset public int getLineStartOffset int line Element lineElement buffer getDefaultRootElement getElement line if lineElement null return else return lineElement getStartOffset public int getLineEndOffset int line Element lineElement buffer getDefaultRootElement getElement line if lineElement null return else return lineElement getEndOffset public int getLineLength int line Element lineElement buffer getDefaultRootElement getElement line if lineElement null return else return lineElement getEndOffset lineElement getStartOffset public String getText try return buffer getText buffer getLength catch BadLocationException bl bl printStackTrace return null public void setText String text try buffer beginCompoundEdit buffer remove buffer getLength buffer insertString text null catch BadLocationException bl bl printStackTrace finally buffer endCompoundEdit public final String getText int start int len try return buffer getText start len catch BadLocationException bl bl printStackTrace return null public final void getText int start int len Segment segment try buffer getText start len segment catch BadLocationException bl bl printStackTrace segment offset segment count public final String getLineText int lineIndex int start getLineStartOffset lineIndex return getText start getLineEndOffset lineIndex start public final void getLineText int lineIndex Segment segment Element lineElement buffer getDefaultRootElement getElement lineIndex int start lineElement getStartOffset getText start lineElement getEndOffset start segment public final void selectAll setSelection new Selection Range buffer getLength moveCaretPosition buffer getLength true public void selectLine int caretLine getCaretLine int start getLineStartOffset caretLine int end getLineEndOffset caretLine setSelection new Selection Range start end moveCaretPosition end public void selectParagraph int caretLine getCaretLine if getLineLength caretLine view getToolkit beep return int start caretLine int end caretLine while start if getLineLength start break else start while end getLineCount if getLineLength end break else end int selectionStart getLineStartOffset start int selectionEnd getLineEndOffset end setSelection new Selection Range selectionStart selectionEnd moveCaretPosition selectionEnd public void selectWord int line getCaretLine int lineStart getLineStartOffset line int offset getCaretPosition lineStart if getLineLength line return String lineText getLineText line String noWordSep String buffer getProperty if offset getLineLength line offset int wordStart TextUtilities findWordStart lineText offset noWordSep int wordEnd TextUtilities findWordEnd lineText offset noWordSep setSelection new Selection Range lineStart wordStart lineStart wordEnd moveCaretPosition lineStart wordEnd public final int getSelectionStart if selection size return caret return Selection selection elementAt getStart public int getSelectionStart int line if selection size return caret return Selection selection elementAt getStart buffer line public final int getSelectionStartLine if selection size return caret return Selection selection elementAt getStartLine public final void setSelectionStart int selectionStart select selectionStart getSelectionEnd true public final int getSelectionEnd if selection size return caret return Selection selection elementAt getEnd public int getSelectionEnd int line if selection size return caret return Selection selection elementAt getEnd buffer line public final int getSelectionEndLine if selection size return caret return Selection selection elementAt getEndLine public final void setSelectionEnd int selectionEnd select getSelectionStart selectionEnd true public final int getMarkPosition Selection getSelectionAtOffset caret if null return caret if start caret return end else if end caret return start else return caret public final int getMarkLine if selection size return caretLine Selection Selection selection elementAt if start caret return endLine else if end caret return startLine else return caretLine public void select int start int end select start end true public void select int start int end boolean doElectricScroll selectNone int newStart newEnd if start end newStart start newEnd end else newStart end newEnd start setSelection new Selection Range newStart newEnd moveCaretPosition end doElectricScroll public boolean isSelectionRectangular Selection getSelectionAtOffset caret if null return false else return instanceof Selection Rect public void setCaretPosition int newCaret invalidateSelectedLines selection removeAllElements moveCaretPosition newCaret true public void setCaretPosition int newCaret boolean doElectricScroll invalidateSelectedLines selection removeAllElements moveCaretPosition newCaret doElectricScroll public void moveCaretPosition int newCaret moveCaretPosition newCaret true public void moveCaretPosition int newCaret boolean doElectricScroll if newCaret newCaret buffer getLength throw new IllegalArgumentException newCaret blink true caretTimer restart if caret newCaret scrollToCaret doElectricScroll return int newCaretLine getLineOfOffset newCaret magicCaret offsetToX newCaretLine newCaret getLineStartOffset newCaretLine invalidateLine caretLine invalidateLine newCaretLine buffer addUndoableEdit new CaretUndo caret caret newCaret caretLine newCaretLine if focusedComponent this scrollToCaret doElectricScroll updateBracketHighlight fireCaretEvent public int getCaretPosition return caret public int getCaretLine return caretLine public int getSelectionCount return selection size public Selection getSelection Selection sel new Selection selection size selection copyInto sel return sel public void selectNone setSelection Selection null public void setSelection Selection selection invalidateSelectedLines this selection removeAllElements if selection null for int selection length selection fireCaretEvent public void setSelection Selection selection invalidateSelectedLines this selection removeAllElements if selection null selection fireCaretEvent public void addToSelection Selection selection if selection null for int selection length selection fireCaretEvent public void addToSelection Selection selection selection fireCaretEvent public Selection getSelectionAtOffset int offset if selection null for int selection size Selection Selection selection elementAt if offset start offset end return return null public void removeFromSelection Selection sel selection removeElement sel invalidateLineRange sel startLine sel endLine fireCaretEvent public void removeFromSelection int offset Selection sel getSelectionAtOffset offset if sel null return selection removeElement sel invalidateLineRange sel startLine sel endLine fireCaretEvent public void resizeSelection int offset int end boolean rect Selection getSelectionAtOffset offset if null invalidateLineRange startLine endLine selection removeElement if end offset int tmp offset offset end end tmp Selection newSel if rect newSel new Selection Rect offset end else newSel new Selection Range offset end newSel fireCaretEvent public void extendSelection int offset int end Selection getSelectionAtOffset offset if null invalidateLineRange startLine endLine selection removeElement if offset start offset end end end else if offset end offset start if end offset int tmp end end offset offset tmp new Selection Range offset end fireCaretEvent public String getSelectedText Selection StringBuffer buf new StringBuffer getSelectedText buf return buf toString public String getSelectedText String separator if selection size return null StringBuffer buf new StringBuffer for int selection size if buf append separator getSelectedText Selection selection elementAt buf return buf toString public String getSelectedText return getSelectedText public void setSelectedText Selection String selectedText if isEditable throw new InternalError try buffer beginCompoundEdit if instanceof Selection Rect Element map buffer getDefaultRootElement int start start map getElement startLine getStartOffset int end end map getElement endLine getStartOffset if end start int tmp end end start start tmp int lastNewline int currNewline for int startLine endLine Element lineElement map getElement int lineStart lineElement getStartOffset int lineEnd lineElement getEndOffset int rectStart Math min lineEnd lineStart start buffer remove rectStart Math min lineEnd rectStart end start if selectedText null continue currNewline selectedText indexOf lastNewline if currNewline currNewline selectedText length buffer insertString rectStart selectedText substring lastNewline currNewline null lastNewline Math min selectedText length currNewline if selectedText null currNewline selectedText length int offset map getElement endLine getEndOffset buffer insertString offset null buffer insertString offset selectedText substring currNewline null else buffer remove start end start if selectedText null selectedText length buffer insertString start selectedText null catch BadLocationException bl Log log Log ERROR this bl finally buffer endCompoundEdit public void setSelectedText String selectedText if isEditable throw new InternalError Selection selection getSelection if selection length try buffer insertString caret selectedText null catch BadLocationException bl Log log Log ERROR this bl else try buffer beginCompoundEdit for int selection length setSelectedText selection selectedText finally buffer endCompoundEdit selectNone public int getSelectedLines Integer line Hashtable hash new Hashtable for int selection size Selection Selection selection elementAt for int startLine endLine line new Integer hash put line line line new Integer caretLine hash put line line int returnValue new int hash size int Enumeration keys hash keys while keys hasMoreElements line Integer keys nextElement returnValue line intValue quicksort returnValue returnValue length return returnValue public final boolean isEditable return buffer isEditable public final JPopupMenu getRightClickPopup return popup public final void setRightClickPopup JPopupMenu popup this popup popup public final int getMagicCaretPosition return magicCaret offsetToX caretLine caret getLineStartOffset caretLine magicCaret public final void setMagicCaretPosition int magicCaret this magicCaret magicCaret public void userInput char ch if isEditable getToolkit beep return if ch Abbrevs getExpandOnInput Abbrevs expandAbbrev view false return else if ch if buffer getBooleanProperty selection size buffer indentLine caretLine true false return else if buffer getBooleanProperty int lineStart getLineStartOffset caretLine String line getText lineStart caret lineStart setSelectedText createSoftTab line buffer getTabSize else setSelectedText return else if ch try buffer beginCompoundEdit setSelectedText if buffer getBooleanProperty buffer indentLine caretLine true false finally buffer endCompoundEdit return else String str String valueOf ch if selection size setSelectedText str return try if ch if doWordWrap caretLine true return else doWordWrap caretLine false catch BadLocationException bl Log log Log ERROR this bl try buffer beginCompoundEdit if overwrite int caretLineEnd getLineEndOffset caretLine if caretLineEnd caret buffer remove caret buffer insertString caret str null catch BadLocationException bl Log log Log ERROR this bl finally buffer endCompoundEdit String indentOpenBrackets String buffer getProperty String indentCloseBrackets String buffer getProperty if indentCloseBrackets null indentCloseBrackets indexOf ch indentOpenBrackets null indentOpenBrackets indexOf ch buffer indentLine caretLine false true public final boolean isOverwriteEnabled return overwrite public final void setOverwriteEnabled boolean overwrite this overwrite overwrite invalidateLine caretLine if view getStatus null view getStatus updateMiscStatus public final void toggleOverwriteEnabled overwrite overwrite invalidateLine caretLine if view getStatus null view getStatus updateMiscStatus public final int getBracketPosition return bracketPosition public final int getBracketLine return bracketLine public final void addCaretListener CaretListener listener listenerList add CaretListener class listener public final void removeCaretListener CaretListener listener listenerList remove CaretListener class listener public final void addScrollListener ScrollListener listener listenerList add ScrollListener class listener public final void removeScrollListener ScrollListener listener listenerList remove ScrollListener class listener public void backspace if buffer isEditable getToolkit beep return if selection size setSelectedText else if caret getToolkit beep return try buffer remove caret catch BadLocationException bl Log log Log ERROR this bl public void backspaceWord if buffer isEditable getToolkit beep return if selection size setSelectedText return int lineStart getLineStartOffset caretLine int caret lineStart String lineText getLineText caretLine if if lineStart getToolkit beep return else String noWordSep String buffer getProperty TextUtilities findWordStart lineText noWordSep try buffer remove lineStart caret lineStart catch BadLocationException bl Log log Log ERROR this bl public void delete if buffer isEditable getToolkit beep return if selection size setSelectedText null else if caret buffer getLength getToolkit beep return try buffer remove caret catch BadLocationException bl Log log Log ERROR this bl public void deleteToEndOfLine if buffer isEditable getToolkit beep return try buffer remove caret getLineEndOffset caretLine caret catch BadLocationException bl Log log Log ERROR this bl public void deleteLine if buffer isEditable getToolkit beep return Element map buffer getDefaultRootElement Element lineElement map getElement caretLine try int start lineElement getStartOffset int end lineElement getEndOffset if end buffer getLength if start start end buffer remove start end start catch BadLocationException bl Log log Log ERROR this bl public void deleteParagraph if buffer isEditable getToolkit beep return int start end buffer getLength loop for int caretLine getLineText lineSegment for int lineSegment count switch lineSegment array lineSegment offset case case break default continue loop start getLineStartOffset break loop loop for int caretLine getLineCount getLineText lineSegment for int lineSegment count switch lineSegment array lineSegment offset case case break default continue loop end getLineEndOffset break loop try buffer remove start end start catch BadLocationException bl Log log Log ERROR this bl public void deleteToStartOfLine if buffer isEditable getToolkit beep return Element map buffer getDefaultRootElement Element lineElement map getElement caretLine try buffer remove lineElement getStartOffset caret lineElement getStartOffset catch BadLocationException bl Log log Log ERROR this bl public void deleteWord if buffer isEditable getToolkit beep return if selection size setSelectedText return int lineStart getLineStartOffset caretLine int caret lineStart String lineText getLineText caretLine if lineText length if lineStart buffer getLength getToolkit beep return else String noWordSep String buffer getProperty TextUtilities findWordEnd lineText noWordSep try buffer remove caret lineStart caret catch BadLocationException bl Log log Log ERROR this bl public void goToNextBracket boolean select String text getText caret buffer getLength caret int newCaret loop for int text length switch text charAt case case case newCaret caret break loop if newCaret getToolkit beep else if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret public void goToNextCharacter boolean select if select selection size Selection getSelectionAtOffset caret if null if multi if caret end moveCaretPosition end return else setCaretPosition end return if caret buffer getLength getToolkit beep int newCaret if caret getLineEndOffset caretLine int line buffer getNextVisibleLine caretLine if line getToolkit beep return newCaret getLineStartOffset line else newCaret caret if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret public void goToNextLine boolean select int caret getCaretPosition int line getCaretLine int magic getMagicCaretPosition int nextLine buffer getNextVisibleLine line if nextLine getToolkit beep return int newCaret getLineStartOffset nextLine xToOffset nextLine magic if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret setMagicCaretPosition magic public void goToNextMarker boolean select Vector markers buffer getMarkers Marker marker null for int markers size Marker Marker markers elementAt if getPosition caret marker break if marker null getToolkit beep else if select extendSelection caret marker getPosition else if multi selectNone moveCaretPosition marker getPosition public void goToNextPage boolean select int lineCount buffer getVirtualLineCount int magic getMagicCaretPosition if firstLine visibleLines lineCount setFirstLine lineCount visibleLines else setFirstLine firstLine visibleLines int newLine buffer virtualToPhysical Math min lineCount buffer physicalToVirtual caretLine visibleLines int newCaret getLineStartOffset newLine xToOffset newLine magic if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret setMagicCaretPosition magic public void goToNextParagraph boolean select int lineNo getCaretLine int newCaret getBufferLength boolean foundBlank false loop for int lineNo getLineCount if buffer isLineVisible continue getLineText lineSegment for int lineSegment count switch lineSegment array lineSegment offset case case break default if foundBlank newCaret getLineStartOffset break loop else continue loop foundBlank true if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret public void goToNextWord boolean select int lineStart getLineStartOffset caretLine int newCaret caret lineStart String lineText getLineText caretLine if newCaret lineText length int nextLine buffer getNextVisibleLine caretLine if nextLine getToolkit beep return newCaret getLineStartOffset nextLine else String noWordSep String buffer getProperty newCaret TextUtilities findWordEnd lineText newCaret noWordSep lineStart if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret public void goToPrevBracket boolean select String text getText caret int newCaret loop for int getCaretPosition switch text charAt case case case newCaret break loop if newCaret getToolkit beep else if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret public void goToPrevCharacter boolean select if select selection size Selection getSelectionAtOffset caret if null if multi if caret start moveCaretPosition start return else setCaretPosition start return int newCaret if caret getLineStartOffset caretLine int line buffer getPrevVisibleLine caretLine if line getToolkit beep return newCaret getLineEndOffset line else newCaret caret if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret public void goToPrevLine boolean select int magic getMagicCaretPosition int prevLine buffer getPrevVisibleLine caretLine if prevLine getToolkit beep return int newCaret getLineStartOffset prevLine xToOffset prevLine magic if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret setMagicCaretPosition magic public void goToPrevMarker boolean select Vector markers buffer getMarkers Marker marker null for int markers size Marker Marker markers elementAt if getPosition caret marker break if marker null getToolkit beep else if select extendSelection caret marker getPosition else if multi selectNone moveCaretPosition marker getPosition public void goToPrevPage boolean select if firstLine visibleLines setFirstLine else setFirstLine firstLine visibleLines int magic getMagicCaretPosition int newLine buffer virtualToPhysical Math max buffer physicalToVirtual caretLine visibleLines int newCaret getLineStartOffset newLine xToOffset newLine magic if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret setMagicCaretPosition magic public void goToPrevParagraph boolean select int lineNo caretLine int newCaret boolean foundBlank false loop for int lineNo if buffer isLineVisible continue getLineText lineSegment for int lineSegment count switch lineSegment array lineSegment offset case case break default if foundBlank newCaret getLineEndOffset break loop else continue loop foundBlank true if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret public void goToPrevWord boolean select int lineStart getLineStartOffset caretLine int newCaret caret lineStart String lineText getLineText caretLine if newCaret if lineStart view getToolkit beep return else int prevLine buffer getPrevVisibleLine caretLine if prevLine getToolkit beep return newCaret getLineEndOffset prevLine else String noWordSep String buffer getProperty newCaret TextUtilities findWordStart lineText newCaret noWordSep lineStart if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret public void smartHome boolean select if jEdit getBooleanProperty goToStartOfLine select else switch view getInputHandler getLastActionCount case goToStartOfWhiteSpace select break case goToStartOfLine select break goToFirstVisibleLine select break public void smartEnd boolean select if jEdit getBooleanProperty goToEndOfLine select else switch view getInputHandler getLastActionCount case goToEndOfWhiteSpace select break case goToEndOfLine select break goToLastVisibleLine select break public void goToStartOfLine boolean select Macros Recorder recorder view getMacroRecorder if recorder null recorder record select int newCaret getLineStartOffset getCaretLine if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret public void goToEndOfLine boolean select Macros Recorder recorder view getMacroRecorder if recorder null recorder record select int newCaret getLineEndOffset getCaretLine if select extendSelection caret newCaret else if multi selectNone moveCaretPosition newCaret setMagicCaretPosition Integer MAX_VALUE public void goToStartOfWhiteSpace boolean select Macros Recorder recorder view getMacroRecorder if recorder null recorder record select int firstIndent MiscUtilities getLeadingWhiteSpace getLineText caretLine int firstOfLine getLineStartOffset caretLine firstIndent firstOfLine firstIndent if firstIndent getLineEndOffset caretLine firstIndent firstOfLine if select extendSelection caret firstIndent else if multi selectNone moveCaretPosition firstIndent public void goToEndOfWhiteSpace boolean select Macros Recorder recorder view getMacroRecorder if recorder null recorder record select int lastIndent MiscUtilities getTrailingWhiteSpace getLineText caretLine int lastOfLine getLineEndOffset caretLine lastIndent lastOfLine lastIndent if lastIndent getLineStartOffset caretLine lastIndent lastOfLine if select extendSelection caret lastIndent else if multi selectNone moveCaretPosition lastIndent public void goToFirstVisibleLine boolean select Macros Recorder recorder view getMacroRecorder if recorder null recorder record select int firstVisibleLine firstLine electricScroll firstLine electricScroll if firstVisibleLine getVirtualLineCount firstVisibleLine getVirtualLineCount firstVisibleLine buffer virtualToPhysical firstVisibleLine int firstVisible getLineEndOffset firstVisibleLine if select extendSelection caret firstVisible else if multi selectNone moveCaretPosition firstVisible public void goToLastVisibleLine boolean select Macros Recorder recorder view getMacroRecorder if recorder null recorder record select int lastVisibleLine firstLine visibleLines if lastVisibleLine getVirtualLineCount lastVisibleLine getVirtualLineCount else if lastVisibleLine electricScroll lastVisibleLine else lastVisibleLine electricScroll lastVisibleLine buffer virtualToPhysical lastVisibleLine int lastVisible getLineEndOffset lastVisibleLine if select extendSelection caret lastVisible else if multi selectNone moveCaretPosition lastVisible public void goToMarker char shortcut boolean select Marker marker buffer getMarker shortcut if marker null getToolkit beep return int pos marker getPosition if select extendSelection caret pos else if multi selectNone moveCaretPosition pos public void addMarker Selection selection getSelection for int selection length Selection selection if startLine endLine if startLine caretLine buffer addMarker start if endLine caretLine buffer addMarker end buffer addOrRemoveMarker caret public void swapMarkerAndCaret char shortcut Marker marker buffer getMarker shortcut if marker null getToolkit beep return int caret getCaretPosition setCaretPosition marker getPosition buffer addMarker shortcut caret public void lineComment String comment String buffer getProperty if buffer isEditable comment null comment length getToolkit beep return comment comment buffer beginCompoundEdit int lines getSelectedLines try for int lines length buffer insertString getLineStartOffset lines comment null catch BadLocationException bl Log log Log ERROR this bl finally buffer endCompoundEdit selectNone public void rangeComment String commentStart String buffer getProperty String commentEnd String buffer getProperty if buffer isEditable commentStart null commentEnd null commentStart length commentEnd length getToolkit beep return commentStart commentStart commentEnd commentEnd try buffer beginCompoundEdit Selection selection getSelection if selection length int oldCaret caret buffer insertString caret commentStart null buffer insertString caret commentEnd null setCaretPosition oldCaret commentStart length for int selection length Selection selection if instanceof Selection Range buffer insertString start commentStart null buffer insertString end commentEnd null else if instanceof Selection Rect for int startLine endLine buffer insertString getStart buffer commentStart null int end getEnd buffer endLine commentStart length buffer insertString end commentEnd null selectNone catch BadLocationException bl Log log Log ERROR this bl finally buffer endCompoundEdit public void formatParagraph if buffer isEditable getToolkit beep return int maxLineLength Integer buffer getProperty intValue if maxLineLength getToolkit beep return Selection selection getSelection if selection length buffer beginCompoundEdit for int selection length Selection selection setSelectedText TextUtilities format getSelectedText maxLineLength buffer endCompoundEdit else int lineNo getCaretLine int start end buffer getLength loop for int lineNo getLineText lineSegment for int lineSegment count switch lineSegment array lineSegment offset case case break default continue loop start getLineStartOffset break loop loop for int lineNo getLineCount getLineText lineSegment for int lineSegment count switch lineSegment array lineSegment offset case case break default continue loop end getLineEndOffset break loop try buffer beginCompoundEdit String text buffer getText start end start buffer remove start end start buffer insertString start TextUtilities format text maxLineLength null catch BadLocationException bl return finally buffer endCompoundEdit public void spacesToTabs Selection selection getSelection if buffer isEditable selection length getToolkit beep return buffer beginCompoundEdit for int selection length Selection selection setSelectedText TextUtilities spacesToTabs getSelectedText buffer getTabSize buffer endCompoundEdit public void tabsToSpaces Selection selection getSelection if buffer isEditable selection length getToolkit beep return buffer beginCompoundEdit for int selection length Selection selection setSelectedText TextUtilities tabsToSpaces getSelectedText buffer getTabSize buffer endCompoundEdit public void toUpperCase Selection selection getSelection if buffer isEditable selection length getToolkit beep return buffer beginCompoundEdit for int selection length Selection selection setSelectedText getSelectedText toUpperCase buffer endCompoundEdit public void toLowerCase Selection selection getSelection if buffer isEditable selection length getToolkit beep return buffer beginCompoundEdit for int selection length Selection selection setSelectedText getSelectedText toLowerCase buffer endCompoundEdit public void removeTrailingWhiteSpace if buffer isEditable getToolkit beep else buffer removeTrailingWhiteSpace getSelectedLines public void indentSelectedLines if buffer isEditable getToolkit beep else buffer indentLines getSelectedLines selectNone public void shiftIndentLeft if buffer isEditable getToolkit beep else buffer shiftIndentLeft getSelectedLines public void shiftIndentRight if buffer isEditable getToolkit beep else buffer shiftIndentRight getSelectedLines public void joinLines Element map buffer getDefaultRootElement Element lineElement map getElement caretLine int start lineElement getStartOffset int end lineElement getEndOffset if end buffer getLength getToolkit beep return Element nextLineElement map getElement caretLine int nextStart nextLineElement getStartOffset int nextEnd nextLineElement getEndOffset try buffer remove end MiscUtilities getLeadingWhiteSpace buffer getText nextStart nextEnd nextStart catch BadLocationException bl Log log Log ERROR this bl public void goToMatchingBracket int dot caret getLineStartOffset caretLine try int bracket TextUtilities findMatchingBracket buffer caretLine Math max dot if bracket setCaretPosition bracket return catch BadLocationException bl Log log Log ERROR this bl getToolkit beep private final String openBrackets private final String closeBrackets public void selectBlock Selection getSelectionAtOffset caret int start end if null start end caret else start start end end String text getText buffer getLength int count char openBracket char closeBracket if start view getToolkit beep return backward_scan while start char text charAt start int index openBrackets indexOf if index if count openBracket closeBracket closeBrackets charAt index break backward_scan else if closeBrackets indexOf count count if openBracket getToolkit beep return else forward_scan do char text charAt end if closeBracket if count end break forward_scan else if openBracket count while end buffer getLength setSelection new Selection Range start end moveCaretPosition end public void showGoToLineDialog String line GUIUtilities input view null if line null return try int lineNumber Integer parseInt line setCaretPosition getLineStartOffset lineNumber catch Exception getToolkit beep public void showSelectLineRangeDialog new SelectLineRange view public void showWordCountDialog String selection getSelectedText if selection null doWordCount view selection return try doWordCount view buffer getText buffer getLength catch BadLocationException bl Log log Log ERROR this bl public void completeWord String noWordSep String buffer getProperty if noWordSep null noWordSep if buffer isEditable getToolkit beep return String line getLineText caretLine int dot caret getLineStartOffset caretLine if dot getToolkit beep return char ch line charAt dot if Character isLetterOrDigit ch noWordSep indexOf ch getToolkit beep return int wordStart TextUtilities findWordStart line dot noWordSep String word line substring wordStart dot if word length getToolkit beep return Vector completions new Vector int wordLen word length for int getLineCount line getLineText if line startsWith word if caretLine wordStart continue String completeWord line noWordSep if length wordLen if completions indexOf completions addElement int len line length word length for int len char line charAt if Character isLetterOrDigit noWordSep indexOf if caretLine wordStart continue if line regionMatches word wordLen String completeWord line noWordSep if length wordLen if completions indexOf completions addElement MiscUtilities quicksort completions new MiscUtilities StringICaseCompare if completions size getToolkit beep else if completions size setSelectedText String completions elementAt substring wordLen else Point location new Point offsetToX caretLine wordStart painter getFontMetrics getHeight firstLine SwingUtilities convertPointToScreen location painter new CompleteWord view word completions location public void selectFold selectFoldAt caretLine public void selectFoldAt int line int start int end if buffer isFoldStart line start line int foldLevel buffer getFoldLevel line line while line buffer getLineCount buffer getFoldLevel line foldLevel line end line else start line int foldLevel buffer getFoldLevel line while start buffer getFoldLevel start foldLevel start end line while end buffer getLineCount buffer getFoldLevel end foldLevel end int newCaret getLineEndOffset end extendSelection getLineStartOffset start newCaret moveCaretPosition newCaret public void addNotify super addNotify ToolTipManager sharedInstance registerComponent painter ToolTipManager sharedInstance registerComponent gutter if documentHandlerInstalled documentHandlerInstalled true buffer addDocumentListener documentHandler buffer addFoldListener foldHandler recalculateVisibleLines public void removeNotify super removeNotify ToolTipManager sharedInstance unregisterComponent painter ToolTipManager sharedInstance unregisterComponent gutter if focusedComponent this focusedComponent null if documentHandlerInstalled buffer removeDocumentListener documentHandler buffer removeFoldListener foldHandler documentHandlerInstalled false public boolean hasFocus Component this while instanceof Window if null return false getParent Component focusOwner Window getFocusOwner boolean hasFocus focusOwner this if hasFocus focusedComponent this focusedComponent this return hasFocus public void grabFocus super grabFocus hasFocus public boolean getFocusTraversalKeysEnabled return false public final boolean isMultipleSelectionEnabled return multi public final void toggleMultipleSelectionEnabled multi multi if view getStatus null view getStatus updateMiscStatus public final void setMultipleSelectionEnabled boolean multi JEditTextArea multi multi if view getStatus null view getStatus updateMiscStatus public void processKeyEvent KeyEvent evt evt KeyEventWorkaround processKeyEvent evt if evt null return if view isClosed return InputHandler inputHandler view getInputHandler KeyListener keyEventInterceptor view getKeyEventInterceptor switch evt getID case KeyEvent KEY_TYPED if keyEventInterceptor null keyEventInterceptor keyTyped evt else inputHandler keyTyped evt break case KeyEvent KEY_PRESSED if keyEventInterceptor null keyEventInterceptor keyPressed evt else inputHandler keyPressed evt break case KeyEvent KEY_RELEASED if keyEventInterceptor null keyEventInterceptor keyReleased evt else inputHandler keyReleased evt break if evt isConsumed super processKeyEvent evt Segment lineSegment MouseHandler mouseHandler int maxHorizontalScrollWidth Vector selection final boolean isCaretVisible return blink hasFocus final boolean isHighlightVisible return hasFocus void recalculateVisibleLines if painter null return int height painter getHeight int lineHeight painter getFontMetrics getHeight visibleLines height lineHeight updateScrollBars void updateMaxHorizontalScrollWidth int buffer getMaxLineWidth physFirstLine visibleLines if maxHorizontalScrollWidth maxHorizontalScrollWidth horizontal setValues horizontalOffset painter getWidth maxHorizontalScrollWidth painter getFontMetrics charWidth private static String CENTER private static String RIGHT private static String LEFT private static String BOTTOM private static Timer caretTimer private static JEditTextArea focusedComponent private View view private Gutter gutter private TextAreaPainter painter private JPopupMenu popup private EventListenerList listenerList private MutableCaretEvent caretEvent private boolean caretBlinks private boolean blink private int firstLine private int visibleLines private int electricScroll private int horizontalOffset private boolean middleMousePaste private JScrollBar vertical private JScrollBar horizontal private boolean scrollBarsInitialized private Buffer buffer private DocumentHandler documentHandler private FoldHandler foldHandler private boolean documentHandlerInstalled private int caret private int caretLine private int bracketPosition private int bracketLine private int magicCaret private static boolean multi private boolean overwrite private TextRenderer renderer private static void quicksort int obj int int int start int end int mid obj if return while start end while start obj start mid start while end obj end mid end if start end int tmp obj start obj start obj end obj end tmp start end if end quicksort obj end if start quicksort obj start private void Selection addMe if addMe start addMe start else if addMe end buffer getLength addMe end buffer getLength if addMe start addMe end throw new IllegalArgumentException addMe start addMe end else if addMe start addMe end return for int selection size Selection Selection selection elementAt if addMe addMe start Math min start addMe start addMe end Math max end addMe end selection removeElement addMe startLine getLineOfOffset addMe start addMe endLine getLineOfOffset addMe end selection addElement addMe invalidateLineRange addMe startLine addMe endLine private boolean Selection s1 Selection s2 if s1 start s2 start s1 start s2 end s1 end s2 start s1 end s2 end return true else return false private void getSelectedText Selection StringBuffer buf if instanceof Selection Rect Element map buffer getDefaultRootElement int start start map getElement startLine getStartOffset int end end map getElement endLine getStartOffset if end start int tmp end end start start tmp for int startLine endLine Element lineElement map getElement int lineStart lineElement getStartOffset int lineEnd lineElement getEndOffset int lineLen lineEnd lineStart lineStart Math min lineStart start lineEnd lineLen Math min end start lineEnd lineStart getText lineStart lineLen lineSegment buf append lineSegment array lineSegment offset lineSegment count if endLine buf append else getText start end start lineSegment buf append lineSegment array lineSegment offset lineSegment count private void fireCaretEvent Object listeners listenerList getListenerList for int listeners length if listeners CaretListener class CaretListener listeners caretUpdate caretEvent private void fireScrollEvent boolean vertical Object listeners listenerList getListenerList for int listeners length if listeners ScrollListener class if vertical ScrollListener listeners scrolledVertically this else ScrollListener listeners scrolledHorizontally this private String createSoftTab String line int tabSize int pos for int line length switch line charAt pos case pos break default if pos tabSize pos break return MiscUtilities createWhiteSpace tabSize pos private boolean doWordWrap int line boolean spaceInserted throws BadLocationException int maxLineLen Integer buffer getProperty intValue if maxLineLen return false Element lineElement buffer getDefaultRootElement getElement line int start lineElement getStartOffset int end lineElement getEndOffset int len end start if getCaretPosition end return false boolean returnValue false int tabSize buffer getTabSize String wordBreakChars String buffer getProperty buffer getText start len lineSegment int lineStart lineSegment offset int lastWordOffset boolean lastWasSpace true boolean initialWhiteSpace true int initialWhiteSpaceLength for int len char ch lineSegment array lineStart if ch if initialWhiteSpace initialWhiteSpaceLength logicalLength tabSize logicalLength tabSize if lastWasSpace logicalLength maxLineLen lastWordOffset lastWasSpace true else if ch if initialWhiteSpace initialWhiteSpaceLength logicalLength if lastWasSpace logicalLength maxLineLen lastWordOffset lastWasSpace true else if wordBreakChars null wordBreakChars indexOf ch initialWhiteSpace false logicalLength if lastWasSpace logicalLength maxLineLen lastWordOffset lastWasSpace true else initialWhiteSpace false logicalLength lastWasSpace false int insertNewLineAt if spaceInserted logicalLength maxLineLen len insertNewLineAt end returnValue true else if logicalLength maxLineLen lastWordOffset insertNewLineAt lastWordOffset start else continue try buffer beginCompoundEdit buffer insertString insertNewLineAt null buffer indentLine line true true finally buffer endCompoundEdit return returnValue return false private void doWordCount View view String text char chars text toCharArray int characters chars length int words if characters words else words int lines boolean word false for int chars length switch chars case case lines case case if word words word false break default word true break Object args new Integer characters new Integer words new Integer lines GUIUtilities message view args private String completeWord String line int offset String noWordSep int wordEnd TextUtilities findWordEnd line offset noWordSep return line substring offset wordEnd private void updateBracketHighlight if painter isBracketHighlightEnabled return if bracketLine invalidateLine bracketLine int line getCaretLine int offset getCaretPosition getLineStartOffset line if offset bracketPosition bracketLine return int endLine if visibleLines endLine buffer getLineCount else endLine Math min buffer getLineCount buffer virtualToPhysical firstLine visibleLines int beginLine Math min line physFirstLine try int bracketOffset TextUtilities findMatchingBracket buffer line offset beginLine endLine if bracketOffset bracketLine getLineOfOffset bracketOffset bracketPosition bracketOffset getLineStartOffset bracketLine invalidateLine bracketLine return catch BadLocationException bl Log log Log ERROR this bl bracketLine bracketPosition private void documentChanged DocumentEvent evt DocumentEvent ElementChange ch evt getChange buffer getDefaultRootElement int count if ch null count else count ch getChildrenAdded length ch getChildrenRemoved length int line getLineOfOffset evt getOffset if count invalidateLine line else if line firstLine setFirstLine firstLine count else updateScrollBars invalidateLineRange line buffer virtualToPhysical firstLine visibleLines static class TextAreaBorder extends AbstractBorder private static final Insets insets new Insets public void paintBorder Component Graphics int int int width int height translate setColor MetalLookAndFeel getControlDarkShadow drawRect width height setColor MetalLookAndFeel getControlHighlight drawLine width width height drawLine height width height setColor MetalLookAndFeel getControl drawLine width width drawLine height height translate public Insets getBorderInsets Component return new Insets class ScrollLayout implements LayoutManager public void addLayoutComponent String name Component comp if name equals CENTER center comp else if name equals RIGHT right comp else if name equals LEFT left comp else if name equals BOTTOM bottom comp public void removeLayoutComponent Component comp if center comp center null else if right comp right null else if left comp left null else if bottom comp bottom null public Dimension preferredLayoutSize Container parent Dimension dim new Dimension Border border getBorder Insets insets if border null insets new Insets else insets getBorder getBorderInsets JEditTextArea this dim width insets left insets right dim height insets top insets bottom Dimension leftPref left getPreferredSize dim width leftPref width Dimension centerPref center getPreferredSize dim width centerPref width dim height centerPref height Dimension rightPref right getPreferredSize dim width rightPref width Dimension bottomPref bottom getPreferredSize dim height bottomPref height return dim public Dimension minimumLayoutSize Container parent Dimension dim new Dimension Border border getBorder Insets insets if border null insets new Insets else insets getBorder getBorderInsets JEditTextArea this dim width insets left insets right dim height insets top insets bottom Dimension leftPref left getMinimumSize dim width leftPref width Dimension centerPref center getMinimumSize dim width centerPref width dim height centerPref height Dimension rightPref right getMinimumSize dim width rightPref width Dimension bottomPref bottom getMinimumSize dim height bottomPref height return dim public void layoutContainer Container parent Dimension size parent getSize Border border getBorder Insets insets if border null insets new Insets else insets getBorder getBorderInsets JEditTextArea this int itop insets top int ileft insets left int ibottom insets bottom int iright insets right int rightWidth right getPreferredSize width int leftWidth left getPreferredSize width int bottomHeight bottom getPreferredSize height int centerWidth Math max size width leftWidth rightWidth ileft iright int centerHeight Math max size height bottomHeight itop ibottom left setBounds ileft itop leftWidth centerHeight center setBounds ileft leftWidth itop centerWidth centerHeight right setBounds ileft leftWidth centerWidth itop rightWidth centerHeight bottom setBounds ileft itop centerHeight Math max size width rightWidth ileft iright bottomHeight Component center Component left Component right Component bottom static class CaretBlinker implements ActionListener public void actionPerformed ActionEvent evt if focusedComponent null focusedComponent hasFocus focusedComponent blinkCaret class MutableCaretEvent extends CaretEvent MutableCaretEvent super JEditTextArea this public int getDot return getCaretPosition public int getMark return getMarkPosition class AdjustHandler implements AdjustmentListener public void adjustmentValueChanged final AdjustmentEvent evt if scrollBarsInitialized return if evt getAdjustable vertical setFirstLine vertical getValue else setHorizontalOffset horizontal getValue class ComponentHandler extends ComponentAdapter public void componentResized ComponentEvent evt recalculateVisibleLines scrollBarsInitialized true class DocumentHandler implements DocumentListener public void insertUpdate DocumentEvent evt if buffer isLoaded return documentChanged evt int offset evt getOffset int length evt getLength if caret offset moveCaretPosition caret length true else updateBracketHighlight for int selection size Selection Selection selection elementAt boolean changed false if start offset start length startLine getLineOfOffset start changed true if end offset end length endLine getLineOfOffset end changed true if changed invalidateLineRange startLine endLine public void removeUpdate DocumentEvent evt if buffer isLoaded return documentChanged evt int offset evt getOffset int length evt getLength int end offset length boolean caretEvent false for int selection size Selection Selection selection elementAt boolean changed false if start offset start end start offset changed caretEvent true else if start end start length changed caretEvent true if end offset end end end offset changed caretEvent true else if end end end length changed caretEvent true if start end selection removeElement invalidateLineRange startLine endLine else if changed startLine getLineOfOffset start endLine getLineOfOffset end invalidateLineRange startLine endLine if caret offset caret end moveCaretPosition offset false else if caret end moveCaretPosition caret length false else updateBracketHighlight if caretEvent fireCaretEvent public void changedUpdate DocumentEvent evt class FoldHandler implements Buffer FoldListener public void foldLevelsChanged int firstLine int lastLine invalidateLineRange firstLine lastLine public void foldStructureChanged setFirstLine buffer physicalToVirtual physFirstLine updateScrollBars gutter repaint if view getTextArea JEditTextArea this view getStatus updateFoldStatus class FocusHandler implements FocusListener public void focusGained FocusEvent evt invalidateLine caretLine view updateGutterBorders public void focusLost FocusEvent evt invalidateLine caretLine class MouseHandler extends MouseAdapter implements MouseMotionListener private int dragStartLine private int dragStartOffset private int dragStart private int clickCount public void mousePressed MouseEvent evt buffer endCompoundEdit grabFocus if GUIUtilities isPopupTrigger evt popup null if popup isVisible popup setVisible false else popup show painter evt getX evt getY return blink true invalidateLine caretLine int evt getX int evt getY dragStartLine buffer virtualToPhysical yToLine dragStartOffset xToOffset dragStartLine dragStart xyToOffset painter isBlockCaretEnabled clickCount evt getClickCount switch clickCount case doSingleClick evt break case try doDoubleClick evt catch BadLocationException bl bl printStackTrace break doTripleClick evt break public void mouseReleased MouseEvent evt if getSelectionCount Registers setRegister getSelectedText private void doSingleClick MouseEvent evt if evt isShiftDown resizeSelection getMarkPosition dragStart evt isControlDown moveCaretPosition dragStart false dragStartLine getMarkLine dragStart getMarkPosition dragStartOffset dragStart getLineStartOffset dragStartLine else if multi selectNone moveCaretPosition dragStart false if middleMousePaste evt getModifiers InputEvent BUTTON2_MASK if isEditable getToolkit beep else Registers paste JEditTextArea this private void doDoubleClick MouseEvent evt throws BadLocationException if getLineLength dragStartLine return try int bracket TextUtilities findMatchingBracket buffer dragStartLine Math max dragStartOffset if bracket if bracket caret addToSelection new Selection Range bracket caret else addToSelection new Selection Range caret bracket moveCaretPosition bracket false return catch BadLocationException bl Log log Log ERROR this bl String lineText getLineText dragStartLine String noWordSep String buffer getProperty if dragStartOffset getLineLength dragStartLine dragStartOffset int wordStart TextUtilities findWordStart lineText dragStartOffset noWordSep int wordEnd TextUtilities findWordEnd lineText dragStartOffset noWordSep int lineStart getLineStartOffset dragStartLine addToSelection new Selection Range lineStart wordStart lineStart wordEnd moveCaretPosition lineStart wordEnd false private void doTripleClick MouseEvent evt int newCaret getLineEndOffset dragStartLine addToSelection new Selection Range getLineStartOffset dragStartLine newCaret moveCaretPosition newCaret public void mouseDragged MouseEvent evt if GUIUtilities isPopupTrigger evt popup null popup isVisible return boolean rect evt isControlDown switch clickCount case doSingleDrag evt rect break case doDoubleDrag evt rect break doTripleDrag evt rect break public void mouseMoved MouseEvent evt private void doSingleDrag MouseEvent evt boolean rect int dot xyToOffset evt getX evt getY painter isBlockCaretEnabled if dot caret return resizeSelection dragStart dot rect moveCaretPosition dot false private void doDoubleDrag MouseEvent evt boolean rect int markLineStart getLineStartOffset dragStartLine int markLineLength getLineLength dragStartLine int mark dragStartOffset int line buffer virtualToPhysical yToLine evt getY int lineStart getLineStartOffset line int lineLength getLineLength line int offset xToOffset line evt getX String lineText getLineText line String markLineText getLineText dragStartLine String noWordSep String buffer getProperty if markLineStart dragStartOffset lineStart offset if offset offset lineLength offset TextUtilities findWordStart lineText offset noWordSep if markLineLength mark TextUtilities findWordEnd markLineText mark noWordSep else if offset lineLength offset TextUtilities findWordEnd lineText offset noWordSep if mark mark markLineLength mark TextUtilities findWordStart markLineText mark noWordSep if lineStart offset caret return resizeSelection markLineStart mark lineStart offset rect moveCaretPosition lineStart offset false private void doTripleDrag MouseEvent evt boolean rect int mouseLine buffer virtualToPhysical yToLine evt getY int offset xToOffset mouseLine evt getX int mark int mouse if dragStartLine mouseLine mark getLineEndOffset dragStartLine if offset getLineLength mouseLine mouse getLineEndOffset mouseLine else mouse getLineStartOffset mouseLine else mark getLineStartOffset dragStartLine if offset mouse getLineStartOffset mouseLine else mouse getLineEndOffset mouseLine if mouse caret return resizeSelection mark mouse rect moveCaretPosition mouse false static class CaretUndo extends AbstractUndoableEdit private int caret CaretUndo int caret this caret caret public boolean isSignificant return false public String getPresentationName return public void undo throws CannotUndoException super undo if focusedComponent null int length focusedComponent getBuffer getLength if caret length focusedComponent selectNone focusedComponent setCaretPosition caret else Log log Log WARNING this caret length public boolean addEdit UndoableEdit edit if edit instanceof CaretUndo edit die return true else return false public String toString return getPresentationName caret static caretTimer new Timer new CaretBlinker caretTimer setInitialDelay caretTimer start', 'bug': '1'}
{'sequence': 'public class GUIUtilities public static final Icon NEW_BUFFER_ICON public static final Icon DIRTY_BUFFER_ICON public static final Icon READ_ONLY_BUFFER_ICON public static final Icon NORMAL_BUFFER_ICON public static final Icon EDITOR_WINDOW_ICON public static final Icon PLUGIN_WINDOW_ICON public static JMenuBar loadMenuBar String name String menus jEdit getProperty name StringTokenizer st new StringTokenizer menus JMenuBar mbar new JMenuBar while st hasMoreTokens mbar add GUIUtilities loadMenu st nextToken return mbar public static JMenu loadMenu String name if name equals return new OpenWithEncodingMenu else if name equals return new RecentFilesMenu else if name equals return new CurrentDirectoryMenu else if name equals return new MarkersMenu else if name equals return new MacrosMenu else if name equals return new PluginsMenu else return new EnhancedMenu name public static JPopupMenu loadPopupMenu String name JPopupMenu menu new JPopupMenu String menuItems jEdit getProperty name if menuItems null StringTokenizer st new StringTokenizer menuItems while st hasMoreTokens String menuItemName st nextToken if menuItemName equals menu addSeparator else if menuItemName startsWith menu add loadMenu menuItemName substring else menu add loadMenuItem menuItemName false return menu public static JMenuItem loadMenuItem String name return loadMenuItem name true public static JMenuItem loadMenuItem String name boolean setMnemonic String label EditAction action if name startsWith Macros Macro macro Macros getMacro name substring if macro null label macro name int index label lastIndexOf label label substring index replace action macro action else label name substring action null else action jEdit getAction name label jEdit getProperty name concat if label null label name char mnemonic int index label indexOf if index label length index mnemonic Character toLowerCase label charAt index label label substring index concat label substring index else mnemonic JMenuItem mi if action null action isToggle mi new EnhancedCheckBoxMenuItem label action else mi new EnhancedMenuItem label action if setMnemonic mnemonic mi setMnemonic mnemonic return mi public static JToolBar loadToolBar String name JToolBar toolBar new JToolBar toolBar setFloatable false toolBar putClientProperty Boolean TRUE String buttons jEdit getProperty name if buttons null StringTokenizer st new StringTokenizer buttons while st hasMoreTokens String button st nextToken if button equals toolBar addSeparator else JButton loadToolButton button if null toolBar add return toolBar public static EnhancedButton loadToolButton String name String label EditAction action if name startsWith Macros Macro macro Macros getMacro name substring if macro null label macro name int index label lastIndexOf label label substring index replace action macro action else label name substring action null else action jEdit getAction name label jEdit getProperty name concat if label null label name else label prettifyMenuLabel label Icon icon String iconName jEdit getProperty name if iconName null icon loadIcon iconName if icon null return null else return null String toolTip label String shortcut jEdit getProperty name if shortcut null toolTip toolTip shortcut return new EnhancedButton icon toolTip action public static Icon loadIcon String iconName Icon icon Icon icons get iconName if icon null return icon if iconName startsWith icon new ImageIcon iconName substring else URL url GUIUtilities class getResource iconName if url null Log log Log ERROR GUIUtilities class iconName return null icon new ImageIcon url icons put iconName icon return icon public static String prettifyMenuLabel String label int index label indexOf if index label label substring index concat label substring index return label public static void message Component comp String name Object args hideSplashScreen JOptionPane showMessageDialog comp jEdit getProperty name concat args jEdit getProperty name concat args JOptionPane INFORMATION_MESSAGE public static void error Component comp String name Object args hideSplashScreen JOptionPane showMessageDialog comp jEdit getProperty name concat args jEdit getProperty name concat args JOptionPane ERROR_MESSAGE public static String input Component comp String name Object def return input comp name null def public static String inputProperty Component comp String name String def return inputProperty comp name null def public static String input Component comp String name Object args Object def hideSplashScreen String retVal String JOptionPane showInputDialog comp jEdit getProperty name concat args jEdit getProperty name concat JOptionPane QUESTION_MESSAGE null null def return retVal public static String inputProperty Component comp String name Object args String def hideSplashScreen String retVal String JOptionPane showInputDialog comp jEdit getProperty name concat args jEdit getProperty name concat JOptionPane QUESTION_MESSAGE null null jEdit getProperty def if retVal null jEdit setProperty def retVal return retVal public static int confirm Component comp String name Object args int buttons int type hideSplashScreen return JOptionPane showConfirmDialog comp jEdit getProperty name args jEdit getProperty name buttons type public static String showVFSFileDialog View view String path int type boolean multipleSelection VFSFileChooserDialog fileChooser new VFSFileChooserDialog view path type multipleSelection String selectedFiles fileChooser getSelectedFiles if selectedFiles null return null return selectedFiles public static Color parseColor String name return parseColor name Color black public static Color parseColor String name Color defaultColor if name null return defaultColor else if name startsWith try return Color decode name catch NumberFormatException nf return defaultColor else if equals name return Color red else if equals name return Color green else if equals name return Color blue else if equals name return Color yellow else if equals name return Color orange else if equals name return Color white else if equals name return Color lightGray else if equals name return Color gray else if equals name return Color darkGray else if equals name return Color black else if equals name return Color cyan else if equals name return Color magenta else if equals name return Color pink else return defaultColor public static String getColorHexString Color String colString Integer toHexString getRGB return substring colString length concat colString public static SyntaxStyle parseStyle String str String family int size throws IllegalArgumentException Color fgColor Color black Color bgColor null boolean italic false boolean bold false StringTokenizer st new StringTokenizer str while st hasMoreTokens String st nextToken if startsWith fgColor GUIUtilities parseColor substring Color black else if startsWith bgColor GUIUtilities parseColor substring null else if startsWith for int length if charAt italic true else if charAt bold true else throw new IllegalArgumentException else throw new IllegalArgumentException return new SyntaxStyle fgColor bgColor new Font family italic Font ITALIC bold Font BOLD size public static String getStyleString SyntaxStyle style StringBuffer buf new StringBuffer buf append getColorHexString style getForegroundColor if style getBackgroundColor null buf append getColorHexString style getBackgroundColor if style getFont isPlain buf append style getFont isItalic style getFont isBold return buf toString public static SyntaxStyle loadStyles String family int size SyntaxStyle styles new SyntaxStyle Token ID_COUNT try styles Token COMMENT1 GUIUtilities parseStyle jEdit getProperty family size styles Token COMMENT2 GUIUtilities parseStyle jEdit getProperty family size styles Token LITERAL1 GUIUtilities parseStyle jEdit getProperty family size styles Token LITERAL2 GUIUtilities parseStyle jEdit getProperty family size styles Token LABEL GUIUtilities parseStyle jEdit getProperty family size styles Token KEYWORD1 GUIUtilities parseStyle jEdit getProperty family size styles Token KEYWORD2 GUIUtilities parseStyle jEdit getProperty family size styles Token KEYWORD3 GUIUtilities parseStyle jEdit getProperty family size styles Token FUNCTION GUIUtilities parseStyle jEdit getProperty family size styles Token MARKUP GUIUtilities parseStyle jEdit getProperty family size styles Token OPERATOR GUIUtilities parseStyle jEdit getProperty family size styles Token DIGIT GUIUtilities parseStyle jEdit getProperty family size styles Token INVALID GUIUtilities parseStyle jEdit getProperty family size catch Exception Log log Log ERROR GUIUtilities class return styles public static void loadGeometry Window win String name int width height adjust_x adjust_y adjust_width adjust_height try width Integer parseInt jEdit getProperty name height Integer parseInt jEdit getProperty name catch NumberFormatException nf Dimension size win getSize width size width height size height try Integer parseInt jEdit getProperty name Integer parseInt jEdit getProperty name catch NumberFormatException nf Component parent win getParent if parent null Dimension screen win getToolkit getScreenSize screen width width screen height height else Rectangle bounds parent getBounds bounds bounds width width bounds bounds height height try adjust_x Integer parseInt jEdit getProperty name adjust_y Integer parseInt jEdit getProperty name adjust_width Integer parseInt jEdit getProperty name adjust_height Integer parseInt jEdit getProperty name catch NumberFormatException nf adjust_x adjust_y adjust_width adjust_height Rectangle desired new Rectangle width height Rectangle required new Rectangle adjust_x adjust_y width adjust_width height adjust_height win setBounds required if File separatorChar System getProperty compareTo win setBounds required new UnixWorkaround win name desired required else win setBounds desired static class UnixWorkaround Window win String name Rectangle desired Rectangle required long start boolean windowOpened UnixWorkaround Window win String name Rectangle desired Rectangle required this win win this name name this desired desired this required required start System currentTimeMillis win addComponentListener new ComponentHandler win addWindowListener new WindowHandler class ComponentHandler extends ComponentAdapter public void componentMoved ComponentEvent evt if System currentTimeMillis start Rectangle win getBounds if windowOpened equals required return if equals desired win setBounds desired else win removeComponentListener this public void componentResized ComponentEvent evt if System currentTimeMillis start Rectangle win getBounds if windowOpened equals required return if equals desired win setBounds desired else win removeComponentListener this class WindowHandler extends WindowAdapter public void windowOpened WindowEvent evt windowOpened true Rectangle win getBounds if desired desired width desired width height desired height jEdit setProperty name String valueOf required jEdit setProperty name String valueOf required jEdit setProperty name String valueOf width required width jEdit setProperty name String valueOf height required height win removeWindowListener this public static void saveGeometry Window win String name Rectangle bounds win getBounds jEdit setProperty name String valueOf bounds jEdit setProperty name String valueOf bounds jEdit setProperty name String valueOf bounds width jEdit setProperty name String valueOf bounds height public static void hideSplashScreen if splash null splash dispose splash null public static Image getEditorIcon return ImageIcon EDITOR_WINDOW_ICON getImage public static Image getPluginIcon return ImageIcon PLUGIN_WINDOW_ICON getImage public static void requestFocus final Window win final Component comp win addWindowListener new WindowAdapter public void windowActivated WindowEvent evt comp requestFocus win removeWindowListener this public static boolean isPopupTrigger MouseEvent evt if macOS return evt isControlDown else return evt getModifiers InputEvent BUTTON3_MASK public static JMenu loadMenu View view String name return loadMenu name public static JMenuItem loadMenuItem View view String name return loadMenuItem name true public static Icon loadToolBarIcon String iconName return loadIcon iconName public static String showFileDialog View view String file int type if file null file System getProperty File new File file JFileChooser chooser new JFileChooser chooser setCurrentDirectory if isDirectory chooser setSelectedFile null else chooser setSelectedFile chooser setDialogType type chooser setFileSelectionMode JFileChooser FILES_ONLY int retVal chooser showDialog view null if retVal JFileChooser APPROVE_OPTION File selectedFile chooser getSelectedFile if selectedFile null return selectedFile getAbsolutePath return null static void showSplashScreen splash new SplashScreen static void advanceSplashProgress if splash null splash advance private static SplashScreen splash private static boolean macOS private static Hashtable icons private GUIUtilities static macOS System getProperty indexOf icons new Hashtable NEW_BUFFER_ICON loadIcon DIRTY_BUFFER_ICON loadIcon READ_ONLY_BUFFER_ICON loadIcon NORMAL_BUFFER_ICON loadIcon EDITOR_WINDOW_ICON loadIcon PLUGIN_WINDOW_ICON loadIcon', 'bug': '1'}
{'sequence': 'public interface EBComponent void handleMessage EBMessage message', 'bug': '0'}
{'sequence': 'public class KeyEventWorkaround public static final int ALT_GRAPH_MASK public static KeyEvent processKeyEvent KeyEvent evt int keyCode evt getKeyCode char ch evt getKeyChar switch evt getID case KeyEvent KEY_PRESSED if keyCode KeyEvent VK_CONTROL keyCode KeyEvent VK_SHIFT keyCode KeyEvent VK_ALT keyCode KeyEvent VK_META keyCode return null if java14 handleBrokenKeys evt getModifiers keyCode return evt case KeyEvent KEY_TYPED if ch ch ch ch return null if evt isControlDown evt isAltDown evt isMetaDown return null if java14 if last LAST_BROKEN System currentTimeMillis lastKeyTime Character isLetter ch last LAST_NOTHING return null else if last LAST_ALT System currentTimeMillis lastKeyTime last LAST_NOTHING return null return evt default return evt private static boolean java14 private static long lastKeyTime private static int last private static final int LAST_NOTHING private static final int LAST_ALTGR private static final int LAST_ALT private static final int LAST_BROKEN static java14 System getProperty compareTo private static void handleBrokenKeys int modifiers int keyCode if modifiers KeyEvent ALT_MASK KeyEvent CTRL_MASK modifiers KeyEvent ALT_MASK KeyEvent CTRL_MASK KeyEvent SHIFT_MASK last LAST_ALTGR return else if modifiers ALT_GRAPH_MASK KeyEvent SHIFT_MASK last LAST_NOTHING return if modifiers KeyEvent ALT_MASK last LAST_ALT else if keyCode KeyEvent VK_A keyCode KeyEvent VK_Z keyCode KeyEvent VK_LEFT keyCode KeyEvent VK_RIGHT keyCode KeyEvent VK_UP keyCode KeyEvent VK_DOWN keyCode KeyEvent VK_DELETE keyCode KeyEvent VK_BACK_SPACE keyCode KeyEvent VK_TAB keyCode KeyEvent VK_ENTER last LAST_BROKEN else last LAST_NOTHING lastKeyTime System currentTimeMillis', 'bug': '1'}
{'sequence': 'public class PastePrevious extends EnhancedDialog implements ActionListener ListSelectionListener MouseListener public PastePrevious View view super view jEdit getProperty true this view view JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content clipHistory HistoryModel getModel clips new JList new AbstractListModel public int getSize return clipHistory getSize public Object getElementAt int index return clipHistory getItem index clips setVisibleRowCount clips addMouseListener this clips addListSelectionListener this insert new JButton jEdit getProperty cancel new JButton jEdit getProperty JLabel label new JLabel jEdit getProperty label setBorder new EmptyBorder content add BorderLayout NORTH label JScrollPane scroller new JScrollPane clips Dimension dim scroller getPreferredSize scroller setPreferredSize new Dimension dim height content add scroller BorderLayout CENTER JPanel panel new JPanel panel setLayout new BoxLayout panel BoxLayout X_AXIS panel setBorder new EmptyBorder panel add Box createGlue panel add insert panel add Box createHorizontalStrut panel add cancel panel add Box createGlue content add panel BorderLayout SOUTH updateButtons getRootPane setDefaultButton insert insert addActionListener this cancel addActionListener this GUIUtilities requestFocus this clips pack setLocationRelativeTo view show public void ok int selected clips getSelectedIndex if selected view getToolkit beep return String clip clipHistory getItem selected view getTextArea setSelectedText clip dispose public void cancel dispose public void actionPerformed ActionEvent evt Object source evt getSource if source insert ok else if source cancel cancel public void mouseClicked MouseEvent evt if evt getClickCount ok public void mouseEntered MouseEvent evt public void mouseExited MouseEvent evt public void mousePressed MouseEvent evt public void mouseReleased MouseEvent evt public void valueChanged ListSelectionEvent evt updateButtons private View view private JList clips private HistoryModel clipHistory private JButton insert private JButton cancel private void updateButtons int selected clips getSelectedIndex insert setEnabled selected', 'bug': '1'}
{'sequence': 'public class EditPane extends JPanel implements EBComponent public View getView return view public Buffer getBuffer return buffer public void setBuffer final Buffer buffer if this buffer buffer return if buffer isClosed throw new InternalError buffer buffer endCompoundEdit recentBuffer this buffer if recentBuffer null saveCaretInfo this buffer buffer textArea setBuffer buffer if init view updateTitle if bufferSwitcher null if bufferSwitcher getSelectedItem buffer bufferSwitcher setSelectedItem buffer EditBus send new EditPaneUpdate this EditPaneUpdate BUFFER_CHANGED SwingUtilities invokeLater new Runnable public void run if view getEditPane EditPane this bufferSwitcher null bufferSwitcher isPopupVisible focusOnTextArea Runnable runnable new Runnable public void run loadCaretInfo buffer checkModTime view if buffer isPerformingIO VFSManager runInAWTThread runnable else runnable run public void prevBuffer Buffer buffer this buffer getPrev if buffer null setBuffer jEdit getLastBuffer else setBuffer buffer public void nextBuffer Buffer buffer this buffer getNext if buffer null setBuffer jEdit getFirstBuffer else setBuffer buffer public void recentBuffer if recentBuffer null setBuffer recentBuffer else getToolkit beep public void focusOnTextArea textArea grabFocus public JEditTextArea getTextArea return textArea public void saveCaretInfo buffer putProperty Buffer CARET new Integer textArea getCaretPosition Selection selection textArea getSelection if selection null buffer putProperty Buffer SELECTION selection buffer putProperty Buffer SCROLL_VERT new Integer textArea getFirstLine buffer putProperty Buffer SCROLL_HORIZ new Integer textArea getHorizontalOffset public void loadCaretInfo Integer caret Integer buffer getProperty Buffer CARET Selection selection Selection buffer getProperty Buffer SELECTION Integer firstLine Integer buffer getProperty Buffer SCROLL_VERT Integer horizontalOffset Integer buffer getProperty Buffer SCROLL_HORIZ if caret null textArea setCaretPosition Math min caret intValue buffer getLength if selection null textArea setSelection selection if firstLine null textArea setFirstLine firstLine intValue if horizontalOffset null textArea setHorizontalOffset horizontalOffset intValue public void handleMessage EBMessage msg if msg instanceof PropertiesChanged propertiesChanged loadBufferSwitcher else if msg instanceof BufferUpdate handleBufferUpdate BufferUpdate msg public final Dimension getMinimumSize return new Dimension EditPane View view Buffer buffer super new BorderLayout init true this view view EditBus addToBus this textArea new JEditTextArea view add BorderLayout CENTER textArea markerHighlight new MarkerHighlight textArea getGutter addCustomHighlight markerHighlight propertiesChanged if buffer null setBuffer jEdit getFirstBuffer else setBuffer buffer loadBufferSwitcher init false void close saveCaretInfo EditBus send new EditPaneUpdate this EditPaneUpdate DESTROYED EditBus removeFromBus this private boolean init private View view private Buffer buffer private Buffer recentBuffer private BufferSwitcher bufferSwitcher private JEditTextArea textArea private MarkerHighlight markerHighlight private void propertiesChanged TextAreaPainter painter textArea getPainter painter setFont UIManager getFont painter setBracketHighlightEnabled jEdit getBooleanProperty painter setBracketHighlightColor GUIUtilities parseColor jEdit getProperty painter setEOLMarkersPainted jEdit getBooleanProperty painter setEOLMarkerColor GUIUtilities parseColor jEdit getProperty painter setWrapGuidePainted jEdit getBooleanProperty painter setWrapGuideColor GUIUtilities parseColor jEdit getProperty painter setCaretColor GUIUtilities parseColor jEdit getProperty painter setSelectionColor GUIUtilities parseColor jEdit getProperty painter setBackground GUIUtilities parseColor jEdit getProperty painter setForeground GUIUtilities parseColor jEdit getProperty painter setBlockCaretEnabled jEdit getBooleanProperty painter setLineHighlightEnabled jEdit getBooleanProperty painter setLineHighlightColor GUIUtilities parseColor jEdit getProperty painter setAntiAliasEnabled jEdit getBooleanProperty painter setFractionalFontMetricsEnabled jEdit getBooleanProperty painter setStyles GUIUtilities loadStyles jEdit getProperty Integer parseInt jEdit getProperty Gutter gutter textArea getGutter gutter setExpanded jEdit getBooleanProperty try int interval Integer parseInt jEdit getProperty gutter setHighlightInterval interval catch NumberFormatException nf gutter setCurrentLineHighlightEnabled jEdit getBooleanProperty gutter setBackground GUIUtilities parseColor jEdit getProperty gutter setForeground GUIUtilities parseColor jEdit getProperty gutter setHighlightedForeground GUIUtilities parseColor jEdit getProperty gutter setFoldColor GUIUtilities parseColor jEdit getProperty markerHighlight setMarkerHighlightColor GUIUtilities parseColor jEdit getProperty markerHighlight setHighlightEnabled jEdit getBooleanProperty gutter setCurrentLineForeground GUIUtilities parseColor jEdit getProperty String alignment jEdit getProperty if equals alignment gutter setLineNumberAlignment Gutter RIGHT else if equals alignment gutter setLineNumberAlignment Gutter CENTER gutter setLineNumberAlignment Gutter LEFT try String fontname jEdit getProperty int fontsize Integer parseInt jEdit getProperty int fontstyle Integer parseInt jEdit getProperty gutter setFont new Font fontname fontstyle fontsize catch NumberFormatException nf try int width Integer parseInt jEdit getProperty gutter setBorder width GUIUtilities parseColor jEdit getProperty GUIUtilities parseColor jEdit getProperty textArea getPainter getBackground catch NumberFormatException nf textArea setCaretBlinkEnabled jEdit getBooleanProperty try textArea setElectricScroll Integer parseInt jEdit getProperty catch NumberFormatException nf textArea setElectricScroll textArea setRightClickPopup GUIUtilities loadPopupMenu textArea setMiddleMousePasteEnabled jEdit getBooleanProperty private void loadBufferSwitcher if jEdit getBooleanProperty if bufferSwitcher null bufferSwitcher new BufferSwitcher this add BorderLayout NORTH bufferSwitcher bufferSwitcher updateBufferList revalidate else if bufferSwitcher null remove bufferSwitcher revalidate bufferSwitcher null private void handleBufferUpdate BufferUpdate msg Buffer msg getBuffer if msg getWhat BufferUpdate CREATED if bufferSwitcher null bufferSwitcher updateBufferList if buffer isClosed setBuffer jEdit getFirstBuffer else if msg getWhat BufferUpdate CLOSED if bufferSwitcher null bufferSwitcher updateBufferList if buffer Buffer newBuffer recentBuffer null recentBuffer getPrev if newBuffer null newBuffer isClosed setBuffer newBuffer else if jEdit getBufferCount setBuffer jEdit getFirstBuffer recentBuffer null else if recentBuffer recentBuffer null else if msg getWhat BufferUpdate LOAD_STARTED if buffer textArea setCaretPosition textArea getPainter repaint else if msg getWhat BufferUpdate DIRTY_CHANGED if buffer if bufferSwitcher null if buffer isDirty bufferSwitcher repaint else bufferSwitcher updateBufferList else if msg getWhat BufferUpdate LOADED if buffer textArea repaint textArea updateScrollBars if bufferSwitcher null bufferSwitcher updateBufferList if view getEditPane this StatusBar status view getStatus status repaintCaretStatus status updateBufferStatus status updateMiscStatus loadCaretInfo else if msg getWhat BufferUpdate MARKERS_CHANGED if buffer textArea getGutter repaint else if msg getWhat BufferUpdate MODE_CHANGED if buffer textArea getPainter repaint if view getEditPane this view getStatus updateBufferStatus else if msg getWhat BufferUpdate ENCODING_CHANGED if buffer if view getEditPane this view getStatus updateBufferStatus', 'bug': '1'}
{'sequence': 'public abstract class EBMessage public EBMessage EBComponent source this source source public EBComponent getSource return source public void veto vetoed true public boolean isVetoed return vetoed public String toString return getClass getName paramString public String paramString return source private EBComponent source private boolean vetoed public static abstract class NonVetoable extends EBMessage public NonVetoable EBComponent source super source public void veto throw new InternalError', 'bug': '0'}
{'sequence': 'public class AbbrevsOptionPane extends AbstractOptionPane public AbbrevsOptionPane super protected void setLayout new BorderLayout JPanel panel new JPanel new BorderLayout JPanel panel2 new JPanel panel2 setLayout new BoxLayout panel2 BoxLayout X_AXIS panel2 setBorder new EmptyBorder panel2 add Box createGlue expandOnInput new JCheckBox jEdit getProperty Abbrevs getExpandOnInput panel2 add expandOnInput panel2 add Box createGlue panel add panel2 BorderLayout NORTH JPanel panel3 new JPanel JLabel label new JLabel jEdit getProperty label setBorder new EmptyBorder panel3 add label Hashtable Abbrevs getModeAbbrevs modeAbbrevs new Hashtable Mode modes jEdit getModes String sets new String modes length sets for int modes length String name modes getName sets name modeAbbrevs put name new AbbrevsModel Hashtable get name setsComboBox new JComboBox sets setsComboBox addActionListener new ActionHandler panel3 add setsComboBox panel add panel3 BorderLayout SOUTH add BorderLayout NORTH panel globalAbbrevs new AbbrevsModel Abbrevs getGlobalAbbrevs abbrevsTable new JTable globalAbbrevs abbrevsTable getTableHeader setReorderingAllowed false abbrevsTable getTableHeader addMouseListener new HeaderMouseHandler abbrevsTable addMouseListener new TableMouseHandler Dimension abbrevsTable getPreferredSize height Math min height JScrollPane scroller new JScrollPane abbrevsTable scroller setPreferredSize add BorderLayout CENTER scroller protected void if abbrevsTable getCellEditor null abbrevsTable getCellEditor stopCellEditing Abbrevs setExpandOnInput expandOnInput isSelected Abbrevs setGlobalAbbrevs globalAbbrevs toHashtable Hashtable modeHash new Hashtable Enumeration keys modeAbbrevs keys Enumeration values modeAbbrevs elements while keys hasMoreElements modeHash put keys nextElement AbbrevsModel values nextElement toHashtable Abbrevs setModeAbbrevs modeHash private JComboBox setsComboBox private JCheckBox expandOnInput private JTable abbrevsTable private AbbrevsModel globalAbbrevs private Hashtable modeAbbrevs class HeaderMouseHandler extends MouseAdapter public void mouseClicked MouseEvent evt switch abbrevsTable getTableHeader columnAtPoint evt getPoint case AbbrevsModel abbrevsTable getModel sort break case AbbrevsModel abbrevsTable getModel sort break class TableMouseHandler extends MouseAdapter public void mouseClicked MouseEvent evt if abbrevsTable getSelectedColumn TableModel abbrevsModel abbrevsTable getModel int row abbrevsTable getSelectedRow String abbrev String abbrevsModel getValueAt row String expansion String abbrevsModel getValueAt row expansion new EditAbbrevDialog AbbrevsOptionPane this abbrev expansion getExpansion if expansion null abbrevsModel setValueAt expansion row class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source setsComboBox String selected String setsComboBox getSelectedItem if selected equals abbrevsTable setModel globalAbbrevs else abbrevsTable setModel AbbrevsModel modeAbbrevs get selected class AbbrevsModel extends AbstractTableModel Vector abbrevs AbbrevsModel abbrevs new Vector AbbrevsModel Hashtable abbrevHash this if abbrevHash null Enumeration abbrevEnum abbrevHash keys Enumeration expandEnum abbrevHash elements while abbrevEnum hasMoreElements abbrevs addElement new Abbrev String abbrevEnum nextElement String expandEnum nextElement sort public void sort int col MiscUtilities quicksort abbrevs new AbbrevCompare col fireTableDataChanged public Hashtable toHashtable Hashtable hash new Hashtable for int abbrevs size Abbrev abbrev Abbrev abbrevs elementAt if abbrev abbrev length abbrev expand length hash put abbrev abbrev abbrev expand return hash public int getColumnCount return public int getRowCount return abbrevs size public Object getValueAt int row int col if row abbrevs size return null Abbrev abbrev Abbrev abbrevs elementAt row switch col case return abbrev abbrev case return abbrev expand default return null public boolean isCellEditable int row int col return col public void setValueAt Object value int row int col if value null value Abbrev abbrev if row abbrevs size abbrev new Abbrev abbrevs addElement abbrev else abbrev Abbrev abbrevs elementAt row if col abbrev abbrev String value else abbrev expand String value fireTableRowsUpdated row row public String getColumnName int index switch index case return jEdit getProperty case return jEdit getProperty default return null class AbbrevCompare implements MiscUtilities Compare int col AbbrevCompare int col this col col public int compare Object obj1 Object obj2 Abbrev a1 Abbrev obj1 Abbrev a2 Abbrev obj2 if col String abbrev1 a1 abbrev toLowerCase String abbrev2 a2 abbrev toLowerCase return abbrev1 compareTo abbrev2 else String expand1 a1 expand toLowerCase String expand2 a2 expand toLowerCase return expand1 compareTo expand2 class Abbrev Abbrev Abbrev String abbrev String expand this abbrev abbrev this expand expand String abbrev String expand', 'bug': '1'}
{'sequence': 'public class CloseDialog extends EnhancedDialog public CloseDialog View view super view jEdit getProperty true this view view JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JLabel label new JLabel jEdit getProperty label setBorder new EmptyBorder content add BorderLayout NORTH label bufferList new JList bufferModel new DefaultListModel bufferList setVisibleRowCount bufferList addListSelectionListener new ListHandler Buffer buffers jEdit getBuffers for int buffers length Buffer buffer buffers if buffer isDirty bufferModel addElement buffer getPath content add BorderLayout CENTER new JScrollPane bufferList ActionHandler actionListener new ActionHandler JPanel buttons new JPanel buttons setLayout new BoxLayout buttons BoxLayout X_AXIS buttons setBorder new EmptyBorder buttons add Box createGlue buttons add save new JButton jEdit getProperty save setMnemonic jEdit getProperty charAt save addActionListener actionListener buttons add Box createHorizontalStrut buttons add discard new JButton jEdit getProperty discard setMnemonic jEdit getProperty charAt discard addActionListener actionListener buttons add Box createHorizontalStrut buttons add cancel new JButton jEdit getProperty cancel addActionListener actionListener buttons add Box createGlue bufferList setSelectedIndex content add BorderLayout SOUTH buttons GUIUtilities requestFocus this bufferList pack setLocationRelativeTo view show public boolean isOK return ok public void ok public void cancel dispose private View view private JList bufferList private DefaultListModel bufferModel private JButton save private JButton discard private JButton cancel private void updateButtons int index bufferList getSelectedIndex save getModel setEnabled index discard getModel setEnabled index class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source save Object paths bufferList getSelectedValues for int paths length String path String paths Buffer buffer jEdit getBuffer path if buffer save view null true return VFSManager waitForRequests jEdit view buffer bufferModel removeElement path updateButtons if bufferModel getSize ok true dispose else if source discard Object paths bufferList getSelectedValues for int paths length String path String paths Buffer buffer jEdit getBuffer path jEdit view buffer bufferModel removeElement path updateButtons if bufferModel getSize ok true dispose else if source cancel cancel class ListHandler implements ListSelectionListener public void valueChanged ListSelectionEvent evt int index bufferList getSelectedIndex if index view setBuffer jEdit getBuffer String bufferModel getElementAt index updateButtons', 'bug': '1'}
{'sequence': 'public class SearchDialog extends EnhancedDialog public static final int CURRENT_BUFFER public static final int ALL_BUFFERS public static final int DIRECTORY public SearchDialog View view String searchString this view searchString CURRENT_BUFFER public SearchDialog View view String searchString int searchIn super view jEdit getProperty false this view view JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JPanel centerPanel new JPanel new BorderLayout centerPanel add BorderLayout NORTH createFieldPanel centerPanel add BorderLayout CENTER createSearchSettingsPanel content add BorderLayout CENTER centerPanel content add BorderLayout SOUTH createMultiFilePanel content add BorderLayout EAST createButtonsPanel if searchString null searchString indexOf find setText searchString find selectAll else replace setText null ignoreCase setSelected SearchAndReplace getIgnoreCase regexp setSelected SearchAndReplace getRegexp wrap setSelected SearchAndReplace getAutoWrapAround if SearchAndReplace getReverseSearch searchBack setSelected true else searchForward setSelected true if SearchAndReplace getBeanShellReplace beanShellReplace setSelected true else stringReplace setSelected true if searchIn CURRENT_BUFFER searchCurrentBuffer setSelected true else if searchIn ALL_BUFFERS searchAllBuffers setSelected true else if searchIn DIRECTORY searchDirectory setSelected true SearchFileSet fileset SearchAndReplace getSearchFileSet if fileset instanceof DirectoryListSet filter setText DirectoryListSet fileset getFileFilter directory setText DirectoryListSet fileset getDirectory searchSubDirectories setSelected DirectoryListSet fileset isRecursive else String path if view getBuffer getVFS instanceof FileVFS path MiscUtilities getParentOfPath view getBuffer getPath else path System getProperty directory setText path if fileset instanceof AllBufferSet filter setText AllBufferSet fileset getFileFilter else filter setText MiscUtilities getFileExtension view getBuffer getName searchSubDirectories setSelected true keepDialog setSelected jEdit getBooleanProperty hyperSearch setSelected jEdit getBooleanProperty updateEnabled pack jEdit unsetProperty jEdit unsetProperty jEdit unsetProperty jEdit unsetProperty GUIUtilities loadGeometry this show GUIUtilities requestFocus this find public void ok try setCursor Cursor getPredefinedCursor Cursor WAIT_CURSOR if save return if hyperSearch isSelected if SearchAndReplace hyperSearch view closeOrKeepDialog else if SearchAndReplace find view closeOrKeepDialog finally setCursor Cursor getPredefinedCursor Cursor DEFAULT_CURSOR public void cancel save GUIUtilities saveGeometry this setVisible false private View view private HistoryTextField find replace private JRadioButton stringReplace beanShellReplace private JCheckBox keepDialog ignoreCase regexp hyperSearch wrap private JRadioButton searchBack searchForward private JRadioButton searchCurrentBuffer searchAllBuffers searchDirectory private HistoryTextField filter directory private JCheckBox searchSubDirectories private JButton choose private JButton findBtn replaceBtn replaceAndFindBtn replaceAllBtn closeBtn private JPanel createFieldPanel ButtonActionHandler actionHandler new ButtonActionHandler JPanel fieldPanel new JPanel new VariableGridLayout VariableGridLayout FIXED_NUM_COLUMNS fieldPanel setBorder new EmptyBorder JLabel label new JLabel jEdit getProperty label setDisplayedMnemonic jEdit getProperty charAt find new HistoryTextField find addActionListener actionHandler label setLabelFor find label setBorder new EmptyBorder fieldPanel add label fieldPanel add find label new JLabel jEdit getProperty label setDisplayedMnemonic jEdit getProperty charAt label setBorder new EmptyBorder fieldPanel add label ButtonGroup grp new ButtonGroup ReplaceActionHandler replaceActionHandler new ReplaceActionHandler Box replaceModeBox new Box BoxLayout X_AXIS stringReplace new MyJRadioButton jEdit getProperty stringReplace addActionListener replaceActionHandler grp add stringReplace replaceModeBox add stringReplace replaceModeBox add Box createHorizontalStrut beanShellReplace new MyJRadioButton jEdit getProperty beanShellReplace addActionListener replaceActionHandler grp add beanShellReplace replaceModeBox add beanShellReplace fieldPanel add replaceModeBox fieldPanel add Box createVerticalStrut replace new HistoryTextField replace addActionListener actionHandler label setLabelFor replace fieldPanel add replace return fieldPanel private JPanel createSearchSettingsPanel JPanel searchSettings new JPanel new VariableGridLayout VariableGridLayout FIXED_NUM_COLUMNS searchSettings setBorder new EmptyBorder SettingsActionHandler actionHandler new SettingsActionHandler ButtonGroup fileset new ButtonGroup searchSettings add new JLabel jEdit getProperty keepDialog new JCheckBox jEdit getProperty keepDialog setMnemonic jEdit getProperty charAt searchSettings add keepDialog searchSettings add new JLabel jEdit getProperty ButtonGroup direction new ButtonGroup searchCurrentBuffer new JRadioButton jEdit getProperty searchCurrentBuffer setMnemonic jEdit getProperty charAt fileset add searchCurrentBuffer searchSettings add searchCurrentBuffer searchCurrentBuffer addActionListener actionHandler ignoreCase new JCheckBox jEdit getProperty ignoreCase setMnemonic jEdit getProperty charAt searchSettings add ignoreCase ignoreCase addActionListener actionHandler searchBack new JRadioButton jEdit getProperty searchBack setMnemonic jEdit getProperty charAt direction add searchBack searchSettings add searchBack searchBack addActionListener actionHandler searchAllBuffers new JRadioButton jEdit getProperty searchAllBuffers setMnemonic jEdit getProperty charAt fileset add searchAllBuffers searchSettings add searchAllBuffers searchAllBuffers addActionListener actionHandler regexp new JCheckBox jEdit getProperty regexp setMnemonic jEdit getProperty charAt searchSettings add regexp regexp addActionListener actionHandler searchForward new JRadioButton jEdit getProperty searchForward setMnemonic jEdit getProperty charAt direction add searchForward searchSettings add searchForward searchForward addActionListener actionHandler searchDirectory new JRadioButton jEdit getProperty searchDirectory setMnemonic jEdit getProperty charAt fileset add searchDirectory searchSettings add searchDirectory searchDirectory addActionListener actionHandler hyperSearch new JCheckBox jEdit getProperty hyperSearch setMnemonic jEdit getProperty charAt searchSettings add hyperSearch hyperSearch addActionListener actionHandler wrap new JCheckBox jEdit getProperty wrap setMnemonic jEdit getProperty charAt searchSettings add wrap wrap addActionListener actionHandler return searchSettings private JPanel createMultiFilePanel JPanel multifile new JPanel GridBagLayout layout new GridBagLayout multifile setLayout layout GridBagConstraints cons new GridBagConstraints cons gridy cons gridwidth cons gridheight cons anchor GridBagConstraints WEST cons fill GridBagConstraints HORIZONTAL MultiFileActionHandler actionListener new MultiFileActionHandler filter new HistoryTextField filter addActionListener actionListener cons insets new Insets JLabel label new JLabel jEdit getProperty SwingConstants RIGHT label setBorder new EmptyBorder label setDisplayedMnemonic jEdit getProperty charAt label setLabelFor filter cons weightx layout setConstraints label cons multifile add label cons insets new Insets cons weightx layout setConstraints filter cons multifile add filter cons gridy directory new HistoryTextField directory addActionListener actionListener label new JLabel jEdit getProperty SwingConstants RIGHT label setBorder new EmptyBorder label setDisplayedMnemonic jEdit getProperty charAt label setLabelFor directory cons insets new Insets cons weightx layout setConstraints label cons multifile add label cons insets new Insets cons weightx cons gridwidth layout setConstraints directory cons multifile add directory choose new JButton jEdit getProperty choose setMnemonic jEdit getProperty charAt cons insets new Insets cons weightx cons gridwidth layout setConstraints choose cons multifile add choose choose addActionListener actionListener cons insets new Insets cons gridy cons gridwidth searchSubDirectories new JCheckBox jEdit getProperty searchSubDirectories setMnemonic jEdit getProperty charAt layout setConstraints searchSubDirectories cons multifile add searchSubDirectories return multifile private Box createButtonsPanel Box box new Box BoxLayout Y_AXIS ButtonActionHandler actionHandler new ButtonActionHandler box add Box createVerticalStrut JPanel grid new JPanel new GridLayout findBtn new JButton jEdit getProperty getRootPane setDefaultButton findBtn grid add findBtn findBtn addActionListener actionHandler replaceBtn new JButton jEdit getProperty replaceBtn setMnemonic jEdit getProperty charAt grid add replaceBtn replaceBtn addActionListener actionHandler replaceAndFindBtn new JButton jEdit getProperty replaceAndFindBtn setMnemonic jEdit getProperty charAt grid add replaceAndFindBtn replaceAndFindBtn addActionListener actionHandler replaceAllBtn new JButton jEdit getProperty replaceAllBtn setMnemonic jEdit getProperty charAt grid add replaceAllBtn replaceAllBtn addActionListener actionHandler closeBtn new JButton jEdit getProperty grid add closeBtn closeBtn addActionListener actionHandler grid setMaximumSize grid getPreferredSize box add grid box add Box createGlue return box private void updateEnabled boolean replaceEnabled hyperSearch isSelected stringReplace setEnabled replaceEnabled beanShellReplace setEnabled replaceEnabled replace setEnabled replaceEnabled replaceBtn setEnabled replaceEnabled replaceAndFindBtn setEnabled replaceEnabled replaceAllBtn setEnabled replaceEnabled wrap setEnabled replaceEnabled boolean reverseEnabled replaceEnabled searchCurrentBuffer isSelected searchBack setEnabled reverseEnabled searchForward setEnabled reverseEnabled boolean regexpEnabled hyperSearch isSelected searchBack isEnabled searchBack isSelected regexp setEnabled regexpEnabled filter setEnabled searchAllBuffers isSelected searchDirectory isSelected boolean directoryEnabled searchDirectory isSelected directory setEnabled directoryEnabled choose setEnabled directoryEnabled searchSubDirectories setEnabled directoryEnabled private boolean save String filter this filter getText this filter addCurrentToHistory if filter length filter SearchFileSet fileset SearchAndReplace getSearchFileSet if searchCurrentBuffer isSelected fileset new CurrentBufferSet else if searchAllBuffers isSelected fileset new AllBufferSet filter else if searchDirectory isSelected String directory this directory getText this directory addCurrentToHistory boolean recurse searchSubDirectories isSelected if fileset instanceof DirectoryListSet DirectoryListSet dset DirectoryListSet fileset if dset getDirectory equals directory dset getFileFilter equals filter dset isRecursive recurse fileset new DirectoryListSet directory filter recurse else fileset new DirectoryListSet directory filter recurse else fileset null jEdit setBooleanProperty keepDialog isSelected jEdit setBooleanProperty hyperSearch isSelected boolean ok true if fileset getBufferCount GUIUtilities error this null ok false else SearchAndReplace setSearchFileSet fileset if find getText length find addCurrentToHistory SearchAndReplace setSearchString find getText replace addCurrentToHistory SearchAndReplace setReplaceString replace getText else ok false return ok private void closeOrKeepDialog if keepDialog isSelected return else GUIUtilities saveGeometry this setVisible false class MyJRadioButton extends JRadioButton MyJRadioButton String label super label public boolean isFocusTraversable return false class ReplaceActionHandler implements ActionListener public void actionPerformed ActionEvent evt replace setModel beanShellReplace isSelected SearchAndReplace setBeanShellReplace beanShellReplace isSelected class SettingsActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source ignoreCase SearchAndReplace setIgnoreCase ignoreCase isSelected else if source regexp SearchAndReplace setRegexp regexp isSelected else if source searchBack source searchForward SearchAndReplace setReverseSearch searchBack isSelected else if source wrap SearchAndReplace setAutoWrapAround wrap isSelected updateEnabled class MultiFileActionHandler implements ActionListener public void actionPerformed ActionEvent evt if evt getSource choose File dir new File directory getText JFileChooser chooser new JFileChooser dir getParent chooser setFileSelectionMode JFileChooser DIRECTORIES_ONLY chooser setSelectedFile dir if chooser showOpenDialog SearchDialog this JFileChooser APPROVE_OPTION directory setText chooser getSelectedFile getPath ok class ButtonActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source closeBtn cancel else if source findBtn source find source replace ok else if source replaceBtn save if SearchAndReplace replace view closeOrKeepDialog else getToolkit beep else if source replaceAndFindBtn save if SearchAndReplace replace view ok else getToolkit beep else if source replaceAllBtn setCursor Cursor getPredefinedCursor Cursor WAIT_CURSOR save if SearchAndReplace replaceAll view closeOrKeepDialog else getToolkit beep setCursor Cursor getPredefinedCursor Cursor DEFAULT_CURSOR', 'bug': '1'}
{'sequence': 'final class RETokenLookAhead extends REToken RE re boolean negative RETokenLookAhead Object pattern int cflags RESyntax syntax boolean negative throws REException super re new RE pattern cflags syntax this negative negative boolean match CharIndexed input REMatch mymatch REMatch trymatch REMatch mymatch clone REMatch trymatch1 REMatch mymatch clone REMatch newMatch null if re match input trymatch if negative return false if next input trymatch1 newMatch trymatch1 if newMatch null if negative return false mymatch assignFrom newMatch return true if negative return next input mymatch return false', 'bug': '0'}
{'sequence': 'public final class RESyntax implements Serializable static final String DEFAULT_LINE_SEPARATOR System getProperty private static final String SYNTAX_IS_FINAL RE getLocalizedMessage private BitSet bits private boolean isFinal false private String lineSeparator DEFAULT_LINE_SEPARATOR public static final int RE_BACKSLASH_ESCAPE_IN_LISTS public static final int RE_BK_PLUS_QM public static final int RE_CHAR_CLASSES public static final int RE_CONTEXT_INDEP_ANCHORS public static final int RE_CONTEXT_INDEP_OPS public static final int RE_CONTEXT_INVALID_OPS public static final int RE_DOT_NEWLINE public static final int RE_DOT_NOT_NULL public static final int RE_INTERVALS public static final int RE_LIMITED_OPS public static final int RE_NO_BK_BRACES public static final int RE_NO_BK_PARENS public static final int RE_NO_BK_REFS public static final int RE_NO_BK_VBAR public static final int RE_NO_EMPTY_RANGES public static final int RE_UNMATCHED_RIGHT_PAREN_ORD public static final int RE_HAT_LISTS_NOT_NEWLINE public static final int RE_STINGY_OPS public static final int RE_CHAR_CLASS_ESCAPES public static final int RE_PURE_GROUPING public static final int RE_LOOKAHEAD public static final int RE_STRING_ANCHORS public static final int RE_COMMENTS public static final int RE_CHAR_CLASS_ESC_IN_LISTS private static final int BIT_TOTAL public static final RESyntax RE_SYNTAX_AWK public static final RESyntax RE_SYNTAX_ED public static final RESyntax RE_SYNTAX_EGREP public static final RESyntax RE_SYNTAX_EMACS public static final RESyntax RE_SYNTAX_GREP public static final RESyntax RE_SYNTAX_POSIX_AWK public static final RESyntax RE_SYNTAX_POSIX_BASIC public static final RESyntax RE_SYNTAX_POSIX_EGREP public static final RESyntax RE_SYNTAX_POSIX_EXTENDED public static final RESyntax RE_SYNTAX_POSIX_MINIMAL_BASIC public static final RESyntax RE_SYNTAX_POSIX_MINIMAL_EXTENDED public static final RESyntax RE_SYNTAX_SED public static final RESyntax RE_SYNTAX_PERL4 public static final RESyntax RE_SYNTAX_PERL5 public static final RESyntax RE_SYNTAX_PERL5_S static RE_SYNTAX_EMACS new RESyntax makeFinal RESyntax RE_SYNTAX_POSIX_COMMON new RESyntax set RE_CHAR_CLASSES set RE_DOT_NEWLINE set RE_DOT_NOT_NULL set RE_INTERVALS set RE_NO_EMPTY_RANGES makeFinal RE_SYNTAX_POSIX_BASIC new RESyntax RE_SYNTAX_POSIX_COMMON set RE_BK_PLUS_QM makeFinal RE_SYNTAX_POSIX_EXTENDED new RESyntax RE_SYNTAX_POSIX_COMMON set RE_CONTEXT_INDEP_ANCHORS set RE_CONTEXT_INDEP_OPS set RE_NO_BK_BRACES set RE_NO_BK_PARENS set RE_NO_BK_VBAR set RE_UNMATCHED_RIGHT_PAREN_ORD makeFinal RE_SYNTAX_AWK new RESyntax set RE_BACKSLASH_ESCAPE_IN_LISTS set RE_DOT_NOT_NULL set RE_NO_BK_PARENS set RE_NO_BK_REFS set RE_NO_BK_VBAR set RE_NO_EMPTY_RANGES set RE_UNMATCHED_RIGHT_PAREN_ORD makeFinal RE_SYNTAX_POSIX_AWK new RESyntax RE_SYNTAX_POSIX_EXTENDED set RE_BACKSLASH_ESCAPE_IN_LISTS makeFinal RE_SYNTAX_GREP new RESyntax set RE_BK_PLUS_QM set RE_CHAR_CLASSES set RE_HAT_LISTS_NOT_NEWLINE set RE_INTERVALS set RE_NEWLINE_ALT makeFinal RE_SYNTAX_EGREP new RESyntax set RE_CHAR_CLASSES set RE_CONTEXT_INDEP_ANCHORS set RE_CONTEXT_INDEP_OPS set RE_HAT_LISTS_NOT_NEWLINE set RE_NEWLINE_ALT set RE_NO_BK_PARENS set RE_NO_BK_VBAR makeFinal RE_SYNTAX_POSIX_EGREP new RESyntax RE_SYNTAX_EGREP set RE_INTERVALS set RE_NO_BK_BRACES makeFinal RE_SYNTAX_ED new RESyntax RE_SYNTAX_POSIX_BASIC makeFinal RE_SYNTAX_SED new RESyntax RE_SYNTAX_POSIX_BASIC makeFinal RE_SYNTAX_POSIX_MINIMAL_BASIC new RESyntax RE_SYNTAX_POSIX_COMMON set RE_LIMITED_OPS makeFinal RE_SYNTAX_POSIX_MINIMAL_EXTENDED new RESyntax RE_SYNTAX_POSIX_COMMON set RE_CONTEXT_INDEP_ANCHORS set RE_CONTEXT_INVALID_OPS set RE_NO_BK_BRACES set RE_NO_BK_PARENS set RE_NO_BK_REFS set RE_NO_BK_VBAR set RE_UNMATCHED_RIGHT_PAREN_ORD makeFinal RE_SYNTAX_PERL4 new RESyntax set RE_BACKSLASH_ESCAPE_IN_LISTS set RE_CONTEXT_INDEP_ANCHORS set RE_INTERVALS set RE_NO_BK_BRACES set RE_NO_BK_PARENS set RE_NO_BK_VBAR set RE_NO_EMPTY_RANGES makeFinal RE_SYNTAX_PERL4_S new RESyntax RE_SYNTAX_PERL4 set RE_DOT_NEWLINE makeFinal RE_SYNTAX_PERL5 new RESyntax RE_SYNTAX_PERL4 makeFinal RE_SYNTAX_PERL5_S new RESyntax RE_SYNTAX_PERL5 set RE_DOT_NEWLINE makeFinal public RESyntax bits new BitSet BIT_TOTAL public RESyntax makeFinal isFinal true return this public RESyntax RESyntax other bits BitSet other bits clone public boolean get int index return bits get index public RESyntax set int index if isFinal throw new IllegalAccessError SYNTAX_IS_FINAL bits set index return this public RESyntax clear int index if isFinal throw new IllegalAccessError SYNTAX_IS_FINAL bits clear index return this public RESyntax setLineSeparator String aSeparator if isFinal throw new IllegalAccessError SYNTAX_IS_FINAL lineSeparator aSeparator return this public String getLineSeparator return lineSeparator', 'bug': '0'}
{'sequence': 'public class AllBufferSet extends BufferListSet public AllBufferSet String glob super listFiles glob this glob glob public String getFileFilter return glob public String getCode return MiscUtilities charsToEscapes glob private String glob private static Vector listFiles String glob Buffer buffers jEdit getBuffers Vector vector new Vector buffers length RE filter try filter new RE MiscUtilities globToRE glob catch Exception Log log Log ERROR DirectoryListSet class return vector for int buffers length Buffer buffer buffers if filter isMatch buffer getName vector addElement buffer getPath return vector', 'bug': '0'}
{'sequence': 'class ReturnControl implements ParserConstants public int kind public Object value public ReturnControl int kind Object value this kind kind this value value', 'bug': '0'}
{'sequence': 'public class EditAbbrevDialog extends JDialog public EditAbbrevDialog Component comp String abbrev String expansion super JOptionPane getFrameForComponent comp jEdit getProperty true this comp comp JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content content add BorderLayout NORTH new JLabel jEdit getProperty new String abbrev editor new AbbrevEditor editor setExpansion expansion editor setBorder new EmptyBorder content add BorderLayout CENTER editor Box box new Box BoxLayout X_AXIS box add Box createGlue ok new JButton jEdit getProperty ok addActionListener new ActionHandler getRootPane setDefaultButton ok box add ok box add Box createHorizontalStrut cancel new JButton jEdit getProperty cancel addActionListener new ActionHandler box add cancel box add Box createGlue content add BorderLayout SOUTH box KeyListener listener new KeyHandler addKeyListener listener editor getBeforeCaretTextArea addKeyListener listener editor getAfterCaretTextArea addKeyListener listener setDefaultCloseOperation DISPOSE_ON_CLOSE GUIUtilities requestFocus this editor getBeforeCaretTextArea pack setLocationRelativeTo comp show public String getExpansion if isOK return null return editor getExpansion private Component comp private AbbrevEditor editor private JButton ok private JButton cancel private boolean isOK class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt if evt getSource ok isOK true dispose class KeyHandler extends KeyAdapter public void keyPressed KeyEvent evt if evt getKeyCode KeyEvent VK_ESCAPE dispose', 'bug': '0'}
{'sequence': 'public class SelectLineRange extends EnhancedDialog implements ActionListener public SelectLineRange View view super view jEdit getProperty true this view view JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JLabel label new JLabel jEdit getProperty label setBorder new EmptyBorder content add BorderLayout NORTH label JPanel panel createFieldPanel content add BorderLayout CENTER panel panel new JPanel panel setLayout new BoxLayout panel BoxLayout X_AXIS panel setBorder new EmptyBorder panel add Box createGlue panel add Box createGlue ok new JButton jEdit getProperty ok addActionListener this getRootPane setDefaultButton ok panel add ok panel add Box createHorizontalStrut cancel new JButton jEdit getProperty cancel addActionListener this panel add cancel panel add Box createGlue content add panel BorderLayout SOUTH GUIUtilities requestFocus this startField pack setLocationRelativeTo view show public void ok int startLine int endLine try startLine Integer parseInt startField getText endLine Integer parseInt endField getText catch NumberFormatException nf getToolkit beep return Buffer buffer view getBuffer Element map buffer getDefaultRootElement if startLine endLine map getElementCount getToolkit beep return int startOffset map getElement startLine getStartOffset int endOffset map getElement endLine getEndOffset JEditTextArea textArea view getTextArea textArea setSelection new Selection Range startOffset endOffset textArea moveCaretPosition endOffset dispose public void cancel dispose public void actionPerformed ActionEvent evt Object source evt getSource if source ok ok else if source cancel cancel private View view private JTextField startField private JTextField endField private JButton ok private JButton cancel private JPanel createFieldPanel GridBagLayout layout new GridBagLayout JPanel panel new JPanel layout GridBagConstraints cons new GridBagConstraints cons insets new Insets cons gridwidth cons gridheight cons gridx cons gridy cons fill GridBagConstraints BOTH JLabel label new JLabel jEdit getProperty SwingConstants RIGHT layout setConstraints label cons panel add label startField new JTextField cons gridx cons weightx layout setConstraints startField cons panel add startField label new JLabel jEdit getProperty SwingConstants RIGHT cons gridx cons weightx cons gridy layout setConstraints label cons panel add label endField new JTextField cons gridx cons weightx layout setConstraints endField cons panel add endField return panel', 'bug': '0'}
{'sequence': 'class BSHSwitchStatement extends SimpleNode implements ParserConstants public BSHSwitchStatement int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError int numchild jjtGetNumChildren int child SimpleNode switchExp SimpleNode jjtGetChild child Object switchVal switchExp eval callstack interpreter BSHSwitchLabel label Object node ReturnControl returnControl null if child numchild throw new EvalError label BSHSwitchLabel jjtGetChild child while child numchild returnControl null if label isDefault label eval callstack interpreter equals switchVal while child numchild node jjtGetChild child if node instanceof BSHSwitchLabel continue Object value SimpleNode node eval callstack interpreter if value instanceof ReturnControl returnControl ReturnControl value break else while child numchild node jjtGetChild child if node instanceof BSHSwitchLabel label BSHSwitchLabel node break if returnControl null returnControl kind RETURN return returnControl else return Primitive VOID', 'bug': '0'}
{'sequence': 'public class FavoritesVFS extends VFS public static final String PROTOCOL public FavoritesVFS super instance this public int getCapabilities public String getParentOfPath String path return PROTOCOL public VFS DirectoryEntry Object session String url Component comp synchronized lock VFS DirectoryEntry retVal new VFS DirectoryEntry favorites size for int retVal length String favorite String favorites elementAt retVal session favorite comp return retVal public DirectoryEntry Object session String path Component comp return new VFS DirectoryEntry path path path VFS DirectoryEntry DIRECTORY false public boolean Object session String path Component comp synchronized lock path path substring PROTOCOL length favorites removeElement path VFSManager sendVFSUpdate this PROTOCOL false return true public static void loadFavorites synchronized lock String favorite int while favorite jEdit getProperty null favorites addElement favorite public static void addToFavorites String path synchronized lock favorites addElement path VFSManager sendVFSUpdate instance PROTOCOL false public static void saveFavorites synchronized lock for int favorites size jEdit setProperty String favorites elementAt jEdit unsetProperty favorites size private static FavoritesVFS instance private static Object lock new Object private static Vector favorites new Vector', 'bug': '1'}
{'sequence': 'public class GeneralOptionPane extends AbstractOptionPane public GeneralOptionPane super protected void addComponent new JLabel jEdit getProperty lfs UIManager getInstalledLookAndFeels String names new String lfs length String lf UIManager getLookAndFeel getClass getName int index for int names length names lfs getName if lf equals lfs getClassName index lookAndFeel new JComboBox names lookAndFeel setSelectedIndex index addComponent jEdit getProperty lookAndFeel history new JTextField jEdit getProperty addComponent jEdit getProperty history saveCaret new JCheckBox jEdit getProperty saveCaret setSelected jEdit getBooleanProperty addComponent saveCaret sortBuffers new JCheckBox jEdit getProperty sortBuffers setSelected jEdit getBooleanProperty addComponent sortBuffers sortByName new JCheckBox jEdit getProperty sortByName setSelected jEdit getBooleanProperty addComponent sortByName checkModStatus new JCheckBox jEdit getProperty checkModStatus setSelected jEdit getBooleanProperty addComponent checkModStatus showFullPath new JCheckBox jEdit getProperty showFullPath setSelected jEdit getBooleanProperty addComponent showFullPath showSearchbar new JCheckBox jEdit getProperty showSearchbar setSelected jEdit getBooleanProperty addComponent showSearchbar showBufferSwitcher new JCheckBox jEdit getProperty showBufferSwitcher setSelected jEdit getBooleanProperty addComponent showBufferSwitcher showTips new JCheckBox jEdit getProperty showTips setSelected jEdit getBooleanProperty addComponent showTips showSplash new JCheckBox jEdit getProperty String settingsDirectory jEdit getSettingsDirectory if settingsDirectory null showSplash setSelected true else showSplash setSelected new File settingsDirectory exists addComponent showSplash globalColors new JCheckBox jEdit getProperty globalColors setSelected jEdit getBooleanProperty addComponent globalColors protected void String lf lfs lookAndFeel getSelectedIndex getClassName jEdit setProperty lf jEdit setProperty history getText jEdit setBooleanProperty saveCaret isSelected jEdit setBooleanProperty sortBuffers isSelected jEdit setBooleanProperty sortByName isSelected jEdit setBooleanProperty checkModStatus isSelected jEdit setBooleanProperty showFullPath isSelected jEdit setBooleanProperty showSearchbar isSelected jEdit setBooleanProperty showBufferSwitcher isSelected jEdit setBooleanProperty showTips isSelected String settingsDirectory jEdit getSettingsDirectory if settingsDirectory null File file new File settingsDirectory if showSplash isSelected file delete else try FileOutputStream out new FileOutputStream file out write out close catch IOException io Log log Log ERROR this io jEdit setBooleanProperty globalColors isSelected private UIManager LookAndFeelInfo lfs private JComboBox lookAndFeel private JTextField history private JCheckBox saveCaret private JCheckBox sortBuffers private JCheckBox sortByName private JCheckBox checkModStatus private JCheckBox showFullPath private JCheckBox showSearchbar private JCheckBox showBufferSwitcher private JCheckBox showTips private JCheckBox showSplash private JCheckBox globalColors', 'bug': '0'}
{'sequence': 'public class CurrentDirectoryMenu extends EnhancedMenu public CurrentDirectoryMenu super public void setPopupMenuVisible boolean if final View view EditAction getView this if getMenuComponentCount removeAll File file view getBuffer getFile if file null JMenuItem mi new JMenuItem jEdit getProperty mi setEnabled false add mi super setPopupMenuVisible return File dir new File file getParent JMenuItem mi new JMenuItem dir getPath mi setEnabled false add mi addSeparator JMenu current this ActionListener listener new ActionListener public void actionPerformed ActionEvent evt jEdit openFile view evt getActionCommand String backupPrefix jEdit getProperty String backupSuffix jEdit getProperty String list dir list if list null MiscUtilities quicksort list new MiscUtilities StringICaseCompare for int list length String name list if name endsWith continue if name startsWith name endsWith continue if backupPrefix length name startsWith backupPrefix backupSuffix length name endsWith backupSuffix continue file new File dir name if file isDirectory continue mi new JMenuItem name mi setActionCommand file getPath mi addActionListener listener if current getItemCount JMenu newCurrent new JMenu jEdit getProperty current add newCurrent current newCurrent current add mi super setPopupMenuVisible', 'bug': '1'}
{'sequence': 'public class JCheckBoxList extends JTable public JCheckBoxList Object items setModel items public JCheckBoxList Vector items setModel items public void setModel Object items setModel new CheckBoxListModel items init public void setModel Vector items setModel new CheckBoxListModel items init public Object getCheckedValues Vector values new Vector CheckBoxListModel model CheckBoxListModel getModel for int model items size Entry entry Entry model items elementAt if entry checked values addElement entry value Object retVal new Object values size values copyInto retVal return retVal public Entry getValues CheckBoxListModel model CheckBoxListModel getModel Entry retVal new Entry model items size model items copyInto retVal return retVal public Object getSelectedValue int row getSelectedRow if row return null else return getModel getValueAt row private void init getSelectionModel setSelectionMode ListSelectionModel SINGLE_SELECTION setShowGrid false setAutoResizeMode JTable AUTO_RESIZE_LAST_COLUMN TableColumn column getColumnModel getColumn int checkBoxWidth new JCheckBox getPreferredSize width column setPreferredWidth checkBoxWidth column setMinWidth checkBoxWidth column setWidth checkBoxWidth column setMaxWidth checkBoxWidth column setResizable false public static class Entry boolean checked Object value public Entry boolean checked Object value this checked checked this value value public boolean isChecked return checked public Object getValue return value class CheckBoxListModel extends AbstractTableModel Vector items CheckBoxListModel Vector items new Vector size for int size items addElement createEntry elementAt CheckBoxListModel Object items new Vector length for int length items addElement createEntry private JCheckBoxList Entry createEntry Object obj if obj instanceof JCheckBoxList Entry return JCheckBoxList Entry obj else return new JCheckBoxList Entry false obj public int getRowCount return items size public int getColumnCount return public String getColumnName int col return null public Object getValueAt int row int col JCheckBoxList Entry entry JCheckBoxList Entry items elementAt row switch col case return new Boolean entry checked case return entry value default throw new InternalError public Class getColumnClass int col switch col case return Boolean class case return String class default throw new InternalError public boolean isCellEditable int row int col return col JCheckBoxList Entry items elementAt row value instanceof String public void setValueAt Object value int row int col if col JCheckBoxList Entry items elementAt row checked value equals Boolean TRUE', 'bug': '0'}
{'sequence': 'interface Node extends java io Serializable public void jjtOpen public void jjtClose public void jjtSetParent Node public Node jjtGetParent public void jjtAddChild Node int public Node jjtGetChild int public int jjtGetNumChildren', 'bug': '0'}
{'sequence': 'public class ColorOptionPane extends AbstractOptionPane public static final EmptyBorder noFocusBorder new EmptyBorder public ColorOptionPane super protected void setLayout new BorderLayout add BorderLayout CENTER createColorTableScroller protected void colorModel save private ColorTableModel colorModel private JTable colorTable private JScrollPane createColorTableScroller colorModel createColorTableModel colorTable new JTable colorModel colorTable setRowSelectionAllowed false colorTable setColumnSelectionAllowed false colorTable setCellSelectionEnabled false colorTable getTableHeader setReorderingAllowed false colorTable addMouseListener new MouseHandler TableColumnModel tcm colorTable getColumnModel TableColumn colorColumn tcm getColumn colorColumn setCellRenderer new ColorTableModel ColorRenderer Dimension colorTable getPreferredSize height Math min height JScrollPane scroller new JScrollPane colorTable scroller setPreferredSize return scroller private ColorTableModel createColorTableModel return new ColorTableModel class MouseHandler extends MouseAdapter public void mouseClicked MouseEvent evt int row colorTable rowAtPoint evt getPoint if row return Color color JColorChooser showDialog ColorOptionPane this jEdit getProperty Color colorModel getValueAt row if color null colorModel setValueAt color row class ColorTableModel extends AbstractTableModel private Vector colorChoices ColorTableModel colorChoices new Vector addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice addColorChoice if UIManager getLookAndFeel instanceof MetalLookAndFeel addColorChoice public int getColumnCount return public int getRowCount return colorChoices size public Object getValueAt int row int col ColorChoice ch ColorChoice colorChoices elementAt row switch col case return ch label case return ch color default return null public void setValueAt Object value int row int col ColorChoice ch ColorChoice colorChoices elementAt row if col ch color Color value fireTableRowsUpdated row row public String getColumnName int index switch index case return jEdit getProperty case return jEdit getProperty default return null public void save for int colorChoices size ColorChoice ch ColorChoice colorChoices elementAt jEdit setProperty ch property GUIUtilities getColorHexString ch color private void addColorChoice String label String property colorChoices addElement new ColorChoice jEdit getProperty label property GUIUtilities parseColor jEdit getProperty property static class ColorChoice String label String property Color color ColorChoice String label String property Color color this label label this property property this color color static class ColorRenderer extends JLabel implements TableCellRenderer public ColorRenderer setOpaque true setBorder StyleOptionPane noFocusBorder public Component getTableCellRendererComponent JTable table Object value boolean isSelected boolean cellHasFocus int row int col if isSelected setBackground table getSelectionBackground setForeground table getSelectionForeground else setBackground table getBackground setForeground table getForeground if value null setBackground Color value setBorder cellHasFocus UIManager getBorder StyleOptionPane noFocusBorder return this', 'bug': '1'}
{'sequence': 'public class Gutter extends JComponent implements SwingConstants public Gutter View view JEditTextArea textArea this view view this textArea textArea setDoubleBuffered true MouseHandler ml new MouseHandler addMouseListener ml addMouseMotionListener ml public void paintComponent Graphics gfx Rectangle clip gfx getClipBounds gfx setColor getBackground gfx fillRect clip clip clip width clip height if textArea getBuffer isLoaded return int lineHeight textArea getPainter getFontMetrics getHeight int firstLine clip lineHeight textArea getFirstLine int lastLine clip clip height lineHeight textArea getFirstLine FontMetrics pfm textArea getPainter getFontMetrics Color fg getForeground int baseline int this baseline lineHeight pfm getDescent boolean highlightCurrentLine currentLineHighlightEnabled textArea selection size int clip clip lineHeight Buffer buffer textArea getBuffer int firstValidLine firstLine firstLine int lastValidLine lastLine buffer getVirtualLineCount buffer getVirtualLineCount lastLine for int line firstLine line lastLine line lineHeight boolean valid line firstValidLine line lastValidLine if highlights null highlights paintHighlight gfx line if valid return int physicalLine buffer virtualToPhysical line if physicalLine buffer getLineCount if buffer isFoldStart physicalLine gfx setColor foldColor if buffer isLineVisible physicalLine gfx drawRect lineHeight else gfx fillRect lineHeight if expanded continue String number Integer toString physicalLine int offset switch alignment case RIGHT offset gutterSize width collapsedSize width fm stringWidth number break case CENTER offset gutterSize width collapsedSize width fm stringWidth number break case LEFT default offset break if physicalLine textArea getCaretLine highlightCurrentLine gfx setColor currentLineHighlight else if interval line interval gfx setColor intervalHighlight else gfx setColor fg gfx drawString number FOLD_MARKER_SIZE offset baseline public void addCustomHighlight TextAreaHighlight highlight highlight init textArea highlights highlights highlight public void setBorder int width Color color1 Color color2 Color color3 this borderWidth width focusBorder new CompoundBorder new MatteBorder width color3 new MatteBorder width color1 noFocusBorder new CompoundBorder new MatteBorder width color3 new MatteBorder width color2 updateBorder public void updateBorder SwingUtilities invokeLater new Runnable public void run if view getEditPane null return if view getEditPane getTextArea textArea setBorder focusBorder else setBorder noFocusBorder public void setBorder Border border super setBorder border if border null collapsedSize width collapsedSize height else Insets insets border getBorderInsets this collapsedSize width FOLD_MARKER_SIZE insets right collapsedSize height gutterSize height insets top insets bottom gutterSize width FOLD_MARKER_SIZE insets right fm stringWidth public void setFont Font font super setFont font fm getFontMetrics font baseline fm getAscent public Color getHighlightedForeground return intervalHighlight public void setHighlightedForeground Color highlight intervalHighlight highlight public Color getCurrentLineForeground return currentLineHighlight public void setCurrentLineForeground Color highlight currentLineHighlight highlight public Color getFoldColor return foldColor public void setFoldColor Color foldColor this foldColor foldColor public Dimension getPreferredSize if expanded return gutterSize else return collapsedSize public Dimension getMinimumSize return getPreferredSize public String getToolTipText MouseEvent evt return highlights null null highlights getToolTipText evt public int getLineNumberAlignment return alignment public void setLineNumberAlignment int alignment if this alignment alignment return this alignment alignment repaint public boolean isExpanded return expanded public void setExpanded boolean expanded if this expanded expanded return this expanded expanded textArea revalidate public void toggleExpanded setExpanded expanded public int getHighlightInterval return interval public void setHighlightInterval int interval if interval interval this interval interval repaint public boolean isCurrentLineHighlightEnabled return currentLineHighlightEnabled public void setCurrentLineHighlightEnabled boolean enabled if currentLineHighlightEnabled enabled return currentLineHighlightEnabled enabled repaint private static final int FOLD_MARKER_SIZE private View view private JEditTextArea textArea private TextAreaHighlight highlights private int baseline private Dimension gutterSize new Dimension private Dimension collapsedSize new Dimension private Color intervalHighlight private Color currentLineHighlight private Color foldColor private FontMetrics fm private int alignment private int interval private boolean currentLineHighlightEnabled private boolean expanded private int borderWidth private Border focusBorder noFocusBorder class MouseHandler implements MouseListener MouseMotionListener boolean drag int toolTipInitialDelay toolTipReshowDelay public void mouseEntered MouseEvent ToolTipManager ttm ToolTipManager sharedInstance toolTipInitialDelay ttm getInitialDelay toolTipReshowDelay ttm getReshowDelay ttm setInitialDelay ttm setReshowDelay public void mouseExited MouseEvent evt ToolTipManager ttm ToolTipManager sharedInstance ttm setInitialDelay toolTipInitialDelay ttm setReshowDelay toolTipReshowDelay public void mousePressed MouseEvent if getX getWidth borderWidth Buffer buffer textArea getBuffer int line getY textArea getPainter getFontMetrics getHeight textArea getFirstLine if line buffer getVirtualLineCount return line buffer virtualToPhysical line if buffer isFoldStart line if isControlDown buffer expandFoldAt line true textArea textArea selectFoldAt line else if buffer isLineVisible line buffer collapseFoldAt line else buffer expandFoldAt line isShiftDown textArea else translatePoint getWidth textArea mouseHandler mousePressed drag true public void mouseDragged MouseEvent if drag getX getWidth borderWidth translatePoint getWidth textArea mouseHandler mouseDragged public void mouseMoved MouseEvent public void mouseReleased MouseEvent if drag getX getWidth borderWidth translatePoint getWidth textArea mouseHandler mouseReleased drag false public void mouseClicked MouseEvent', 'bug': '1'}
{'sequence': 'class BSHBinaryExpression extends SimpleNode implements ParserConstants public int kind BSHBinaryExpression int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError Object lhs SimpleNode jjtGetChild eval callstack interpreter if kind INSTANCEOF if lhs Primitive NULL return new Primitive false if lhs instanceof Primitive return new Primitive false NameSpace namespace callstack top Class rhs BSHType jjtGetChild getType namespace boolean ret Reflect isAssignableFrom rhs lhs getClass return new Primitive ret if kind BOOL_AND kind BOOL_ANDX Object obj lhs if isPrimitiveValue lhs obj Primitive lhs getValue if obj instanceof Boolean Boolean obj booleanValue false return new Primitive false if kind BOOL_OR kind BOOL_ORX Object obj lhs if isPrimitiveValue lhs obj Primitive lhs getValue if obj instanceof Boolean Boolean obj booleanValue true return new Primitive true boolean isLhsWrapper isWrapper lhs Object rhs SimpleNode jjtGetChild eval callstack interpreter boolean isRhsWrapper isWrapper rhs if isLhsWrapper isPrimitiveValue lhs isRhsWrapper isPrimitiveValue rhs if isLhsWrapper isRhsWrapper kind EQ else try return Primitive binaryOperation lhs rhs kind catch TargetError reThrow this switch kind case EQ return new Primitive lhs rhs case NE return new Primitive lhs rhs case PLUS if lhs instanceof String rhs instanceof String return lhs toString rhs toString default if lhs instanceof Primitive rhs instanceof Primitive if lhs Primitive VOID rhs Primitive VOID throw new EvalError this else if lhs Primitive NULL rhs Primitive NULL throw new EvalError this throw new EvalError tokenImage kind this private boolean isPrimitiveValue Object obj return obj instanceof Primitive obj Primitive VOID obj Primitive NULL private boolean isWrapper Object obj return obj instanceof Boolean obj instanceof Character obj instanceof Number', 'bug': '0'}
{'sequence': 'public class This implements java io Serializable Runnable NameSpace namespace transient Interpreter declaringInterpreter transient CallStack callstack static This getThis NameSpace namespace Interpreter declaringInterpreter try if Capabilities canGenerateInterfaces return This Reflect constructObject new Object namespace declaringInterpreter else if Capabilities haveSwing return This Reflect constructObject new Object namespace declaringInterpreter else return new This namespace declaringInterpreter catch Exception throw new InterpreterError public Object getInterface Class clas throws EvalError if clas isInstance this return this else throw new EvalError clas protected This NameSpace namespace Interpreter declaringInterpreter this namespace namespace this declaringInterpreter declaringInterpreter initCallStack namespace public NameSpace getNameSpace return namespace public String toString return namespace name public void run try invokeMethod new Object catch EvalError declaringInterpreter error public Object invokeMethod String name Object args throws EvalError return invokeMethod name args declaringInterpreter null null public Object invokeMethod String name Object args Interpreter interpreter CallStack callstack SimpleNode callerInfo throws EvalError return namespace invokeMethod name args interpreter callstack callerInfo public static void bind This ths NameSpace namespace Interpreter declaringInterpreter ths namespace setParent namespace ths declaringInterpreter declaringInterpreter ths initCallStack namespace private synchronized void writeObject java io ObjectOutputStream throws IOException NameSpace parent namespace getParent namespace prune defaultWriteObject namespace setParent parent private final void initCallStack NameSpace namespace callstack new CallStack callstack push namespace', 'bug': '0'}
{'sequence': 'class BSHTryStatement extends SimpleNode BSHTryStatement int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError BSHBlock tryBlock BSHBlock jjtGetChild Vector catchParams new Vector Vector catchBlocks new Vector int nchild jjtGetNumChildren Node node null int while nchild node jjtGetChild instanceof BSHFormalParameter catchParams addElement node catchBlocks addElement jjtGetChild node null BSHBlock finallyBlock null if node null finallyBlock BSHBlock node TargetError target null Throwable thrown null Object ret null int callstackDepth callstack depth try ret tryBlock eval callstack interpreter catch TargetError target String stackInfo while callstack depth callstackDepth stackInfo callstack pop if target null thrown target getTarget if thrown null int catchParams size for NameSpace namespace callstack top BSHFormalParameter fp BSHFormalParameter catchParams elementAt fp eval namespace if fp type null try thrown Throwable NameSpace getAssignableForm thrown fp type catch EvalError continue BSHBlock cb BSHBlock catchBlocks elementAt if fp type BSHFormalParameter UNTYPED namespace setVariable fp name thrown else namespace setTypedVariable fp name fp type thrown false ret cb eval callstack interpreter break if finallyBlock null ret finallyBlock eval callstack interpreter if target null throw target if ret instanceof ReturnControl return ret else return Primitive VOID', 'bug': '0'}
{'sequence': 'class BSHWhileStatement extends SimpleNode implements ParserConstants public boolean isDoStatement BSHWhileStatement int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError int numChild jjtGetNumChildren SimpleNode condExp body null if isDoStatement condExp SimpleNode jjtGetChild body SimpleNode jjtGetChild else condExp SimpleNode jjtGetChild body SimpleNode jjtGetChild boolean doOnceFlag isDoStatement while doOnceFlag BSHIfStatement evaluateCondition condExp callstack interpreter continue Object ret body eval callstack interpreter boolean breakout false if ret instanceof ReturnControl switch ReturnControl ret kind case RETURN return ret case CONTINUE continue case BREAK breakout true break if breakout break doOnceFlag false return Primitive VOID', 'bug': '0'}
{'sequence': 'public class Handler extends URLStreamHandler public URLConnection openConnection URL url throws IOException PluginResURLConnection new PluginResURLConnection url connect return', 'bug': '0'}
{'sequence': 'public class BrowserOptionPane extends AbstractOptionPane public BrowserOptionPane super public void String dirs jEdit getProperty jEdit getProperty jEdit getProperty jEdit getProperty defaultDirectory new JComboBox dirs String defaultDir jEdit getProperty if equals defaultDir defaultDirectory setSelectedIndex else if equals defaultDir defaultDirectory setSelectedIndex else if equals defaultDir defaultDirectory setSelectedIndex else if equals defaultDir defaultDirectory setSelectedIndex addComponent jEdit getProperty defaultDirectory showIcons new JCheckBox jEdit getProperty showIcons setSelected jEdit getBooleanProperty addComponent showIcons showHiddenFiles new JCheckBox jEdit getProperty showHiddenFiles setSelected jEdit getBooleanProperty addComponent showHiddenFiles sortFiles new JCheckBox jEdit getProperty sortFiles setSelected jEdit getBooleanProperty addComponent sortFiles sortIgnoreCase new JCheckBox jEdit getProperty sortIgnoreCase setSelected jEdit getBooleanProperty addComponent sortIgnoreCase sortMixFilesAndDirs new JCheckBox jEdit getProperty sortMixFilesAndDirs setSelected jEdit getBooleanProperty addComponent sortMixFilesAndDirs doubleClickClose new JCheckBox jEdit getProperty doubleClickClose setSelected jEdit getBooleanProperty addComponent doubleClickClose currentBufferFilter new JCheckBox jEdit getProperty currentBufferFilter setSelected jEdit getBooleanProperty addComponent currentBufferFilter public void String dirs jEdit setProperty dirs defaultDirectory getSelectedIndex jEdit setBooleanProperty showIcons isSelected jEdit setBooleanProperty showHiddenFiles isSelected jEdit setBooleanProperty sortFiles isSelected jEdit setBooleanProperty sortIgnoreCase isSelected jEdit setBooleanProperty sortMixFilesAndDirs isSelected jEdit setBooleanProperty doubleClickClose isSelected jEdit setBooleanProperty currentBufferFilter isSelected private JComboBox defaultDirectory private JCheckBox showIcons private JCheckBox showHiddenFiles private JCheckBox sortFiles private JCheckBox sortIgnoreCase private JCheckBox sortMixFilesAndDirs private JCheckBox doubleClickClose private JCheckBox currentBufferFilter', 'bug': '1'}
{'sequence': 'public abstract class TextRenderer static final String JAVA2D_RENDER_CLASS public static TextRenderer createTextRenderer if java2d try ClassLoader loader TextRenderer class getClassLoader Class clazz if loader null clazz Class forName JAVA2D_RENDER_CLASS else clazz loader loadClass JAVA2D_RENDER_CLASS return TextRenderer clazz newInstance catch Exception throw new NoClassDefFoundError JAVA2D_RENDER_CLASS else return new TextRendererAWT public static TextRenderer createPrintTextRenderer return new TextRendererAWT public void setupGraphics Graphics public void configure boolean antiAlias boolean fracFontMetrics public float drawChars char text int off int len Graphics float float TabExpander Color foreground Color tokenBackground Color componentBackground if tokenBackground null float width charsWidth text off len getFont FontMetrics fm getFontMetrics float height fm getHeight float descent fm getDescent float leading fm getLeading setXORMode componentBackground setColor tokenBackground fillRect int int height descent leading int width int height setPaintMode setColor foreground int flushLen int flushIndex off int end off len for int off end if text if flushLen text flushIndex flushLen flushLen flushIndex nextTabStop off else flushLen if flushLen text flushIndex flushLen return public float charsWidth char text int off int len Font font float TabExpander float newX int flushLen int flushIndex off int end off len for int off end if text if flushLen newX text flushIndex flushLen font flushLen flushIndex newX nextTabStop newX off else flushLen if flushLen newX text flushIndex flushLen font return newX public int xToOffset char text int off int len Font font float TabExpander boolean round float widthArray int flushLen int flushIndex off int end off len float width widthArray for int off end if text if flushLen float newWidth text flushIndex flushLen font if width newWidth return text flushIndex flushLen font width round flushIndex else width newWidth flushLen flushIndex float newWidth nextTabStop width off width if width newWidth if round width width newWidth return else return else width newWidth else flushLen if flushLen float newWidth text flushIndex flushLen font if width newWidth return text flushIndex flushLen font width round flushIndex else width newWidth widthArray width return abstract float char text int start int len Graphics float float abstract float char text int start int len Font font abstract int char text int start int len Font font float boolean round static boolean java2d static try ClassLoader loader TextRenderer class getClassLoader if loader null Class forName else loader loadClass Log log Log DEBUG TextRenderer class java2d true catch ClassNotFoundException cnf Log log Log DEBUG TextRenderer class java2d false', 'bug': '0'}
{'sequence': 'public class EnhancedMenuItem extends JMenuItem public EnhancedMenuItem String label EditAction action super label this action action if action null setEnabled true addActionListener new EditAction Wrapper action shortcutProp1 action getName shortcutProp2 action getName else setEnabled false public Dimension getPreferredSize Dimension super getPreferredSize String shortcut getShortcut if shortcut null width getFontMetrics acceleratorFont stringWidth shortcut return public void paint Graphics super paint String shortcut getShortcut if shortcut null setFont acceleratorFont setColor getModel isArmed acceleratorSelectionForeground acceleratorForeground FontMetrics fm getFontMetrics Insets insets getInsets drawString shortcut getWidth fm stringWidth shortcut insets right insets left getFont getSize insets top private String shortcutProp1 private String shortcutProp2 private EditAction action private static Font acceleratorFont private static Color acceleratorForeground private static Color acceleratorSelectionForeground private String getShortcut if action null return null else String shortcut1 jEdit getProperty shortcutProp1 String shortcut2 jEdit getProperty shortcutProp2 if shortcut1 null shortcut1 length if shortcut2 null shortcut2 length return null else return shortcut2 else if shortcut2 null shortcut2 length return shortcut1 else return shortcut1 shortcut2 static acceleratorFont UIManager getFont acceleratorFont new Font acceleratorFont getStyle acceleratorFont getSize acceleratorForeground UIManager getColor acceleratorSelectionForeground UIManager getColor', 'bug': '1'}
{'sequence': 'public interface BrowserListener extends EventListener void filesSelected VFSBrowser browser VFS DirectoryEntry files void filesActivated VFSBrowser browser VFS DirectoryEntry files', 'bug': '0'}
{'sequence': 'public class Primitive implements ParserConstants java io Serializable private Object value private static class Special implements java io Serializable private Special public static final Special NULL_VALUE new Special public static final Special VOID_TYPE new Special public static final Primitive NULL new Primitive Special NULL_VALUE public static final Primitive VOID new Primitive Special VOID_TYPE private Primitive Object value if value null throw new InterpreterError this value value public Primitive Number number this Object number public Primitive Boolean value this Object value public Primitive Byte value this Object value public Primitive Short value this Object value public Primitive Character value this Object value public Primitive Integer value this Object value public Primitive Long value this Object value public Primitive Float value this Object value public Primitive Double value this Object value public Primitive boolean value this new Boolean value public Primitive byte value this new Byte value public Primitive short value this new Short value public Primitive char value this new Character value public Primitive int value this new Integer value public Primitive long value this new Long value public Primitive float value this new Float value public Primitive double value this new Double value public Object getValue if value Special NULL_VALUE return null else if value Special VOID_TYPE throw new InterpreterError else return value public String toString if value Special NULL_VALUE return else if value Special VOID_TYPE return else return value toString public Class getType return getType value private Class getType Object if instanceof Boolean return Boolean TYPE else if instanceof Byte return Byte TYPE else if instanceof Short return Short TYPE else if instanceof Character return Character TYPE else if instanceof Integer return Integer TYPE else if instanceof Long return Long TYPE else if instanceof Float return Float TYPE else if instanceof Double return Double TYPE return null public static Object binaryOperation Object obj1 Object obj2 int kind throws EvalError if obj1 NULL obj2 NULL throw new EvalError if obj1 VOID obj2 VOID throw new EvalError Class lhsOrgType obj1 getClass Class rhsOrgType obj2 getClass if obj1 instanceof Primitive obj1 Primitive obj1 getValue if obj2 instanceof Primitive obj2 Primitive obj2 getValue Object operands promotePrimitives obj1 obj2 Object lhs operands Object rhs operands if lhs getClass rhs getClass throw new EvalError lhs getClass rhs getClass Object result try result binaryOperationImpl lhs rhs kind catch ArithmeticException throw new TargetError if lhsOrgType Primitive class rhsOrgType Primitive class return new Primitive result else return result static Object binaryOperationImpl Object lhs Object rhs int kind throws EvalError if lhs instanceof Boolean return booleanBinaryOperation Boolean lhs Boolean rhs kind else if lhs instanceof Integer return intBinaryOperation Integer lhs Integer rhs kind else if lhs instanceof Long return longBinaryOperation Long lhs Long rhs kind else if lhs instanceof Float return floatBinaryOperation Float lhs Float rhs kind else if lhs instanceof Double return doubleBinaryOperation Double lhs Double rhs kind else throw new EvalError static Boolean booleanBinaryOperation Boolean B1 Boolean B2 int kind throws EvalError boolean lhs B1 booleanValue boolean rhs B2 booleanValue switch kind case EQ return new Boolean lhs rhs case NE return new Boolean lhs rhs case BOOL_OR case BOOL_ORX return new Boolean lhs rhs case BOOL_AND case BOOL_ANDX return new Boolean lhs rhs default throw new InterpreterError static Object longBinaryOperation Long L1 Long L2 int kind long lhs L1 longValue long rhs L2 longValue switch kind case LT case LTX return new Boolean lhs rhs case GT case GTX return new Boolean lhs rhs case EQ return new Boolean lhs rhs case LE case LEX return new Boolean lhs rhs case GE case GEX return new Boolean lhs rhs case NE return new Boolean lhs rhs case PLUS return new Long lhs rhs case MINUS return new Long lhs rhs case STAR return new Long lhs rhs case SLASH return new Long lhs rhs case MOD return new Long lhs rhs case LSHIFT case LSHIFTX return new Long lhs rhs case RSIGNEDSHIFT case RSIGNEDSHIFTX return new Long lhs rhs case RUNSIGNEDSHIFT case RUNSIGNEDSHIFTX return new Long lhs rhs case BIT_AND case BIT_ANDX return new Long lhs rhs case BIT_OR case BIT_ORX return new Long lhs rhs case XOR return new Long lhs rhs default throw new InterpreterError static Object intBinaryOperation Integer I1 Integer I2 int kind int lhs I1 intValue int rhs I2 intValue switch kind case LT case LTX return new Boolean lhs rhs case GT case GTX return new Boolean lhs rhs case EQ return new Boolean lhs rhs case LE case LEX return new Boolean lhs rhs case GE case GEX return new Boolean lhs rhs case NE return new Boolean lhs rhs case PLUS return new Integer lhs rhs case MINUS return new Integer lhs rhs case STAR return new Integer lhs rhs case SLASH return new Integer lhs rhs case MOD return new Integer lhs rhs case LSHIFT case LSHIFTX return new Integer lhs rhs case RSIGNEDSHIFT case RSIGNEDSHIFTX return new Integer lhs rhs case RUNSIGNEDSHIFT case RUNSIGNEDSHIFTX return new Integer lhs rhs case BIT_AND case BIT_ANDX return new Integer lhs rhs case BIT_OR case BIT_ORX return new Integer lhs rhs case XOR return new Integer lhs rhs default throw new InterpreterError static Object doubleBinaryOperation Double D1 Double D2 int kind throws EvalError double lhs D1 doubleValue double rhs D2 doubleValue switch kind case LT case LTX return new Boolean lhs rhs case GT case GTX return new Boolean lhs rhs case EQ return new Boolean lhs rhs case LE case LEX return new Boolean lhs rhs case GE case GEX return new Boolean lhs rhs case NE return new Boolean lhs rhs case PLUS return new Double lhs rhs case MINUS return new Double lhs rhs case STAR return new Double lhs rhs case SLASH return new Double lhs rhs case MOD return new Double lhs rhs case LSHIFT case LSHIFTX case RSIGNEDSHIFT case RSIGNEDSHIFTX case RUNSIGNEDSHIFT case RUNSIGNEDSHIFTX throw new EvalError default throw new InterpreterError static Object floatBinaryOperation Float F1 Float F2 int kind throws EvalError float lhs F1 floatValue float rhs F2 floatValue switch kind case LT case LTX return new Boolean lhs rhs case GT case GTX return new Boolean lhs rhs case EQ return new Boolean lhs rhs case LE case LEX return new Boolean lhs rhs case GE case GEX return new Boolean lhs rhs case NE return new Boolean lhs rhs case PLUS return new Float lhs rhs case MINUS return new Float lhs rhs case STAR return new Float lhs rhs case SLASH return new Float lhs rhs case MOD return new Float lhs rhs case LSHIFT case LSHIFTX case RSIGNEDSHIFT case RSIGNEDSHIFTX case RUNSIGNEDSHIFT case RUNSIGNEDSHIFTX throw new EvalError default throw new InterpreterError static Object promoteToInteger Object primitive if primitive instanceof Character return new Integer Character primitive charValue else if primitive instanceof Byte primitive instanceof Short return new Integer Number primitive intValue return primitive static Object promotePrimitives Object lhs Object rhs lhs promoteToInteger lhs rhs promoteToInteger rhs if lhs instanceof Number rhs instanceof Number Number lnum Number lhs Number rnum Number rhs boolean if lnum instanceof Double rnum instanceof Double if rhs new Double rnum doubleValue else lhs new Double lnum doubleValue else if lnum instanceof Float rnum instanceof Float if rhs new Float rnum floatValue else lhs new Float lnum floatValue else if lnum instanceof Long rnum instanceof Long if rhs new Long rnum longValue else lhs new Long lnum longValue return new Object lhs rhs public static Primitive unaryOperation Primitive val int kind throws EvalError if val NULL throw new EvalError if val VOID throw new EvalError Class operandType val getType Object operand promoteToInteger val getValue if operand instanceof Boolean return new Primitive booleanUnaryOperation Boolean operand kind else if operand instanceof Integer int result intUnaryOperation Integer operand kind if kind INCR kind DECR if operandType Byte TYPE return new Primitive byte result if operandType Short TYPE return new Primitive short result if operandType Character TYPE return new Primitive char result return new Primitive result else if operand instanceof Long return new Primitive longUnaryOperation Long operand kind else if operand instanceof Float return new Primitive floatUnaryOperation Float operand kind else if operand instanceof Double return new Primitive doubleUnaryOperation Double operand kind else throw new InterpreterError static boolean booleanUnaryOperation Boolean int kind throws EvalError boolean operand booleanValue switch kind case BANG return operand default throw new EvalError static int intUnaryOperation Integer int kind int operand intValue switch kind case PLUS return operand case MINUS return operand case TILDE return operand case INCR return operand case DECR return operand default throw new InterpreterError static long longUnaryOperation Long int kind long operand longValue switch kind case PLUS return operand case MINUS return operand case TILDE return operand case INCR return operand case DECR return operand default throw new InterpreterError static float floatUnaryOperation Float int kind float operand floatValue switch kind case PLUS return operand case MINUS return operand default throw new InterpreterError static double doubleUnaryOperation Double int kind double operand doubleValue switch kind case PLUS return operand case MINUS return operand default throw new InterpreterError public int intValue throws EvalError if value instanceof Number return Number value intValue else throw new EvalError public boolean booleanValue throws EvalError if value instanceof Boolean return Boolean value booleanValue else throw new EvalError public boolean isNumber return value instanceof Boolean this NULL this VOID public Number numberValue throws EvalError Object value this value if value instanceof Character value new Integer Character value charValue if value instanceof Number return Number value else throw new EvalError public boolean equals Object obj if obj instanceof Primitive return Primitive obj value equals this value else return obj equals this value public static Object unwrap Object obj if obj null return null if obj Primitive VOID return null if obj instanceof Primitive return Primitive obj getValue else return obj', 'bug': '0'}
{'sequence': 'class Reflect public static Object invokeObjectMethod Interpreter interpreter Object object String methodName Object args SimpleNode callerInfo throws ReflectError InvocationTargetException EvalError if object instanceof This return This object invokeMethod methodName args interpreter null callerInfo else return invokeMethod object getClass object methodName args false public static Object invokeStaticMethod Class clas String methodName Object args throws ReflectError InvocationTargetException EvalError Interpreter debug return invokeMethod clas null methodName args true public static Object getIndex Object array int index throws ReflectError TargetError try Object val Array get array index return wrapPrimitive val array getClass getComponentType catch ArrayIndexOutOfBoundsException e1 throw new TargetError e1 catch Exception throw new ReflectError public static void setIndex Object array int index Object val throws ReflectError TargetError try val unwrapPrimitive val Array set array index val catch ArrayStoreException e2 throw new TargetError e2 catch IllegalArgumentException e1 throw new TargetError new ArrayStoreException e1 toString catch Exception throw new ReflectError public static Object getStaticField Class clas String fieldName throws ReflectError return getFieldValue clas null fieldName public static Object getObjectField Object object String fieldName throws ReflectError if object instanceof This return This object namespace getVariable fieldName else try return getFieldValue object getClass object fieldName catch ReflectError if hasObjectPropertyGetter object getClass fieldName return getObjectProperty object fieldName else throw static LHS getLHSStaticField Class clas String fieldName throws ReflectError Field getField clas fieldName return new LHS static LHS getLHSObjectField Object object String fieldName throws ReflectError if object instanceof This return new LHS This object namespace fieldName try Field getField object getClass fieldName return new LHS object catch ReflectError if hasObjectPropertySetter object getClass fieldName return new LHS object fieldName else throw private static Object getFieldValue Class clas Object object String fieldName throws ReflectError try Field getField clas fieldName if null throw new ReflectError fieldName Object value get object Class returnType getType return wrapPrimitive value returnType catch NullPointerException throw new ReflectError fieldName catch IllegalAccessException throw new ReflectError fieldName private static Field getField Class clas String fieldName throws ReflectError try if Capabilities haveAccessibility return findAccessibleField clas fieldName else return clas getField fieldName catch NoSuchFieldException throw new ReflectError fieldName private static Field findAccessibleField Class clas String fieldName throws NoSuchFieldException while clas null try Field field clas getDeclaredField fieldName if ReflectManager RMSetAccessible field return field catch NoSuchFieldException clas clas getSuperclass throw new NoSuchFieldException fieldName private static Object invokeMethod Class clas Object object String name Object args boolean onlyStatic throws ReflectError InvocationTargetException EvalError if object Primitive NULL throw new TargetError name new NullPointerException if object Primitive VOID throw new EvalError name if args null args new Object for int args length if args Primitive VOID throw new ReflectError name Class returnType null Object returnValue null Class types getTypes args unwrapPrimitives args try Method null try findAccessibleMethod clas name types onlyStatic catch SecurityException if null Interpreter debug StringUtil methodString name types clas getName if null if types length throw new ReflectError onlyStatic StringUtil methodString name types clas getName Method methods clas getMethods if onlyStatic methods retainStaticMethods methods findMostSpecificMethod name types methods methods clas getMethods if null findExtendedMethod name args methods if null try findAccessibleMethod clas getName getParameterTypes onlyStatic catch SecurityException if null throw new ReflectError onlyStatic StringUtil methodString name types clas getName returnValue invoke object args if returnValue null returnValue Primitive NULL returnType getReturnType catch IllegalAccessException throw new ReflectError StringUtil methodString name types clas getName return wrapPrimitive returnValue returnType private static Method retainStaticMethods Method methods Vector new Vector for int methods length if Modifier isStatic methods getModifiers addElement methods Method ma new Method size copyInto ma return ma static Method findAccessibleMethod Class clas String name Class types boolean onlyStatic Method meth null Vector classQ new Vector classQ addElement clas Method found null while classQ size Class Class classQ firstElement classQ removeElementAt if Modifier isPublic getModifiers Capabilities haveAccessibility ReflectManager RMSetAccessible try meth getDeclaredMethod name types if Modifier isPublic meth getModifiers Capabilities haveAccessibility ReflectManager RMSetAccessible meth break catch NoSuchMethodException if isInterface Class superclass getSuperclass if superclass null classQ addElement Object superclass Class intfs getInterfaces for int intfs length classQ addElement Object intfs if found null onlyStatic Modifier isStatic found getModifiers return found return null private static Object wrapPrimitive Object value Class returnType throws ReflectError if value null return Primitive NULL if returnType Void TYPE return Primitive VOID else if returnType isPrimitive if value instanceof Number return new Primitive Number value if value instanceof Boolean return new Primitive Boolean value if value instanceof Character return new Primitive Character value throw new ReflectError else return value public static Class getTypes Object args if args null return new Class Class types new Class args length for int args length if args instanceof Primitive types Primitive args getType else types args getClass return types private static void unwrapPrimitives Object args for int args length args unwrapPrimitive args private static Object unwrapPrimitive Object arg if arg instanceof Primitive return Primitive arg getValue else return arg static Object constructObject String clas Object args throws ReflectError InvocationTargetException Class BshClassManager classForName clas if null throw new ReflectError clas return constructObject args static Object constructObject Class clas Object args throws ReflectError InvocationTargetException for int args length if args Primitive VOID throw new ReflectError clas if clas isInterface throw new ReflectError clas Object obj null Class types getTypes args unwrapPrimitives args Constructor con null Constructor constructors clas getDeclaredConstructors Interpreter debug clas con findMostSpecificConstructor types constructors if con null if types length throw new ReflectError clas else con findExtendedConstructor args constructors if con null throw new ReflectError clas try obj con newInstance args catch InstantiationException throw new ReflectError catch IllegalAccessException throw new ReflectError catch IllegalArgumentException throw new ReflectError if obj null throw new ReflectError return obj static Method findMostSpecificMethod String name Class idealMatch Method methods Vector sigs new Vector Vector meths new Vector for int methods length if methods getName equals name meths addElement methods sigs addElement methods getParameterTypes Class candidates new Class sigs size sigs copyInto candidates Interpreter debug name int match findMostSpecificSignature idealMatch candidates if match return null else return Method meths elementAt match static Method findExtendedMethod String name Object args Method methods Method bestMatch null Object tempArgs new Object args length for int methods length Method currentMethod methods if name equals currentMethod getName Class parameters currentMethod getParameterTypes if parameters length args length continue try for int parameters length tempArgs NameSpace getAssignableForm args parameters System arraycopy tempArgs args args length return currentMethod catch EvalError return null static Constructor findMostSpecificConstructor Class idealMatch Constructor constructors Class candidates new Class constructors length for int candidates length candidates constructors getParameterTypes int match findMostSpecificSignature idealMatch candidates if match return null else return constructors match static Constructor findExtendedConstructor Object args Constructor constructors Constructor bestMatch null Object tempArgs new Object args length for int constructors length Constructor currentConstructor constructors Class parameters currentConstructor getParameterTypes if parameters length args length continue try for int parameters length tempArgs NameSpace getAssignableForm args parameters System arraycopy tempArgs args args length return currentConstructor catch EvalError return null static int findMostSpecificSignature Class idealMatch Class candidates Class bestMatch null int bestMatchIndex for int candidates length Class targetMatch candidates if isAssignable idealMatch targetMatch bestMatch null isAssignable targetMatch bestMatch bestMatch targetMatch bestMatchIndex if bestMatch null return bestMatchIndex else Interpreter debug return static boolean isAssignable Class from Class to if from null from new Class if to null to new Class if from length to length return false for int from length if to null continue if from null if to isPrimitive continue else return false if isAssignableFrom to from return false return true static boolean isAssignableFrom Class lhs Class rhs if lhs isPrimitive rhs isPrimitive if lhs rhs return true if rhs Byte TYPE lhs Short TYPE lhs Integer TYPE lhs Long TYPE lhs Float TYPE lhs Double TYPE return true if rhs Short TYPE lhs Integer TYPE lhs Long TYPE lhs Float TYPE lhs Double TYPE return true if rhs Character TYPE lhs Integer TYPE lhs Long TYPE lhs Float TYPE lhs Double TYPE return true if rhs Integer TYPE lhs Long TYPE lhs Float TYPE lhs Double TYPE return true if rhs Long TYPE lhs Float TYPE lhs Double TYPE return true if rhs Float TYPE lhs Double TYPE return true else if lhs isAssignableFrom rhs return true return false private static String accessorName String getorset String propName return getorset String valueOf Character toUpperCase propName charAt propName substring public static boolean hasObjectPropertyGetter Class clas String propName String getterName accessorName propName try clas getMethod getterName new Class return true catch NoSuchMethodException return false public static boolean hasObjectPropertySetter Class clas String propName String setterName accessorName propName Class sig new Class clas Method methods clas getMethods for int methods length if methods getName equals setterName return true return false public static Object getObjectProperty Object obj String propName throws ReflectError String accessorName accessorName propName Object args new Object Interpreter debug try try return invokeObjectMethod null obj accessorName args null catch EvalError throw new ReflectError catch InvocationTargetException throw new ReflectError public static void setObjectProperty Object obj String propName Object value throws ReflectError EvalError String accessorName accessorName propName Object args new Object value Interpreter debug try invokeObjectMethod null obj accessorName args null catch InvocationTargetException throw new EvalError public static String normalizeClassName Class type if type isArray return type getName StringBuffer className new StringBuffer try className append getArrayBaseType type getName for int getArrayDimensions type className append catch Exception return className toString public static int getArrayDimensions Class arrayClass if arrayClass isArray return return arrayClass getName lastIndexOf public static Class getArrayBaseType Class arrayClass throws ReflectError if arrayClass isArray throw new ReflectError return arrayClass getComponentType', 'bug': '0'}
{'sequence': 'public class WorkThreadPool public WorkThreadPool String name int count listenerList new EventListenerList if count threadGroup new ThreadGroup name threads new WorkThread count for int threads length threads new WorkThread this threadGroup name else Log log Log WARNING this public void start if threads null for int threads length threads start public void addWorkRequest Runnable run boolean inAWT if threads null run run return if inAWT requestCount awtRequestCount if SwingUtilities isEventDispatchThread run run else SwingUtilities invokeLater run return Request request new Request run synchronized lock if inAWT if firstAWTRequest null lastAWTRequest null firstAWTRequest lastAWTRequest request else lastAWTRequest next request lastAWTRequest request awtRequestCount if requestCount queueAWTRunner else if firstRequest null lastRequest null firstRequest lastRequest request else lastRequest next request lastRequest request requestCount lock notify public void waitForRequests if threads null return synchronized waitForAllLock while requestCount try waitForAllLock wait catch InterruptedException ie Log log Log ERROR this ie if SwingUtilities isEventDispatchThread doAWTRequests else try SwingUtilities invokeAndWait new RunRequestsInAWTThread catch Exception Log log Log ERROR this public int getRequestCount return requestCount public int getThreadCount if threads null return else return threads length public WorkThread getThread int index return threads index public final void addProgressListener WorkThreadProgressListener listener listenerList add WorkThreadProgressListener class listener public final void removeProgressListener WorkThreadProgressListener listener listenerList remove WorkThreadProgressListener class listener Object lock new String Object waitForAllLock new String void fireProgressChanged WorkThread thread final Object listeners listenerList getListenerList if listeners length int index for int threads length if threads thread index break final int index SwingUtilities invokeLater new Runnable public void run for int listeners length if listeners WorkThreadProgressListener class WorkThreadProgressListener listeners progressUpdate WorkThreadPool this void requestDone synchronized lock requestCount if requestCount firstAWTRequest null queueAWTRunner Request getNextRequest synchronized lock Request request firstRequest if request null return null firstRequest firstRequest next if firstRequest null lastRequest null if request alreadyRun throw new InternalError request run request alreadyRun true return request private ThreadGroup threadGroup private WorkThread threads private Request firstRequest private Request lastRequest private int requestCount private boolean awtRunnerQueued private Request firstAWTRequest private Request lastAWTRequest private int awtRequestCount private EventListenerList listenerList private void doAWTRequests while firstAWTRequest null doAWTRequest getNextAWTRequest private void doAWTRequest Request request try request run run catch Throwable Log log Log ERROR WorkThread class Log log Log ERROR WorkThread class awtRequestCount private void queueAWTRunner if awtRunnerQueued awtRunnerQueued true SwingUtilities invokeLater new RunRequestsInAWTThread private Request getNextAWTRequest synchronized lock Request request firstAWTRequest firstAWTRequest firstAWTRequest next if firstAWTRequest null lastAWTRequest null if request alreadyRun throw new InternalError request run request alreadyRun true return request static int ID static class Request int id ID Runnable run boolean alreadyRun Request next Request Runnable run this run run public String toString return id run class RunRequestsInAWTThread implements Runnable public void run awtRunnerQueued false doAWTRequests', 'bug': '1'}
{'sequence': 'public class Capabilities private static boolean accessibility false public static boolean haveSwing return classExists public static boolean canGenerateInterfaces return classExists public static boolean haveAccessibility return accessibility classExists classExists public static void setAccessibility boolean accessibility private static Hashtable classes new Hashtable public static boolean classExists String name Object classes get name if null try Class forName name catch ClassNotFoundException if null classes put return null public static class Unavailable extends RuntimeException public Unavailable String super', 'bug': '0'}
{'sequence': 'public class ClassPathException extends EvalError public ClassPathException String msg super msg', 'bug': '0'}
{'sequence': 'public abstract class EnhancedDialog extends JDialog public EnhancedDialog Frame parent String title boolean modal super parent title modal Container getLayeredPane addContainerListener new ContainerHandler getContentPane addContainerListener new ContainerHandler keyHandler new KeyHandler addKeyListener keyHandler addWindowListener new WindowHandler setDefaultCloseOperation DO_NOTHING_ON_CLOSE public abstract void ok public abstract void cancel protected KeyHandler keyHandler class ContainerHandler extends ContainerAdapter public void componentAdded ContainerEvent evt componentAdded evt getChild public void componentRemoved ContainerEvent evt componentRemoved evt getChild private void componentAdded Component comp comp addKeyListener keyHandler if comp instanceof Container Container cont Container comp cont addContainerListener this Component comps cont getComponents for int comps length componentAdded comps private void componentRemoved Component comp comp removeKeyListener keyHandler if comp instanceof Container Container cont Container comp cont removeContainerListener this Component comps cont getComponents for int comps length componentRemoved comps class KeyHandler extends KeyAdapter public void keyPressed KeyEvent evt if evt isConsumed return if evt getKeyCode KeyEvent VK_ENTER Component comp getFocusOwner while comp null if comp instanceof JComboBox JComboBox combo JComboBox comp if combo isEditable Object selected combo getEditor getItem if selected null combo setSelectedItem selected break comp comp getParent ok evt consume else if evt getKeyCode KeyEvent VK_ESCAPE cancel evt consume class WindowHandler extends WindowAdapter public void windowClosing WindowEvent evt cancel', 'bug': '0'}
{'sequence': 'public class BrowserView extends JPanel public BrowserView VFSBrowser browser this browser browser currentlyLoadingTreeNode rootNode new DefaultMutableTreeNode null true model new DefaultTreeModel rootNode true tree new BrowserJTree model tree setCellRenderer renderer tree setEditable false tree addTreeExpansionListener new TreeHandler tree putClientProperty if browser isMultipleSelectionEnabled tree getSelectionModel setSelectionMode TreeSelectionModel DISCONTIGUOUS_TREE_SELECTION else tree getSelectionModel setSelectionMode TreeSelectionModel SINGLE_TREE_SELECTION setLayout new BorderLayout scroller new JScrollPane tree scroller setPreferredSize new Dimension add BorderLayout CENTER scroller propertiesChanged public VFS DirectoryEntry getSelectedFiles Vector selected new Vector tree getSelectionCount TreePath paths tree getSelectionPaths if paths null return new VFS DirectoryEntry for int paths length DefaultMutableTreeNode treeNode DefaultMutableTreeNode paths getLastPathComponent Object obj treeNode getUserObject if obj instanceof VFS DirectoryEntry selected addElement obj VFS DirectoryEntry retVal new VFS DirectoryEntry selected size selected copyInto retVal return retVal public void selectNone tree setSelectionPaths new TreePath public void directoryLoaded Vector directory if currentlyLoadingTreeNode rootNode rootNode setUserObject browser getDirectory currentlyLoadingTreeNode removeAllChildren if directory null for int directory size VFS DirectoryEntry file VFS DirectoryEntry directory elementAt boolean allowsChildren file type VFS DirectoryEntry FILE currentlyLoadingTreeNode add new DefaultMutableTreeNode file allowsChildren model reload currentlyLoadingTreeNode tree expandPath new TreePath currentlyLoadingTreeNode getPath currentlyLoadingTreeNode rootNode timer stop typeSelectBuffer setLength public void updateFileView tree repaint public void reloadDirectory String path String browserDir browser getDirectory if browserDir startsWith FavoritesVFS PROTOCOL reloadDirectory rootNode path else if browserDir startsWith FileRootsVFS PROTOCOL if MiscUtilities isURL path MiscUtilities getProtocolOfURL path equals reloadDirectory rootNode path else if path startsWith browserDir reloadDirectory rootNode path public Component getDefaultFocusComponent return tree public void propertiesChanged showIcons jEdit getBooleanProperty renderer propertiesChanged private VFSBrowser browser private JTree tree private JScrollPane scroller private DefaultTreeModel model private DefaultMutableTreeNode rootNode private DefaultMutableTreeNode currentlyLoadingTreeNode private BrowserPopupMenu popup private boolean showIcons private FileCellRenderer renderer new FileCellRenderer private StringBuffer typeSelectBuffer new StringBuffer private Timer timer new Timer new ClearTypeSelect class ClearTypeSelect implements ActionListener public void actionPerformed ActionEvent evt typeSelectBuffer setLength browser filesSelected private boolean reloadDirectory DefaultMutableTreeNode node String path if tree isExpanded new TreePath node getPath return false Object userObject node getUserObject if userObject instanceof String if path equals userObject loadDirectoryNode node path false return true else if userObject instanceof VFS DirectoryEntry VFS DirectoryEntry file VFS DirectoryEntry userObject if file type VFS DirectoryEntry FILE return false if path equals file path loadDirectoryNode node path false return true if node getChildCount Enumeration children node children while children hasMoreElements DefaultMutableTreeNode child DefaultMutableTreeNode children nextElement if reloadDirectory child path return true return false private void loadDirectoryNode DefaultMutableTreeNode node String path boolean showLoading currentlyLoadingTreeNode node if showLoading node removeAllChildren node add new DefaultMutableTreeNode new LoadingPlaceholder false model reload currentlyLoadingTreeNode browser loadDirectory path private void showFilePopup VFS DirectoryEntry file Point point popup new BrowserPopupMenu browser file popup show tree point point class BrowserJTree extends JTree BrowserJTree TreeModel model super model ToolTipManager sharedInstance registerComponent this public final String getToolTipText MouseEvent evt TreePath path getPathForLocation evt getX evt getY if path null Rectangle cellRect getPathBounds path if cellRect null cellRectIsVisible cellRect return path getLastPathComponent toString return null public final Point getToolTipLocation MouseEvent evt TreePath path getPathForLocation evt getX evt getY if path null Rectangle cellRect getPathBounds path if cellRect null cellRectIsVisible cellRect return new Point cellRect showIcons cellRect showIcons return null protected void processKeyEvent KeyEvent evt if evt getID KeyEvent KEY_PRESSED switch evt getKeyCode case KeyEvent VK_ENTER browser filesActivated evt consume break case KeyEvent VK_LEFT if getMinSelectionRow getMinSelectionRow String directory browser getDirectory browser setDirectory VFSManager getVFSForPath directory getParentOfPath directory evt consume break else if evt getID KeyEvent KEY_TYPED typeSelectBuffer append evt getKeyChar doTypeSelect typeSelectBuffer toString timer stop timer setInitialDelay timer setRepeats false timer start if evt isConsumed super processKeyEvent evt protected void processMouseEvent MouseEvent evt ToolTipManager ttm ToolTipManager sharedInstance switch evt getID case MouseEvent MOUSE_ENTERED toolTipInitialDelay ttm getInitialDelay toolTipReshowDelay ttm getReshowDelay ttm setInitialDelay ttm setReshowDelay super processMouseEvent evt break case MouseEvent MOUSE_EXITED ttm setInitialDelay toolTipInitialDelay ttm setReshowDelay toolTipReshowDelay super processMouseEvent evt break case MouseEvent MOUSE_CLICKED if evt getModifiers MouseEvent BUTTON1_MASK TreePath path getPathForLocation evt getX evt getY if path null super processMouseEvent evt break if isPathSelected path setSelectionPath path if evt getClickCount browser filesSelected super processMouseEvent evt if evt getClickCount browser filesActivated break else if GUIUtilities isPopupTrigger evt super processMouseEvent evt break case MouseEvent MOUSE_PRESSED if evt getModifiers MouseEvent BUTTON1_MASK if popup null popup isVisible popup setVisible false if evt getClickCount break else if GUIUtilities isPopupTrigger evt if popup null popup isVisible popup setVisible false break TreePath path getPathForLocation evt getX evt getY if path null showFilePopup null evt getPoint else setSelectionPath path browser filesSelected Object userObject DefaultMutableTreeNode path getLastPathComponent getUserObject if userObject instanceof VFS DirectoryEntry VFS DirectoryEntry file VFS DirectoryEntry userObject showFilePopup file evt getPoint else showFilePopup null evt getPoint break super processMouseEvent evt break default super processMouseEvent evt break private int toolTipInitialDelay private int toolTipReshowDelay private boolean cellRectIsVisible Rectangle cellRect Rectangle vr BrowserJTree this getVisibleRect return vr contains cellRect cellRect vr contains cellRect cellRect width cellRect cellRect height private void doTypeSelect String str if getSelectionCount doTypeSelect str getRowCount else int start getMaxSelectionRow boolean retVal doTypeSelect str start getRowCount if retVal doTypeSelect str start private boolean doTypeSelect String str int start int end for int start end DefaultMutableTreeNode treeNode DefaultMutableTreeNode getPathForRow getLastPathComponent Object obj treeNode getUserObject if obj instanceof VFS DirectoryEntry VFS DirectoryEntry file VFS DirectoryEntry obj if file name regionMatches true str str length clearSelection setSelectionRow scrollRowToVisible return true return false class TreeHandler implements TreeExpansionListener public void treeExpanded TreeExpansionEvent evt TreePath path evt getPath DefaultMutableTreeNode treeNode DefaultMutableTreeNode path getLastPathComponent Object userObject treeNode getUserObject if userObject instanceof VFS DirectoryEntry loadDirectoryNode treeNode VFS DirectoryEntry userObject path true public void treeCollapsed TreeExpansionEvent evt TreePath path evt getPath DefaultMutableTreeNode treeNode DefaultMutableTreeNode path getLastPathComponent if treeNode getUserObject instanceof VFS DirectoryEntry treeNode removeAllChildren treeNode add new DefaultMutableTreeNode new LoadingPlaceholder false model reload treeNode class LoadingPlaceholder', 'bug': '1'}
{'sequence': 'public class PrintOptionPane extends AbstractOptionPane public PrintOptionPane super protected void String jEdit getProperty int try Integer parseInt jEdit getProperty catch NumberFormatException nf Font PLAIN int try Integer parseInt jEdit getProperty catch NumberFormatException nf font new FontSelector new Font addComponent jEdit getProperty font printHeader new JCheckBox jEdit getProperty printHeader setSelected jEdit getBooleanProperty addComponent printHeader printFooter new JCheckBox jEdit getProperty printFooter setSelected jEdit getBooleanProperty addComponent printFooter printLineNumbers new JCheckBox jEdit getProperty printLineNumbers setSelected jEdit getBooleanProperty addComponent printLineNumbers style new JCheckBox jEdit getProperty style setSelected jEdit getBooleanProperty addComponent style color new JCheckBox jEdit getProperty color setSelected jEdit getBooleanProperty addComponent color addSeparator topMargin new JTextField jEdit getProperty addComponent jEdit getProperty topMargin leftMargin new JTextField jEdit getProperty addComponent jEdit getProperty leftMargin bottomMargin new JTextField jEdit getProperty addComponent jEdit getProperty bottomMargin rightMargin new JTextField jEdit getProperty addComponent jEdit getProperty rightMargin protected void Font font getFont jEdit setProperty getFamily jEdit setProperty String valueOf getSize jEdit setProperty String valueOf getStyle jEdit setBooleanProperty printHeader isSelected jEdit setBooleanProperty printFooter isSelected jEdit setBooleanProperty printLineNumbers isSelected jEdit setBooleanProperty style isSelected jEdit setBooleanProperty color isSelected jEdit setProperty topMargin getText jEdit setProperty leftMargin getText jEdit setProperty bottomMargin getText jEdit setProperty rightMargin getText private FontSelector font private JCheckBox printHeader private JCheckBox printFooter private JCheckBox printLineNumbers private JCheckBox style private JCheckBox color private JTextField topMargin private JTextField leftMargin private JTextField bottomMargin private JTextField rightMargin', 'bug': '1'}
{'sequence': 'public class XmlException extends Exception private String message private String systemId private int line private int column public XmlException String message String systemId int line int column this message message this systemId systemId this line line this column column public String getMessage return message public String getSystemId return systemId public int getLine return line public int getColumn return column', 'bug': '0'}
{'sequence': 'public class PropertiesChanged extends EBMessage NonVetoable public PropertiesChanged EBComponent source super source', 'bug': '0'}
{'sequence': 'public abstract class AbstractOptionPane extends JPanel implements OptionPane public AbstractOptionPane String name this name name setLayout gridBag new GridBagLayout public String getName return name public Component getComponent return this public void init if initialized initialized true public void save if initialized protected boolean initialized protected GridBagLayout gridBag protected int protected void protected void protected void addComponent String label Component comp GridBagConstraints cons new GridBagConstraints cons gridy cons gridheight cons gridwidth cons weightx cons fill GridBagConstraints BOTH JLabel new JLabel label SwingConstants RIGHT setBorder new EmptyBorder gridBag setConstraints cons add cons gridx cons weightx gridBag setConstraints comp cons add comp protected void addComponent Component comp GridBagConstraints cons new GridBagConstraints cons gridy cons gridheight cons gridwidth cons REMAINDER cons fill GridBagConstraints NONE cons anchor GridBagConstraints WEST cons weightx gridBag setConstraints comp cons add comp protected void addSeparator String label Box box new Box BoxLayout X_AXIS Box box2 new Box BoxLayout Y_AXIS box2 add Box createGlue box2 add new JSeparator JSeparator HORIZONTAL box2 add Box createGlue box add box2 JLabel new JLabel jEdit getProperty label setMaximumSize getPreferredSize box add Box box3 new Box BoxLayout Y_AXIS box3 add Box createGlue box3 add new JSeparator JSeparator HORIZONTAL box3 add Box createGlue box add box3 GridBagConstraints cons new GridBagConstraints cons gridy cons gridheight cons gridwidth cons REMAINDER cons fill GridBagConstraints BOTH cons anchor GridBagConstraints WEST cons weightx gridBag setConstraints box cons add box private String name', 'bug': '1'}
{'sequence': 'abstract class REToken implements Serializable protected REToken next null protected REToken uncle null protected int subIndex protected REToken int aSubIndex subIndex aSubIndex int getMinimumLength return void setUncle REToken anUncle uncle anUncle abstract boolean match CharIndexed input REMatch mymatch protected boolean next CharIndexed input REMatch mymatch if next null if uncle null return true else return uncle match input mymatch else return next match input mymatch boolean chain REToken token next token void dump StringBuffer os void dumpAll StringBuffer os dump os if next null next dumpAll os', 'bug': '0'}
{'sequence': 'public class XModeHandler extends HandlerBase public XModeHandler XmlParser parser String modeName String path this modeName modeName this parser parser this path path stateStack new Stack public Object resolveEntity String publicId String systemId if equals systemId try return new BufferedReader new InputStreamReader getClass getResourceAsStream catch Exception error return null public void attribute String aname String value boolean isSpecified String tag peekElement aname aname null null aname intern value value null null value intern if aname propName value else if aname propValue value else if aname lastTokenID stringToToken value else if aname lastAtLineStart isSpecified value false else if aname lastNoLineBreak isSpecified value false else if aname lastNoWordBreak isSpecified value false else if aname lastExcludeMatch isSpecified value false else if aname lastIgnoreCase isSpecified value true else if aname lastHighlightDigits isSpecified value false else if aname try if isSpecified termChar Integer parseInt value catch NumberFormatException error value termChar else if aname lastEscape value else if aname lastSetName value else if aname lastDelegateSet value else if aname lastDefaultID stringToToken value public void doctypeDecl String name String publicId String systemId throws Exception if equalsIgnoreCase name return error name public void charData char int off int len String tag peekElement String text new String off len if tag tag tag tag tag tag lastStart text else if tag lastEnd text else lastKeyword text public void startElement String tag tag pushElement tag if tag mode jEdit getMode modeName if mode null mode new Mode modeName jEdit addMode mode else if tag keywords new KeywordMap true else if tag rules new ParserRuleSet rules setIgnoreCase lastIgnoreCase rules setHighlightDigits lastHighlightDigits rules setEscape lastEscape rules setDefault lastDefaultID public void endElement String name if name null return String tag popElement if name equalsIgnoreCase tag if tag mode init mode setTokenMarker marker else if tag try mode setProperty propName new Integer propValue catch NumberFormatException nf mode setProperty propName propValue else if tag keywords setIgnoreCase lastIgnoreCase lastIgnoreCase true else if tag rules setKeywords keywords marker addRuleSet lastSetName rules keywords null lastSetName null lastEscape null lastIgnoreCase true lastHighlightDigits false lastDefaultID Token NULL rules null else if tag setTerminateChar termChar termChar else if tag if lastStart null error return addRule ParserRuleFactory createWhitespaceRule lastStart lastStart null lastEnd null else if tag if lastStart null error return addRule ParserRuleFactory createEOLSpanRule lastStart lastTokenID lastAtLineStart lastExcludeMatch lastStart null lastEnd null lastTokenID Token NULL lastAtLineStart false lastExcludeMatch false else if tag if lastStart null error return addRule ParserRuleFactory createMarkPreviousRule lastStart lastTokenID lastAtLineStart lastExcludeMatch lastStart null lastEnd null lastTokenID Token NULL lastAtLineStart false lastExcludeMatch false else if tag if lastStart null error return addRule ParserRuleFactory createMarkFollowingRule lastStart lastTokenID lastAtLineStart lastExcludeMatch lastStart null lastEnd null lastTokenID Token NULL lastAtLineStart false lastExcludeMatch false else if tag if lastStart null error return addRule ParserRuleFactory createSequenceRule lastStart lastTokenID lastAtLineStart lastStart null lastEnd null lastTokenID Token NULL lastAtLineStart false else if tag if lastDelegateSet null addRule ParserRuleFactory createSpanRule lastStart lastEnd lastTokenID lastNoLineBreak lastAtLineStart lastExcludeMatch lastNoWordBreak else if lastDelegateSet indexOf lastDelegateSet modeName lastDelegateSet addRule ParserRuleFactory createDelegateSpanRule lastStart lastEnd lastDelegateSet lastTokenID lastNoLineBreak lastAtLineStart lastExcludeMatch lastNoWordBreak lastStart null lastEnd null lastTokenID Token NULL lastAtLineStart false lastNoLineBreak false lastExcludeMatch false lastNoWordBreak false lastDelegateSet null else if tag addKeyword lastKeyword Token NULL else if tag addKeyword lastKeyword Token COMMENT1 else if tag addKeyword lastKeyword Token COMMENT2 else if tag addKeyword lastKeyword Token LITERAL1 else if tag addKeyword lastKeyword Token LITERAL2 else if tag addKeyword lastKeyword Token LABEL else if tag addKeyword lastKeyword Token KEYWORD1 else if tag addKeyword lastKeyword Token KEYWORD2 else if tag addKeyword lastKeyword Token KEYWORD3 else if tag addKeyword lastKeyword Token FUNCTION else if tag addKeyword lastKeyword Token MARKUP else if tag addKeyword lastKeyword Token OPERATOR else if tag addKeyword lastKeyword Token DIGIT else throw new InternalError public void startDocument marker new TokenMarker marker setName modeName pushElement null private XmlParser parser private String modeName private String path private TokenMarker marker private KeywordMap keywords private Mode mode private Stack stateStack private String propName private String propValue private String lastStart private String lastEnd private String lastKeyword private String lastSetName private String lastEscape private String lastDelegateSet private ParserRuleSet rules private byte lastDefaultID Token NULL private byte lastTokenID private int termChar private boolean lastNoLineBreak private boolean lastNoWordBreak private boolean lastAtLineStart private boolean lastExcludeMatch private boolean lastIgnoreCase true private boolean lastHighlightDigits private byte stringToToken String value if value return Token NULL else if value return Token COMMENT1 else if value return Token COMMENT2 else if value return Token LITERAL1 else if value return Token LITERAL2 else if value return Token LABEL else if value return Token KEYWORD1 else if value return Token KEYWORD2 else if value return Token KEYWORD3 else if value return Token FUNCTION else if value return Token MARKUP else if value return Token OPERATOR else if value return Token DIGIT else if value return Token INVALID else error value return Token NULL private void addKeyword String byte id if null error return if keywords null return keywords add id private void addRule ParserRule rules addRule private void setTerminateChar int atChar rules setTerminateChar atChar private String pushElement String name name name null null name intern stateStack push name return name private String peekElement return String stateStack peek private String popElement return String stateStack pop private void error String msg jEdit getProperty msg private void error String msg String subst jEdit getProperty msg new String subst private void error String msg Throwable jEdit getProperty msg new String toString Log log Log ERROR this private void String msg Object args path new Integer parser getLineNumber new Integer parser getColumnNumber msg GUIUtilities error null args', 'bug': '1'}
{'sequence': 'public class Macros public static void message View view String message JOptionPane showMessageDialog view message jEdit getProperty JOptionPane INFORMATION_MESSAGE public static void error View view String message JOptionPane showMessageDialog view message jEdit getProperty JOptionPane ERROR_MESSAGE public static String input View view String prompt return input view prompt null public static String input View view String prompt String defaultValue return String JOptionPane showInputDialog view prompt jEdit getProperty JOptionPane QUESTION_MESSAGE null null defaultValue public static void browseSystemMacros View view if userMacroPath null GUIUtilities error view null return DockableWindowManager dockableWindowManager view getDockableWindowManager dockableWindowManager addDockableWindow VFSBrowser NAME final VFSBrowser browser VFSBrowser dockableWindowManager getDockableWindow VFSBrowser NAME VFSManager runInAWTThread new Runnable public void run browser setDirectory systemMacroPath public static void browseUserMacros View view if userMacroPath null GUIUtilities error view null return DockableWindowManager dockableWindowManager view getDockableWindowManager dockableWindowManager addDockableWindow VFSBrowser NAME final VFSBrowser browser VFSBrowser dockableWindowManager getDockableWindow VFSBrowser NAME VFSManager runInAWTThread new Runnable public void run browser setDirectory userMacroPath public static void loadMacros macroList new Vector macroHierarchy new Vector macroHash new Hashtable if jEdit getJEditHome null systemMacroPath MiscUtilities constructPath jEdit getJEditHome loadMacros macroHierarchy new File systemMacroPath String settings jEdit getSettingsDirectory if settings null userMacroPath MiscUtilities constructPath settings loadMacros macroHierarchy new File userMacroPath MiscUtilities quicksort macroList new MiscUtilities StringICaseCompare EditBus send new MacrosChanged null public static Vector getMacroHierarchy return macroHierarchy public static Vector getMacroList return macroList public static Macro getMacro String macro return Macro macroHash get macro public static class Macro public String name public String path public EditAction action public Macro String name final String path this name name this path path action new EditAction name false public void invoke View view lastMacro path Buffer buffer view getBuffer try buffer beginCompoundEdit BeanShell runScript view path true false finally buffer endCompoundEdit public String toString return name public static void recordTemporaryMacro View view String settings jEdit getSettingsDirectory if settings null GUIUtilities error view new String return if view getMacroRecorder null GUIUtilities error view new String return Buffer buffer jEdit openFile null settings File separator true null if buffer null return try buffer remove buffer getLength buffer insertString jEdit getProperty null catch BadLocationException bl Log log Log ERROR Macros class bl recordMacro view buffer true public static void recordMacro View view String settings jEdit getSettingsDirectory if settings null GUIUtilities error view new String return if view getMacroRecorder null GUIUtilities error view new String return String name GUIUtilities input view null if name null return name name replace Buffer buffer jEdit openFile null null MiscUtilities constructPath settings name true null if buffer null return try buffer remove buffer getLength buffer insertString jEdit getProperty null catch BadLocationException bl Log log Log ERROR Macros class bl recordMacro view buffer false public static void stopRecording View view InputHandler inputHandler view getInputHandler Recorder recorder view getMacroRecorder if recorder null GUIUtilities error view null else view setMacroRecorder null if recorder temporary view setBuffer recorder buffer recorder dispose public static void runTemporaryMacro View view String settings jEdit getSettingsDirectory if settings null GUIUtilities error view new String return lastMacro MiscUtilities constructPath jEdit getSettingsDirectory Buffer buffer view getBuffer try buffer beginCompoundEdit BeanShell runScript view lastMacro true false finally buffer endCompoundEdit public static void runLastMacro View view if lastMacro null view getToolkit beep else BeanShell runScript view lastMacro true false private static String systemMacroPath private static String userMacroPath private static Vector macroList private static Vector macroHierarchy private static Hashtable macroHash private static String lastMacro static EditBus addToBus new MacrosEBComponent private static void loadMacros Vector vector String path File directory String macroFiles directory list if macroFiles null return MiscUtilities quicksort macroFiles new MiscUtilities StringICaseCompare for int macroFiles length String fileName macroFiles File file new File directory fileName if fileName toLowerCase endsWith String label fileName substring fileName length String name path label Macro newMacro new Macro name file getPath vector addElement newMacro macroList addElement newMacro macroHash put name newMacro else if file isDirectory Vector submenu new Vector submenu addElement fileName replace loadMacros submenu path fileName file vector addElement submenu private static void recordMacro View view Buffer buffer boolean temporary lastMacro buffer getPath view setMacroRecorder new Recorder view buffer temporary view getStatus setMessage null static class MacrosEBComponent implements EBComponent public void handleMessage EBMessage msg if msg instanceof BufferUpdate BufferUpdate bmsg BufferUpdate msg if bmsg getWhat BufferUpdate DIRTY_CHANGED bmsg getBuffer isDirty maybeReloadMacros bmsg getBuffer getPath else if msg instanceof VFSUpdate maybeReloadMacros VFSUpdate msg getPath private void maybeReloadMacros String path if File separatorChar File separatorChar path path toLowerCase if systemMacroPath null path startsWith systemMacroPath toLowerCase loadMacros if userMacroPath null path startsWith userMacroPath toLowerCase loadMacros else if systemMacroPath null path startsWith systemMacroPath loadMacros if userMacroPath null path startsWith userMacroPath loadMacros public static class Recorder implements EBComponent View view Buffer buffer boolean temporary boolean lastWasInput public Recorder View view Buffer buffer boolean temporary this view view this buffer buffer this temporary temporary EditBus addToBus this public void record String code if lastWasInput lastWasInput false append append append code public void record int repeat String code if repeat record code else record repeat code public void record int repeat char ch if ch record repeat else if ch record repeat else StringBuffer buf new StringBuffer for int repeat buf append ch String charStr MiscUtilities charsToEscapes buf toString if lastWasInput append charStr else append charStr lastWasInput true public void handleMessage EBMessage msg if msg instanceof BufferUpdate BufferUpdate bmsg BufferUpdate msg if bmsg getWhat BufferUpdate CLOSED if bmsg getBuffer buffer stopRecording view private void append String str try buffer insertString buffer getLength str null catch BadLocationException bl Log log Log ERROR this bl private void dispose if lastWasInput lastWasInput false append int lineCount buffer getDefaultRootElement getElementCount for int lineCount buffer indentLine true true EditBus removeFromBus this view getStatus setMessage null', 'bug': '1'}
{'sequence': 'public class TokenMarker public static final int MAJOR_ACTIONS public static final int WHITESPACE public static final int SPAN public static final int MARK_PREVIOUS public static final int MARK_FOLLOWING public static final int EOL_SPAN public static final int ACTION_HINTS public static final int EXCLUDE_MATCH public static final int AT_LINE_START public static final int NO_LINE_BREAK public static final int NO_WORD_BREAK public static final int IS_ESCAPE public static final int DELEGATE public TokenMarker ruleSets new Hashtable public void addRuleSet String setName ParserRuleSet rules if rules null return if setName null setName ruleSets put rulePfx concat setName rules public ParserRuleSet getMainRuleSet return getRuleSet rulePfx public ParserRuleSet getRuleSet String setName ParserRuleSet rules rules ParserRuleSet ruleSets get setName if rules null setName startsWith rulePfx int delim setName indexOf String modeName setName substring delim Mode mode jEdit getMode modeName if mode null Log log Log ERROR TokenMarker class modeName rules null else TokenMarker marker mode getTokenMarker rules marker getRuleSet setName ruleSets put setName rules if rules null Log log Log ERROR this setName return rules public String getName return name public void setName String name if name null throw new NullPointerException this name name rulePfx name concat public void markTokens Buffer LineInfo prevInfo Buffer LineInfo info Segment line LineContext lastContext prevInfo null null prevInfo context if lastContext null lastContext new LineContext null getRuleSet rulePfx concat context info context context parent lastContext parent null null LineContext lastContext parent clone context inRule lastContext inRule context rules lastContext rules lastOffset lastKeyword line offset lineLength line count line offset int terminateChar context rules getTerminateChar int searchLimit terminateChar terminateChar line count line offset terminateChar lineLength escaped false boolean boolean tempEscaped Segment tempPattern ParserRule rule LineContext tempContext for pos line offset pos searchLimit pos if context parent null tempContext context context context parent pattern array context inRule searchChars pattern count context inRule sequenceLengths pattern offset context inRule sequenceLengths handleRule info line context inRule context tempContext if if escaped escaped false else if pos lastOffset if context inRule null markKeyword info line lastKeyword pos info addToken pos lastOffset context rules getDefault else if context inRule action NO_LINE_BREAK NO_WORD_BREAK info addToken pos lastOffset context inRule token else info addToken pos lastOffset Token INVALID context LineContext context parent if context inRule action EXCLUDE_MATCH EXCLUDE_MATCH info addToken pattern count context rules getDefault else info addToken pattern count context inRule token context inRule null lastKeyword lastOffset pos pattern count continue if rule context rules getEscapeRule null tempPattern pattern pattern context rules getEscapePattern tempEscaped escaped handleRule info line rule pattern tempPattern if if tempEscaped escaped false continue rule context inRule if rule null rule action SPAN SPAN pattern array rule searchChars pattern count rule sequenceLengths pattern offset rule sequenceLengths if handleRule info line rule rule action SOFT_SPAN escaped false continue rule context rules getRules line array pos while rule null pattern array rule searchChars if context inRule rule rule action SPAN SPAN pattern count rule sequenceLengths pattern offset rule sequenceLengths else pattern count rule sequenceLengths pattern offset if handleRule info line rule break rule rule next escaped false if context inRule null markKeyword info line lastKeyword lineLength if lastOffset lineLength if context inRule null info addToken lineLength lastOffset context rules getDefault else if context inRule action SPAN SPAN context inRule action NO_LINE_BREAK NO_WORD_BREAK info addToken lineLength lastOffset Token INVALID context inRule null else info addToken lineLength lastOffset context inRule token if context inRule action MARK_FOLLOWING MARK_FOLLOWING context inRule null info context context private static final int SOFT_SPAN MARK_FOLLOWING NO_WORD_BREAK private String name private String rulePfx private Hashtable ruleSets private LineContext context private Segment pattern new Segment new char private int lastOffset private int lastKeyword private int lineLength private int pos private boolean escaped private boolean handleRule Buffer LineInfo info Segment line ParserRule checkRule if pattern count return true if lineLength pos pattern count return true char for int pattern count pattern array pattern offset line array pos if context rules getIgnoreCase Character toLowerCase Character toLowerCase return true if escaped pos pattern count return false else if checkRule action IS_ESCAPE IS_ESCAPE escaped true pos pattern count return false if context inRule checkRule context inRule null context inRule action SOFT_SPAN if context inRule action NO_WORD_BREAK NO_WORD_BREAK info addToken pos lastOffset Token INVALID else info addToken pos lastOffset context inRule token lastOffset lastKeyword pos context inRule null if context inRule null if checkRule action AT_LINE_START AT_LINE_START if checkRule action MARK_PREVIOUS lastKeyword pos line offset return true markKeyword info line lastKeyword pos if checkRule action MARK_PREVIOUS MARK_PREVIOUS lastKeyword pos pattern count if checkRule action WHITESPACE WHITESPACE if lastOffset pos info addToken pos lastOffset context rules getDefault switch checkRule action MAJOR_ACTIONS case info addToken pattern count checkRule token lastOffset pos pattern count break case SPAN context inRule checkRule if checkRule action DELEGATE DELEGATE if checkRule action EXCLUDE_MATCH EXCLUDE_MATCH info addToken pattern count context rules getDefault lastOffset pos pattern count else lastOffset pos else String setName new String checkRule searchChars checkRule sequenceLengths checkRule sequenceLengths checkRule sequenceLengths ParserRuleSet delegateSet getRuleSet setName if delegateSet null if checkRule action EXCLUDE_MATCH EXCLUDE_MATCH info addToken pattern count context rules getDefault else info addToken pattern count checkRule token lastOffset pos pattern count context new LineContext delegateSet context break case EOL_SPAN if checkRule action EXCLUDE_MATCH EXCLUDE_MATCH info addToken pattern count context rules getDefault info addToken lineLength pos pattern count checkRule token else info addToken lineLength pos checkRule token lastOffset lineLength lastKeyword lineLength pos lineLength return false case MARK_PREVIOUS if lastKeyword lastOffset info addToken lastKeyword lastOffset context rules getDefault lastOffset lastKeyword if checkRule action EXCLUDE_MATCH EXCLUDE_MATCH info addToken pos lastOffset checkRule token info addToken pattern count context rules getDefault else info addToken pos lastOffset pattern count checkRule token lastOffset pos pattern count break case MARK_FOLLOWING context inRule checkRule if checkRule action EXCLUDE_MATCH EXCLUDE_MATCH info addToken pattern count context rules getDefault lastOffset pos pattern count else lastOffset pos break default throw new InternalError lastKeyword lastOffset else if checkRule action SPAN SPAN if checkRule action DELEGATE DELEGATE context inRule null if checkRule action EXCLUDE_MATCH EXCLUDE_MATCH info addToken pos lastOffset checkRule token info addToken pattern count context rules getDefault else info addToken pos pattern count lastOffset checkRule token lastKeyword lastOffset pos pattern count return true private void markKeyword Buffer LineInfo info Segment line int start int end KeywordMap keywords context rules getKeywords int len end start if context rules getHighlightDigits boolean digit true char array line array boolean octal false boolean hex false boolean seenSomeDigits false loop for int len char ch array start switch ch case if octal true seenSomeDigits true continue loop case case case case case case case case case seenSomeDigits true continue loop case case if octal hex true continue loop else break case case if hex continue loop else break case case if hex seenSomeDigits continue loop else break case case if seenSomeDigits continue loop else break case case if seenSomeDigits continue loop else break case case case case case case if hex continue loop else break case case continue loop default break digit false break loop if digit if start lastOffset info addToken start lastOffset context rules getDefault info addToken len Token DIGIT lastKeyword lastOffset end return if keywords null byte id keywords lookup line start len if id Token NULL if start lastOffset info addToken start lastOffset context rules getDefault info addToken len id lastKeyword lastOffset end public static class LineContext public LineContext parent public ParserRule inRule public ParserRuleSet rules public LineContext ParserRule ParserRuleSet rs inRule rules rs public LineContext ParserRuleSet rs LineContext lc rules rs parent lc null null LineContext lc clone public LineContext ParserRule inRule public LineContext public Object clone LineContext lc new LineContext lc inRule inRule lc rules rules lc parent parent null null LineContext parent clone return lc', 'bug': '1'}
{'sequence': 'public interface ParserTreeConstants public int JJTVOID public int JJTMETHODDECLARATION public int JJTIMPORTDECLARATION public int JJTVARIABLEDECLARATOR public int JJTARRAYINITIALIZER public int JJTFORMALPARAMETERS public int JJTFORMALPARAMETER public int JJTTYPE public int JJTRETURNTYPE public int JJTPRIMITIVETYPE public int JJTAMBIGUOUSNAME public int JJTASSIGNMENT public int JJTTERNARYEXPRESSION public int JJTBINARYEXPRESSION public int JJTUNARYEXPRESSION public int JJTCASTEXPRESSION public int JJTPRIMARYEXPRESSION public int JJTMETHODINVOCATION public int JJTPRIMARYSUFFIX public int JJTLHSPRIMARYEXPRESSION public int JJTLHSPRIMARYSUFFIX public int JJTLITERAL public int JJTARGUMENTS public int JJTALLOCATIONEXPRESSION public int JJTARRAYDIMENSIONS public int JJTBLOCK public int JJTSWITCHSTATEMENT public int JJTSWITCHLABEL public int JJTIFSTATEMENT public int JJTWHILESTATEMENT public int JJTFORSTATEMENT public int JJTTYPEDVARIABLEDECLARATION public int JJTSTATEMENTEXPRESSIONLIST public int JJTRETURNSTATEMENT public int JJTTHROWSTATEMENT public int JJTTRYSTATEMENT public String jjtNodeName', 'bug': '0'}
{'sequence': 'public class SearchAndReplace public static void setSearchString String search if search equals SearchAndReplace search return SearchAndReplace search search matcher null EditBus send new SearchSettingsChanged null public static String getSearchString return search public static void setReplaceString String replace if replace equals SearchAndReplace replace return SearchAndReplace replace replace matcher null EditBus send new SearchSettingsChanged null public static String getReplaceString return replace public static void setIgnoreCase boolean ignoreCase if ignoreCase SearchAndReplace ignoreCase return SearchAndReplace ignoreCase ignoreCase matcher null EditBus send new SearchSettingsChanged null public static boolean getIgnoreCase return ignoreCase public static void setRegexp boolean regexp if regexp SearchAndReplace regexp return SearchAndReplace regexp regexp matcher null EditBus send new SearchSettingsChanged null public static boolean getRegexp return regexp public static void setReverseSearch boolean reverse if reverse SearchAndReplace reverse return SearchAndReplace reverse reverse matcher null EditBus send new SearchSettingsChanged null public static boolean getReverseSearch return reverse public static void setBeanShellReplace boolean beanshell if beanshell SearchAndReplace beanshell return SearchAndReplace beanshell beanshell matcher null EditBus send new SearchSettingsChanged null public static boolean getBeanShellReplace return beanshell public static void setAutoWrapAround boolean wrap if wrap SearchAndReplace wrap return SearchAndReplace wrap wrap EditBus send new SearchSettingsChanged null public static boolean getAutoWrapAround return wrap public static void setSearchMatcher SearchMatcher matcher SearchAndReplace matcher matcher EditBus send new SearchSettingsChanged null public static SearchMatcher getSearchMatcher throws Exception return getSearchMatcher true public static SearchMatcher getSearchMatcher boolean reverseOK throws Exception reverseOK fileset instanceof CurrentBufferSet if matcher null reverseOK reverse return matcher if search null equals search return null String replace SearchAndReplace replace null SearchAndReplace replace String replaceMethod if beanshell replace length replaceMethod BeanShell cacheBlock replace false else replaceMethod null if regexp matcher new RESearchMatcher search replace ignoreCase beanshell replaceMethod else matcher new BoyerMooreSearchMatcher search replace ignoreCase reverse reverseOK beanshell replaceMethod return matcher public static void setSearchFileSet SearchFileSet fileset SearchAndReplace fileset fileset EditBus send new SearchSettingsChanged null public static SearchFileSet getSearchFileSet return fileset public static boolean hyperSearch View view record view false true view getDockableWindowManager addDockableWindow HyperSearchResults NAME final HyperSearchResults results HyperSearchResults view getDockableWindowManager getDockableWindow HyperSearchResults NAME results searchStarted try VFSManager runInWorkThread new HyperSearchRequest view getSearchMatcher false results return true catch Exception Log log Log ERROR SearchAndReplace class Object args getMessage if args null args toString GUIUtilities error view args return false public static boolean find View view boolean repeat false Buffer buffer fileset getNextBuffer view null try SearchMatcher matcher getSearchMatcher true if matcher null view getToolkit beep return false record view false true view showWaitCursor loop for while buffer null if buffer isLoaded VFSManager waitForRequests int start if view getBuffer buffer repeat JEditTextArea textArea view getTextArea Selection textArea getSelectionAtOffset textArea getCaretPosition if null start textArea getCaretPosition else if reverse start getStart else start getEnd else if reverse start buffer getLength else start if find view buffer start return true buffer fileset getNextBuffer view buffer if repeat view getToolkit beep return false if BeanShell isScriptRunning break loop boolean restart if wrap view getStatus setMessageAndClear jEdit getProperty restart true else Integer args new Integer reverse int result GUIUtilities confirm view args JOptionPane YES_NO_OPTION JOptionPane QUESTION_MESSAGE restart result JOptionPane YES_OPTION if restart buffer fileset getFirstBuffer view repeat true else break loop catch Exception Log log Log ERROR SearchAndReplace class Object args getMessage if args null args toString GUIUtilities error view args finally view hideWaitCursor return false public static boolean find final View view final Buffer buffer final int start throws Exception SearchMatcher matcher getSearchMatcher true Segment text new Segment if reverse buffer getText start text else buffer getText start buffer getLength start text int match matcher nextMatch text if match null fileset matchFound buffer view setBuffer buffer JEditTextArea textArea view getTextArea int matchStart reverse start textArea setSelection new Selection Range matchStart match matchStart match textArea moveCaretPosition matchStart match return true else return false public static boolean replace View view JEditTextArea textArea view getTextArea Selection selection textArea getSelection if selection length view getToolkit beep return false record view true false Buffer buffer view getBuffer try buffer beginCompoundEdit int retVal for int selection length Selection selection int start getStart retVal view buffer getStart getEnd textArea removeFromSelection if instanceof Selection Range textArea addToSelection new Selection Range start getEnd else if instanceof Selection Rect textArea addToSelection new Selection Rect start getEnd if retVal view getToolkit beep return false return true catch Exception Log log Log ERROR SearchAndReplace class Object args getMessage if args null args toString GUIUtilities error view args finally buffer endCompoundEdit return false public static boolean replace View view Buffer buffer int start int end JEditTextArea textArea view getTextArea try int retVal buffer beginCompoundEdit retVal view buffer start end if retVal return true catch Exception Log log Log ERROR SearchAndReplace class Object args getMessage if args null args toString GUIUtilities error view args finally buffer endCompoundEdit return false public static boolean replaceAll View view int fileCount int occurCount record view true true view showWaitCursor try Buffer buffer fileset getFirstBuffer view do if buffer isPerformingIO VFSManager waitForRequests try buffer beginCompoundEdit int retVal view buffer buffer getLength if retVal fileCount occurCount retVal fileset matchFound buffer finally buffer endCompoundEdit while buffer fileset getNextBuffer view buffer null catch Exception Log log Log ERROR SearchAndReplace class Object args getMessage if args null args toString GUIUtilities error view args finally view hideWaitCursor if BeanShell isScriptRunning Object args new Integer occurCount new Integer fileCount view getStatus setMessageAndClear jEdit getProperty args return fileCount public static void load search jEdit getProperty replace jEdit getProperty ignoreCase jEdit getBooleanProperty regexp jEdit getBooleanProperty reverse jEdit getBooleanProperty beanshell jEdit getBooleanProperty wrap jEdit getBooleanProperty String filesetCode jEdit getProperty if filesetCode null fileset SearchFileSet BeanShell eval null filesetCode true if fileset null fileset new CurrentBufferSet public static void save jEdit setProperty search jEdit setProperty replace jEdit setBooleanProperty ignoreCase jEdit setBooleanProperty regexp jEdit setBooleanProperty reverse jEdit setBooleanProperty beanshell jEdit setBooleanProperty wrap String code fileset getCode if code null jEdit setProperty code else jEdit unsetProperty private static String search private static String replace private static boolean regexp private static boolean ignoreCase private static boolean reverse private static boolean beanshell private static boolean wrap private static SearchMatcher matcher private static SearchFileSet fileset private static void record View view String action boolean replaceAction boolean recordFileSet Macros Recorder recorder view getMacroRecorder if recorder null recorder record MiscUtilities charsToEscapes search if replaceAction recorder record MiscUtilities charsToEscapes replace recorder record beanshell else recorder record wrap recorder record reverse recorder record ignoreCase recorder record regexp if recordFileSet recorder record fileset getCode recorder record action private static int View view Buffer buffer int start int end throws Exception if buffer isEditable return SearchMatcher matcher getSearchMatcher false if matcher null return int occurCount Segment text new Segment int offset start loop for buffer getText offset end offset text int occur matcher nextMatch text if occur null break loop int occur int occur occur String found new String text array text offset String subst matcher substitute found if subst null buffer remove offset buffer insertString offset subst null occurCount offset subst length end subst length found length else offset return occurCount', 'bug': '1'}
{'sequence': 'class ParserTokenManager implements ParserConstants private final int jjStopStringLiteralDfa_0 int pos long active0 long active1 switch pos case if active0 return if active1 return if active1 return if active0 jjmatchedKind return return case if active0 if jjmatchedPos jjmatchedKind jjmatchedPos return if active0 return return case if active0 if jjmatchedPos jjmatchedKind jjmatchedPos return if active0 return return case if active0 return if active0 if jjmatchedPos jjmatchedKind jjmatchedPos return return case if active0 if jjmatchedPos jjmatchedKind jjmatchedPos return if active0 return return case if active0 jjmatchedKind jjmatchedPos return if active0 return return case if active0 return if active0 jjmatchedKind jjmatchedPos return return case if active0 jjmatchedKind jjmatchedPos return if active0 return return case if active0 jjmatchedKind jjmatchedPos return if active0 return return case if active0 return return default return private final int jjStartNfa_0 int pos long active0 long active1 return jjMoveNfa_0 jjStopStringLiteralDfa_0 pos active0 active1 pos private final int jjStopAtPos int pos int kind jjmatchedKind kind jjmatchedPos pos return pos private final int jjStartNfaWithStates_0 int pos int kind int state jjmatchedKind kind jjmatchedPos pos try curChar input_stream readChar catch java io IOException return pos return jjMoveNfa_0 state pos private final int jjMoveStringLiteralDfa0_0 switch curChar case return jjStartNfaWithStates_0 case return jjStartNfaWithStates_0 case return jjStartNfaWithStates_0 case return jjStartNfaWithStates_0 case return jjStartNfaWithStates_0 case jjmatchedKind return jjMoveStringLiteralDfa1_0 case jjmatchedKind return jjMoveStringLiteralDfa1_0 case jjmatchedKind return jjMoveStringLiteralDfa1_0 case return jjStopAtPos case return jjStopAtPos case jjmatchedKind return jjMoveStringLiteralDfa1_0 case jjmatchedKind return jjMoveStringLiteralDfa1_0 case return jjStopAtPos case jjmatchedKind return jjMoveStringLiteralDfa1_0 case return jjStartNfaWithStates_0 case jjmatchedKind return jjMoveStringLiteralDfa1_0 case return jjStopAtPos case return jjStopAtPos case jjmatchedKind return jjMoveStringLiteralDfa1_0 case jjmatchedKind return jjMoveStringLiteralDfa1_0 case jjmatchedKind return jjMoveStringLiteralDfa1_0 case return jjStopAtPos case return jjMoveStringLiteralDfa1_0 case return jjStopAtPos case return jjStopAtPos case jjmatchedKind return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjMoveStringLiteralDfa1_0 case return jjStopAtPos case jjmatchedKind return jjMoveStringLiteralDfa1_0 case return jjStopAtPos case return jjStopAtPos default return jjMoveNfa_0 private final int jjMoveStringLiteralDfa1_0 long active0 long active1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active0 active1 return switch curChar case if active1 return jjStopAtPos break case if active1 return jjStopAtPos break case if active1 return jjStopAtPos break case if active1 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa2_0 active0 active1 case if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos else if active1 return jjStopAtPos break case if active1 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case if active0 return jjStartNfaWithStates_0 break case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case if active0 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case return jjMoveStringLiteralDfa2_0 active0 active1 case if active1 return jjStopAtPos break default break return jjStartNfa_0 active0 active1 private final int jjMoveStringLiteralDfa2_0 long old0 long active0 long old1 long active1 if active0 old0 active1 old1 return jjStartNfa_0 old0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active0 active1 return switch curChar case if active1 return jjStopAtPos else if active1 return jjStopAtPos break case if active1 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case if active0 return jjStartNfaWithStates_0 else if active1 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case if active0 jjmatchedKind jjmatchedPos else if active1 jjmatchedKind jjmatchedPos else if active1 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa3_0 active0 active1 case return jjMoveStringLiteralDfa3_0 active0 active1 case if active0 return jjStartNfaWithStates_0 break case if active0 return jjStartNfaWithStates_0 break default break return jjStartNfa_0 active0 active1 private final int jjMoveStringLiteralDfa3_0 long old0 long active0 long old1 long active1 if active0 old0 active1 old1 return jjStartNfa_0 old0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active0 active1 return switch curChar case if active1 return jjStopAtPos break case return jjMoveStringLiteralDfa4_0 active0 active1 case return jjMoveStringLiteralDfa4_0 active0 active1 case return jjMoveStringLiteralDfa4_0 active0 active1 case return jjMoveStringLiteralDfa4_0 active0 active1 case if active0 return jjStartNfaWithStates_0 else if active1 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa4_0 active0 active1 case if active0 return jjStartNfaWithStates_0 else if active0 return jjStartNfaWithStates_0 else if active0 return jjStartNfaWithStates_0 else if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa4_0 active0 active1 case return jjMoveStringLiteralDfa4_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa4_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa4_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa4_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa4_0 active0 active1 case return jjMoveStringLiteralDfa4_0 active0 active1 case return jjMoveStringLiteralDfa4_0 active0 active1 case return jjMoveStringLiteralDfa4_0 active0 active1 case return jjMoveStringLiteralDfa4_0 active0 active1 default break return jjStartNfa_0 active0 active1 private final int jjMoveStringLiteralDfa4_0 long old0 long active0 long old1 long active1 if active0 old0 active1 old1 return jjStartNfa_0 old0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active0 active1 return switch curChar case return jjMoveStringLiteralDfa5_0 active0 active1 case return jjMoveStringLiteralDfa5_0 active0 active1 case return jjMoveStringLiteralDfa5_0 active0 active1 case if active0 return jjStartNfaWithStates_0 else if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa5_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa5_0 active0 active1 case return jjMoveStringLiteralDfa5_0 active0 active1 case if active0 return jjStartNfaWithStates_0 break case if active0 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa5_0 active0 active1 case if active1 return jjStopAtPos else if active1 return jjStopAtPos break case return jjMoveStringLiteralDfa5_0 active0 active1 case if active0 return jjStartNfaWithStates_0 break case if active0 return jjStartNfaWithStates_0 else if active0 return jjStartNfaWithStates_0 else if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa5_0 active0 active1 case return jjMoveStringLiteralDfa5_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa5_0 active0 active1 default break return jjStartNfa_0 active0 active1 private final int jjMoveStringLiteralDfa5_0 long old0 long active0 long old1 long active1 if active0 old0 active1 old1 return jjStartNfa_0 old0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active0 active1 return switch curChar case return jjMoveStringLiteralDfa6_0 active0 active1 case return jjMoveStringLiteralDfa6_0 active0 active1 case if active0 return jjStartNfaWithStates_0 else if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa6_0 active0 active1 case if active0 return jjStartNfaWithStates_0 break case return jjMoveStringLiteralDfa6_0 active0 active1 case if active0 return jjStartNfaWithStates_0 break case return jjMoveStringLiteralDfa6_0 active0 active1 case return jjMoveStringLiteralDfa6_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa6_0 active0 active1 case return jjMoveStringLiteralDfa6_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa6_0 active0 active1 default break return jjStartNfa_0 active0 active1 private final int jjMoveStringLiteralDfa6_0 long old0 long active0 long old1 long active1 if active0 old0 active1 old1 return jjStartNfa_0 old0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active0 active1 return switch curChar case return jjMoveStringLiteralDfa7_0 active0 active1 case return jjMoveStringLiteralDfa7_0 active0 active1 case return jjMoveStringLiteralDfa7_0 active0 active1 case if active0 return jjStartNfaWithStates_0 break case if active0 return jjStartNfaWithStates_0 break case return jjMoveStringLiteralDfa7_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa7_0 active0 active1 case return jjMoveStringLiteralDfa7_0 active0 active1 case if active0 return jjStartNfaWithStates_0 break default break return jjStartNfa_0 active0 active1 private final int jjMoveStringLiteralDfa7_0 long old0 long active0 long old1 long active1 if active0 old0 active1 old1 return jjStartNfa_0 old0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active0 active1 return switch curChar case return jjMoveStringLiteralDfa8_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa8_0 active0 active1 case return jjMoveStringLiteralDfa8_0 active0 active1 case return jjMoveStringLiteralDfa8_0 active0 active1 case return jjMoveStringLiteralDfa8_0 active0 active1 case return jjMoveStringLiteralDfa8_0 active0 active1 default break return jjStartNfa_0 active0 active1 private final int jjMoveStringLiteralDfa8_0 long old0 long active0 long old1 long active1 if active0 old0 active1 old1 return jjStartNfa_0 old0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active0 active1 return switch curChar case return jjMoveStringLiteralDfa9_0 active0 active1 case if active0 return jjStartNfaWithStates_0 break case if active0 return jjStartNfaWithStates_0 break case return jjMoveStringLiteralDfa9_0 active0 active1 case return jjMoveStringLiteralDfa9_0 active0 active1 case return jjMoveStringLiteralDfa9_0 active0 active1 case return jjMoveStringLiteralDfa9_0 active0 active1 case return jjMoveStringLiteralDfa9_0 active0 active1 default break return jjStartNfa_0 active0 active1 private final int jjMoveStringLiteralDfa9_0 long old0 long active0 long old1 long active1 if active0 old0 active1 old1 return jjStartNfa_0 old0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active0 active1 return switch curChar case return jjMoveStringLiteralDfa10_0 active0 active1 case if active0 return jjStartNfaWithStates_0 return jjMoveStringLiteralDfa10_0 active0 active1 case return jjMoveStringLiteralDfa10_0 active0 active1 case return jjMoveStringLiteralDfa10_0 active0 active1 case if active1 return jjStopAtPos break case return jjMoveStringLiteralDfa10_0 active0 active1 case return jjMoveStringLiteralDfa10_0 active0 active1 default break return jjStartNfa_0 active0 active1 private final int jjMoveStringLiteralDfa10_0 long old0 long active0 long old1 long active1 if active0 old0 active1 old1 return jjStartNfa_0 old0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa11_0 active1 case return jjMoveStringLiteralDfa11_0 active1 case if active1 return jjStopAtPos return jjMoveStringLiteralDfa11_0 active1 case if active1 return jjStopAtPos break case if active1 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa11_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa11_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa12_0 active1 case if active1 return jjStopAtPos break case return jjMoveStringLiteralDfa12_0 active1 case if active1 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa12_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa12_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa13_0 active1 case return jjMoveStringLiteralDfa13_0 active1 case return jjMoveStringLiteralDfa13_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa13_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa14_0 active1 case return jjMoveStringLiteralDfa14_0 active1 case return jjMoveStringLiteralDfa14_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa14_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa15_0 active1 case return jjMoveStringLiteralDfa15_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa15_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa16_0 active1 case return jjMoveStringLiteralDfa16_0 active1 case return jjMoveStringLiteralDfa16_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa16_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa17_0 active1 case return jjMoveStringLiteralDfa17_0 active1 case return jjMoveStringLiteralDfa17_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa17_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa18_0 active1 case return jjMoveStringLiteralDfa18_0 active1 case if active1 return jjStopAtPos break default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa18_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa19_0 active1 case if active1 return jjStopAtPos break default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa19_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa20_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa20_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case if active1 jjmatchedKind jjmatchedPos return jjMoveStringLiteralDfa21_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa21_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa22_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa22_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa23_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa23_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa24_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa24_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa25_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa25_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa26_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa26_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case return jjMoveStringLiteralDfa27_0 active1 default break return jjStartNfa_0 active1 private final int jjMoveStringLiteralDfa27_0 long old1 long active1 if active1 old1 return jjStartNfa_0 old1 try curChar input_stream readChar catch java io IOException jjStopStringLiteralDfa_0 active1 return switch curChar case if active1 return jjStopAtPos break default break return jjStartNfa_0 active1 private final void jjCheckNAdd int state if jjrounds state jjround jjstateSet jjnewStateCnt state jjrounds state jjround private final void jjAddStates int start int end do jjstateSet jjnewStateCnt jjnextStates start while start end private final void jjCheckNAddTwoStates int state1 int state2 jjCheckNAdd state1 jjCheckNAdd state2 private final void jjCheckNAddStates int start int end do jjCheckNAdd jjnextStates start while start end private final void jjCheckNAddStates int start jjCheckNAdd jjnextStates start jjCheckNAdd jjnextStates start static final long jjbitVec0 static final long jjbitVec1 static final long jjbitVec3 static final long jjbitVec4 static final long jjbitVec5 static final long jjbitVec6 static final long jjbitVec7 static final long jjbitVec8 private final int jjMoveNfa_0 int startState int curPos int nextStates int startsAt jjnewStateCnt int jjstateSet startState int kind for if jjround ReInitRounds if curChar long curChar MatchLoop do switch jjstateSet case if if kind kind jjCheckNAdd else if jjCheckNAddStates else if curChar jjAddStates else if curChar if kind kind jjCheckNAdd else if curChar jjCheckNAddStates else if curChar jjAddStates else if curChar jjCheckNAdd else if curChar jjstateSet jjnewStateCnt if if kind kind jjCheckNAddTwoStates else if curChar if kind kind jjCheckNAddStates break case if curChar jjCheckNAddTwoStates else if curChar jjCheckNAddStates if curChar jjstateSet jjnewStateCnt break case if break if kind kind jjCheckNAdd break case if curChar jjCheckNAddStates break case if jjCheckNAddStates break case if kind kind break case if curChar kind kind break case if curChar jjstateSet jjnewStateCnt break case if break if kind kind jjCheckNAddTwoStates break case if break if kind kind jjCheckNAddTwoStates break case if curChar jjCheckNAdd break case if break if kind kind jjCheckNAddStates break case if jjCheckNAdd break case if break if kind kind jjCheckNAddTwoStates break case if curChar jjAddStates break case if jjCheckNAdd break case if curChar kind kind break case if jjCheckNAdd break case if jjCheckNAddTwoStates break case if jjCheckNAdd break case if jjstateSet jjnewStateCnt break case if jjCheckNAdd break case if curChar jjCheckNAddStates break case if jjCheckNAddStates break case if jjCheckNAddStates break case if curChar kind kind break case if jjCheckNAddStates break case if jjCheckNAddStates break case if jjstateSet jjnewStateCnt break case if jjCheckNAdd break case if curChar break if kind kind jjCheckNAdd break case if break if kind kind jjCheckNAdd break case if jjCheckNAddStates break case if jjCheckNAddTwoStates break case if curChar break if kind kind jjCheckNAddStates break case if break if kind kind jjCheckNAddStates break case if jjCheckNAdd break case if break if kind kind jjCheckNAddTwoStates break case if jjCheckNAddTwoStates break case if jjCheckNAdd break case if break if kind kind jjCheckNAddTwoStates break case if jjCheckNAddStates break case if jjCheckNAdd break case if jjCheckNAddTwoStates break case if curChar break if kind kind jjCheckNAddStates break case if break if kind kind jjCheckNAddTwoStates break case if break if kind kind jjCheckNAddTwoStates break case if curChar jjAddStates break case if jjCheckNAddStates break case if kind kind break case if curChar kind kind break case if curChar jjstateSet jjnewStateCnt break case if curChar jjCheckNAddTwoStates break case if jjCheckNAddTwoStates break case if curChar jjCheckNAddStates break case if jjCheckNAddTwoStates break case if jjCheckNAddTwoStates break case if curChar kind kind break case if curChar jjstateSet jjnewStateCnt break case if curChar jjCheckNAddTwoStates break case if jjCheckNAddTwoStates break case if curChar jjCheckNAddStates break case if jjCheckNAddTwoStates break case if jjCheckNAddTwoStates break case if curChar kind kind break default break while startsAt else if curChar long curChar MatchLoop do switch jjstateSet case case if break if kind kind jjCheckNAdd break case jjAddStates break case if kind kind break case if jjAddStates break case if kind kind break case if jjCheckNAdd break case if curChar jjAddStates break case if jjCheckNAdd break case if jjCheckNAddStates break case if curChar jjAddStates break case if jjCheckNAddStates break case if jjAddStates break case if jjAddStates break case if jjAddStates break case if jjCheckNAdd break case if break if kind kind jjCheckNAddTwoStates break case jjAddStates break case jjCheckNAddTwoStates break case case jjCheckNAddTwoStates break case jjCheckNAddTwoStates break case case jjCheckNAddTwoStates break default break while startsAt else int hiByte int curChar int i1 hiByte long l1 hiByte int i2 curChar long l2 curChar MatchLoop do switch jjstateSet case if jjCanMove_0 hiByte i1 i2 l1 l2 if kind kind jjCheckNAdd if jjCanMove_2 hiByte i1 i2 l1 l2 if kind kind jjCheckNAdd break case if jjCanMove_0 hiByte i1 i2 l1 l2 break if kind kind jjCheckNAdd break case if jjCanMove_1 hiByte i1 i2 l1 l2 jjAddStates break case if jjCanMove_1 hiByte i1 i2 l1 l2 jjstateSet jjnewStateCnt break case if jjCanMove_1 hiByte i1 i2 l1 l2 jjAddStates break case case if jjCanMove_2 hiByte i1 i2 l1 l2 break if kind kind jjCheckNAdd break case if jjCanMove_1 hiByte i1 i2 l1 l2 jjAddStates break case if jjCanMove_1 hiByte i1 i2 l1 l2 jjCheckNAddTwoStates break case case if jjCanMove_1 hiByte i1 i2 l1 l2 jjCheckNAddTwoStates break case if jjCanMove_1 hiByte i1 i2 l1 l2 jjCheckNAddTwoStates break case case if jjCanMove_1 hiByte i1 i2 l1 l2 jjCheckNAddTwoStates break default break while startsAt if kind jjmatchedKind kind jjmatchedPos curPos kind curPos if jjnewStateCnt startsAt jjnewStateCnt startsAt return curPos try curChar input_stream readChar catch java io IOException return curPos static final int jjnextStates private static final boolean jjCanMove_0 int hiByte int i1 int i2 long l1 long l2 switch hiByte case return jjbitVec0 i2 l2 default return false private static final boolean jjCanMove_1 int hiByte int i1 int i2 long l1 long l2 switch hiByte case return jjbitVec0 i2 l2 default if jjbitVec1 i1 l1 return true return false private static final boolean jjCanMove_2 int hiByte int i1 int i2 long l1 long l2 switch hiByte case return jjbitVec4 i2 l2 case return jjbitVec5 i2 l2 case return jjbitVec6 i2 l2 case return jjbitVec7 i2 l2 case return jjbitVec8 i2 l2 default if jjbitVec3 i1 l1 return true return false public static final String jjstrLiteralImages null null null null null null null null null null null null null null null null null null null null null public static final String lexStateNames static final long jjtoToken static final long jjtoSkip static final long jjtoSpecial private ASCII_UCodeESC_CharStream input_stream private final int jjrounds new int private final int jjstateSet new int protected char curChar public ParserTokenManager ASCII_UCodeESC_CharStream stream if ASCII_UCodeESC_CharStream staticFlag throw new Error input_stream stream public ParserTokenManager ASCII_UCodeESC_CharStream stream int lexState this stream SwitchTo lexState public void ReInit ASCII_UCodeESC_CharStream stream jjmatchedPos jjnewStateCnt curLexState defaultLexState input_stream stream ReInitRounds private final void ReInitRounds int jjround for jjrounds public void ReInit ASCII_UCodeESC_CharStream stream int lexState ReInit stream SwitchTo lexState public void SwitchTo int lexState if lexState lexState throw new TokenMgrError lexState TokenMgrError INVALID_LEXICAL_STATE else curLexState lexState private final Token jjFillToken Token Token newToken jjmatchedKind kind jjmatchedKind String im jjstrLiteralImages jjmatchedKind image im null input_stream GetImage im beginLine input_stream getBeginLine beginColumn input_stream getBeginColumn endLine input_stream getEndLine endColumn input_stream getEndColumn return int curLexState int defaultLexState int jjnewStateCnt int jjround int jjmatchedPos int jjmatchedKind public final Token getNextToken int kind Token specialToken null Token matchedToken int curPos EOFLoop for try curChar input_stream BeginToken catch java io IOException jjmatchedKind matchedToken jjFillToken matchedToken specialToken specialToken return matchedToken jjmatchedKind jjmatchedPos curPos jjMoveStringLiteralDfa0_0 if jjmatchedKind if jjmatchedPos curPos input_stream backup curPos jjmatchedPos if jjtoToken jjmatchedKind jjmatchedKind matchedToken jjFillToken matchedToken specialToken specialToken return matchedToken else if jjtoSpecial jjmatchedKind jjmatchedKind matchedToken jjFillToken if specialToken null specialToken matchedToken else matchedToken specialToken specialToken specialToken specialToken next matchedToken continue EOFLoop int error_line input_stream getEndLine int error_column input_stream getEndColumn String error_after null boolean EOFSeen false try input_stream readChar input_stream backup catch java io IOException e1 EOFSeen true error_after curPos input_stream GetImage if curChar curChar error_line error_column else error_column if EOFSeen input_stream backup error_after curPos input_stream GetImage throw new TokenMgrError EOFSeen curLexState error_line error_column error_after curChar TokenMgrError LEXICAL_ERROR', 'bug': '0'}
{'sequence': 'class CharIndexedStringBuffer implements CharIndexed Serializable private StringBuffer private int anchor CharIndexedStringBuffer StringBuffer str int index str anchor index public char charAt int index int pos anchor index return pos length pos charAt pos OUT_OF_BOUNDS public boolean isValid return anchor length public boolean move int index return anchor index length', 'bug': '0'}
{'sequence': 'public class EditBus public static void addToBus EBComponent comp synchronized components components addElement comp copyComponents null public static void removeFromBus EBComponent comp synchronized components components removeElement comp copyComponents null public static EBComponent getComponents synchronized components if copyComponents null copyComponents new EBComponent components size components copyInto copyComponents return copyComponents public static void send EBMessage message Log log Log DEBUG EditBus class message toString EBComponent comps getComponents for int comps length try comps handleMessage message if message isVetoed break catch Throwable Log log Log ERROR EditBus class Log log Log ERROR EditBus class public static Object getNamedList Object tag Object list Object listArrays get tag if list null return list Vector listVector Vector listVectors get tag if listVector null list new Object listVector size listVector copyInto list listArrays put tag list return list return null public static Enumeration getNamedLists return listVectors keys public static void addToNamedList Object tag Object entry Vector listVector Vector listVectors get tag if listVector null listVector new Vector listVectors put tag listVector listVector addElement entry listArrays remove tag public static void removeFromNamedList Object tag Object entry Vector listVector Vector listVectors get tag if listVector null return listVector removeElement entry listArrays remove tag private static Vector components new Vector private static EBComponent copyComponents private static Hashtable listVectors new Hashtable private static Hashtable listArrays new Hashtable private EditBus', 'bug': '0'}
{'sequence': 'public class VariableGridLayout implements LayoutManager2 java io Serializable public static final int FIXED_NUM_ROWS public static final int FIXED_NUM_COLUMNS public VariableGridLayout int mode int size int hgap int vgap if mode FIXED_NUM_ROWS mode FIXED_NUM_COLUMNS throw new IllegalArgumentException mode if size throw new IllegalArgumentException size if hgap throw new IllegalArgumentException hgap if vgap throw new IllegalArgumentException vgap this mode mode this size size this hgap hgap this vgap vgap public VariableGridLayout int mode int size this mode size public VariableGridLayout this FIXED_NUM_ROWS public void addLayoutComponent String name Component component public void addLayoutComponent Component component Object constraints public void removeLayoutComponent Component component public float getLayoutAlignmentX Container container return public float getLayoutAlignmentY Container container return public Dimension preferredLayoutSize Container parent return getLayoutSize parent public Dimension minimumLayoutSize Container parent return getLayoutSize parent public Dimension maximumLayoutSize Container parent return getLayoutSize parent public void layoutContainer Container parent synchronized parent getTreeLock int ncomponents parent getComponentCount if ncomponents return int total_height for int nrows for int ncols if ncomponents Dimension parent getComponent getPreferredSize row_heights Math max row_heights height col_widths Math max col_widths width else break total_height row_heights int total_width for int ncols total_width col_widths Dimension parent_size parent getSize Insets insets parent getInsets int free_height parent_size height insets top insets bottom nrows vgap int free_width parent_size width insets left insets right ncols hgap if total_height free_height double dy double free_height double total_height for int nrows row_heights int double row_heights dy if total_width free_width double dx double free_width double total_width for int ncols col_widths int double col_widths dx for int insets top nrows row_heights vgap for int insets left ncols col_widths hgap if ncomponents parent getComponent setBounds col_widths row_heights public void invalidateLayout Container container int ncomponents container getComponentCount int old_nrows nrows int old_ncols ncols if this mode FIXED_NUM_ROWS nrows this size ncols ncomponents nrows nrows else ncols this size nrows ncomponents ncols ncols if old_nrows nrows row_heights new int nrows if old_ncols ncols col_widths new int ncols public int getRows return nrows public int getColumns return ncols public String toString return getClass getName mode size hgap vgap private Dimension getLayoutSize Container parent int which synchronized parent getTreeLock int ncomponents parent getComponentCount int int for int nrows int row_height for int ncols if ncomponents switch which case row_height Math max row_height parent getComponent getMinimumSize height break case row_height Math max row_height parent getComponent getMaximumSize height break default row_height Math max row_height parent getComponent getPreferredSize height break else break row_height for int ncols int col_width for int nrows int ncols if ncomponents switch which case col_width Math max col_width parent getComponent getMinimumSize width break case col_width Math max col_width parent getComponent getMaximumSize width break default col_width Math max col_width parent getComponent getPreferredSize width break else break col_width Insets insets parent getInsets return new Dimension insets left insets right ncols hgap insets top insets bottom nrows vgap private int mode private int size private int hgap private int vgap private transient int nrows private transient int ncols private transient int row_heights null private transient int col_widths null', 'bug': '0'}
{'sequence': 'public class GutterOptionPane extends AbstractOptionPane public GutterOptionPane super public void lineNumbersEnabled new JCheckBox jEdit getProperty lineNumbersEnabled setSelected jEdit getBooleanProperty addComponent lineNumbersEnabled String jEdit getProperty int try Integer parseInt jEdit getProperty catch NumberFormatException nf Font PLAIN int try Integer parseInt jEdit getProperty catch NumberFormatException nf gutterFont new FontSelector new Font addComponent jEdit getProperty gutterFont gutterBorderWidth new JTextField jEdit getProperty addComponent jEdit getProperty gutterBorderWidth gutterHighlightInterval new JTextField jEdit getProperty addComponent jEdit getProperty gutterHighlightInterval String alignments new String gutterNumberAlignment new JComboBox alignments String alignment jEdit getProperty if equals alignment gutterNumberAlignment setSelectedIndex else if equals alignment gutterNumberAlignment setSelectedIndex else gutterNumberAlignment setSelectedIndex addComponent jEdit getProperty gutterNumberAlignment gutterCurrentLineHighlightEnabled new JCheckBox jEdit getProperty gutterCurrentLineHighlightEnabled setSelected jEdit getBooleanProperty addComponent gutterCurrentLineHighlightEnabled gutterMarkerHighlightEnabled new JCheckBox jEdit getProperty gutterMarkerHighlightEnabled setSelected jEdit getBooleanProperty addComponent gutterMarkerHighlightEnabled public void Font gutterFont getFont jEdit setProperty getFamily jEdit setProperty String valueOf getSize jEdit setProperty String valueOf getStyle jEdit setProperty gutterBorderWidth getText jEdit setProperty gutterHighlightInterval getText String alignment null switch gutterNumberAlignment getSelectedIndex case alignment break case alignment break case default alignment jEdit setProperty alignment jEdit setBooleanProperty lineNumbersEnabled isSelected jEdit setBooleanProperty gutterCurrentLineHighlightEnabled isSelected jEdit setBooleanProperty gutterMarkerHighlightEnabled isSelected private FontSelector gutterFont private JTextField gutterBorderWidth private JTextField gutterHighlightInterval private JComboBox gutterNumberAlignment private JCheckBox lineNumbersEnabled private JCheckBox gutterCurrentLineHighlightEnabled private JCheckBox gutterMarkerHighlightEnabled', 'bug': '0'}
{'sequence': 'public class StyleOptionPane extends AbstractOptionPane public static final EmptyBorder noFocusBorder new EmptyBorder public StyleOptionPane super protected void setLayout new BorderLayout add BorderLayout CENTER createStyleTableScroller protected void styleModel save private StyleTableModel styleModel private JTable styleTable private JScrollPane createStyleTableScroller styleModel createStyleTableModel styleTable new JTable styleModel styleTable setRowSelectionAllowed false styleTable setColumnSelectionAllowed false styleTable setCellSelectionEnabled false styleTable getTableHeader setReorderingAllowed false styleTable addMouseListener new MouseHandler TableColumnModel tcm styleTable getColumnModel TableColumn styleColumn tcm getColumn styleColumn setCellRenderer new StyleTableModel StyleRenderer Dimension styleTable getPreferredSize height Math min height JScrollPane scroller new JScrollPane styleTable scroller setPreferredSize return scroller private StyleTableModel createStyleTableModel return new StyleTableModel class MouseHandler extends MouseAdapter public void mouseClicked MouseEvent evt int row styleTable rowAtPoint evt getPoint if row return SyntaxStyle style new StyleEditor StyleOptionPane this SyntaxStyle styleModel getValueAt row getStyle if style null styleModel setValueAt style row class StyleTableModel extends AbstractTableModel private Vector styleChoices StyleTableModel styleChoices new Vector addStyleChoice addStyleChoice addStyleChoice addStyleChoice addStyleChoice addStyleChoice addStyleChoice addStyleChoice addStyleChoice addStyleChoice addStyleChoice addStyleChoice addStyleChoice public int getColumnCount return public int getRowCount return styleChoices size public Object getValueAt int row int col StyleChoice ch StyleChoice styleChoices elementAt row switch col case return ch label case return ch style default return null public void setValueAt Object value int row int col StyleChoice ch StyleChoice styleChoices elementAt row if col ch style SyntaxStyle value fireTableRowsUpdated row row public String getColumnName int index switch index case return jEdit getProperty case return jEdit getProperty default return null public void save for int styleChoices size StyleChoice ch StyleChoice styleChoices elementAt jEdit setProperty ch property GUIUtilities getStyleString ch style private void addStyleChoice String label String property styleChoices addElement new StyleChoice jEdit getProperty label property GUIUtilities parseStyle jEdit getProperty property static class StyleChoice String label String property SyntaxStyle style StyleChoice String label String property SyntaxStyle style this label label this property property this style style static class StyleRenderer extends JLabel implements TableCellRenderer public StyleRenderer setOpaque true setBorder StyleOptionPane noFocusBorder setText public Component getTableCellRendererComponent JTable table Object value boolean isSelected boolean cellHasFocus int row int col if value null SyntaxStyle style SyntaxStyle value setForeground style getForegroundColor if style getBackgroundColor null setBackground style getBackgroundColor else setBackground GUIUtilities parseColor jEdit getProperty setFont style getFont setBorder cellHasFocus UIManager getBorder StyleOptionPane noFocusBorder return this class StyleEditor extends EnhancedDialog implements ActionListener StyleEditor Component comp SyntaxStyle style super JOptionPane getFrameForComponent comp jEdit getProperty true JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JPanel panel new JPanel panel setLayout new BoxLayout panel BoxLayout X_AXIS panel setBorder new EmptyBorder panel add italics new JCheckBox jEdit getProperty italics setSelected style getFont isItalic panel add Box createHorizontalStrut panel add bold new JCheckBox jEdit getProperty bold setSelected style getFont isBold panel add Box createHorizontalStrut panel add new JLabel jEdit getProperty panel add Box createHorizontalStrut panel add fgColor new JButton fgColor setBackground style getForegroundColor fgColor setRequestFocusEnabled false fgColor addActionListener this fgColor setMargin new Insets panel add Box createHorizontalStrut panel add new JLabel jEdit getProperty panel add Box createHorizontalStrut panel add bgColor new JButton if style getBackgroundColor null bgColor setBackground GUIUtilities parseColor jEdit getProperty else bgColor setBackground style getBackgroundColor bgColor setRequestFocusEnabled false bgColor addActionListener this bgColor setMargin new Insets content add BorderLayout CENTER panel Box box new Box BoxLayout X_AXIS box add Box createGlue box add ok new JButton jEdit getProperty getRootPane setDefaultButton ok ok addActionListener this box add Box createHorizontalStrut box add cancel new JButton jEdit getProperty cancel addActionListener this box add Box createGlue content add BorderLayout SOUTH box Dimension screen getToolkit getScreenSize pack setLocationRelativeTo JOptionPane getFrameForComponent comp show public void actionPerformed ActionEvent evt Object source evt getSource if source ok ok else if source cancel cancel else if source fgColor source bgColor JButton JButton source Color JColorChooser showDialog this jEdit getProperty getBackground if null setBackground public void ok okClicked true dispose public void cancel dispose public SyntaxStyle getStyle if okClicked return null Color background bgColor getBackground if background equals GUIUtilities parseColor jEdit getProperty background null return new SyntaxStyle fgColor getBackground background new Font italics isSelected Font ITALIC bold isSelected Font BOLD private JCheckBox italics private JCheckBox bold private JButton fgColor private JButton bgColor private JButton ok private JButton cancel private boolean okClicked', 'bug': '1'}
{'sequence': 'class BSHArrayInitializer extends SimpleNode BSHArrayInitializer int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError throw new EvalError public Object eval Class baseType int dimensions CallStack callstack Interpreter interpreter throws EvalError int numInitializers jjtGetNumChildren dima numInitializers Object initializers Array newInstance baseType dima for int numInitializers SimpleNode node SimpleNode jjtGetChild Object currentInitializer if node instanceof BSHArrayInitializer if dimensions throw new EvalError this currentInitializer BSHArrayInitializer node eval baseType dimensions callstack interpreter else currentInitializer node eval callstack interpreter if currentInitializer Primitive VOID throw new EvalError this Object value if currentInitializer instanceof Primitive value Primitive currentInitializer getValue else value currentInitializer try Array set initializers value catch IllegalArgumentException Interpreter debug throwTypeError baseType currentInitializer Interpreter debug throwTypeError baseType currentInitializer return initializers private void throwTypeError Class baseType Object initializer int argNum throws EvalError String lhsType Reflect normalizeClassName baseType String rhsType if initializer instanceof Primitive rhsType Primitive initializer getType getName else rhsType Reflect normalizeClassName initializer getClass throw new EvalError rhsType baseType argNum this', 'bug': '0'}
{'sequence': 'class PluginListHandler extends HandlerBase PluginListHandler PluginList pluginList String path this pluginList pluginList this path path stateStack new Stack public Object resolveEntity String publicId String systemId if equals systemId try return new BufferedReader new InputStreamReader getClass getResourceAsStream catch Exception Log log Log ERROR this Log log Log ERROR this return null public void attribute String aname String value boolean isSpecified aname aname null null aname intern value value null null value intern if aname name value else if aname jar value else if aname version value else if aname date value else if aname obsolete equals value else if aname depWhat value else if aname depFrom value else if aname depTo value else if aname depPlugin value public void doctypeDecl String name String publicId String systemId throws Exception if equals name return Log log Log ERROR this path public void charData char int off int len String tag peekElement String text new String off len if tag description text else if tag pluginSetEntry text else if tag if author null author length author author text else author text else if tag download text else if tag downloadSource text public void startElement String tag tag pushElement tag if tag description null pluginSet new PluginList PluginSet else if tag description null author null branch null plugin new PluginList Plugin else if tag download null branch new PluginList Branch public void endElement String tag if tag null return else tag tag intern popElement if tag pluginList addPluginSet pluginSet pluginSet null pluginSetEntry null else if tag pluginSet plugins addElement pluginSetEntry pluginSetEntry null else if tag plugin jar jar plugin name name plugin author author plugin description description pluginList addPlugin plugin jar null name null author null else if tag branch version version branch date date branch download download branch downloadSource downloadSource branch obsolete obsolete plugin branches addElement branch version null download null obsolete false else if tag PluginList Dependency dep new PluginList Dependency depWhat depFrom depTo depPlugin branch deps addElement dep depWhat null depFrom null depTo null depPlugin null public void startDocument try pushElement null catch Exception printStackTrace public void endDocument pluginList finished private String path private PluginList pluginList private PluginList PluginSet pluginSet private String pluginSetEntry private PluginList Plugin plugin private String jar private String author private PluginList Branch branch private boolean obsolete private String version private String date private String download private String downloadSource private String depWhat private String depFrom private String depTo private String depPlugin private String name private String description private Stack stateStack private String pushElement String name name name null null name intern stateStack push name return name private String peekElement return String stateStack peek private String popElement return String stateStack pop', 'bug': '1'}
{'sequence': 'final class ASCII_UCodeESC_CharStream public static final boolean staticFlag false static final int hexval char throws java io IOException switch case return case return case return case return case return case return case return case return case return case return case case return case case return case case return case case return case case return case case return public int bufpos int bufsize int available int tokenBegin private int bufline private int bufcolumn private int column private int line private java io Reader inputStream private boolean prevCharIsCR false private boolean prevCharIsLF false private char nextCharBuf private char buffer private int maxNextCharInd private int nextCharInd private int inBuf private final void ExpandBuff boolean wrapAround char newbuffer new char bufsize int newbufline new int bufsize int newbufcolumn new int bufsize try if wrapAround System arraycopy buffer tokenBegin newbuffer bufsize tokenBegin System arraycopy buffer newbuffer bufsize tokenBegin bufpos buffer newbuffer System arraycopy bufline tokenBegin newbufline bufsize tokenBegin System arraycopy bufline newbufline bufsize tokenBegin bufpos bufline newbufline System arraycopy bufcolumn tokenBegin newbufcolumn bufsize tokenBegin System arraycopy bufcolumn newbufcolumn bufsize tokenBegin bufpos bufcolumn newbufcolumn bufpos bufsize tokenBegin else System arraycopy buffer tokenBegin newbuffer bufsize tokenBegin buffer newbuffer System arraycopy bufline tokenBegin newbufline bufsize tokenBegin bufline newbufline System arraycopy bufcolumn tokenBegin newbufcolumn bufsize tokenBegin bufcolumn newbufcolumn bufpos tokenBegin catch Throwable throw new Error getMessage available bufsize tokenBegin private final void FillBuff throws java io IOException int if maxNextCharInd maxNextCharInd nextCharInd try if inputStream read nextCharBuf maxNextCharInd maxNextCharInd inputStream close throw new java io IOException else maxNextCharInd return catch java io IOException if bufpos bufpos backup else bufline bufpos line bufcolumn bufpos column throw private final char ReadByte throws java io IOException if nextCharInd maxNextCharInd FillBuff return nextCharBuf nextCharInd public final char BeginToken throws java io IOException if inBuf inBuf return buffer tokenBegin bufpos bufsize bufpos bufpos tokenBegin bufpos return readChar private final void AdjustBuffSize if available bufsize if tokenBegin bufpos available tokenBegin else ExpandBuff false else if available tokenBegin available bufsize else if tokenBegin available ExpandBuff true else available tokenBegin private final void UpdateLineColumn char column if prevCharIsLF prevCharIsLF false line column else if prevCharIsCR prevCharIsCR false if prevCharIsLF true else line column switch case prevCharIsCR true break case prevCharIsLF true break case column column column break default break bufline bufpos line bufcolumn bufpos column public final char readChar throws java io IOException if inBuf inBuf return buffer bufpos bufsize bufpos bufpos char if bufpos available AdjustBuffSize if buffer bufpos char char ReadByte UpdateLineColumn int backSlashCnt if bufpos available AdjustBuffSize try if buffer bufpos char char ReadByte UpdateLineColumn if backSlashCnt if bufpos bufpos bufsize break backup backSlashCnt return catch java io IOException if backSlashCnt backup backSlashCnt return UpdateLineColumn backSlashCnt try while char char ReadByte column buffer bufpos char hexval hexval char char ReadByte hexval char char ReadByte hexval char char ReadByte column catch java io IOException throw new Error line column if backSlashCnt return else backup backSlashCnt return else UpdateLineColumn return public final int getColumn return bufcolumn bufpos public final int getLine return bufline bufpos public final int getEndColumn return bufcolumn bufpos public final int getEndLine return bufline bufpos public final int getBeginColumn return bufcolumn tokenBegin public final int getBeginLine return bufline tokenBegin public final void backup int amount inBuf amount if bufpos amount bufpos bufsize public ASCII_UCodeESC_CharStream java io Reader dstream int startline int startcolumn int buffersize inputStream dstream line startline column startcolumn available bufsize buffersize buffer new char buffersize bufline new int buffersize bufcolumn new int buffersize nextCharBuf new char public ASCII_UCodeESC_CharStream java io Reader dstream int startline int startcolumn this dstream startline startcolumn public void ReInit java io Reader dstream int startline int startcolumn int buffersize inputStream dstream line startline column startcolumn if buffer null buffersize buffer length available bufsize buffersize buffer new char buffersize bufline new int buffersize bufcolumn new int buffersize nextCharBuf new char prevCharIsLF prevCharIsCR false tokenBegin inBuf maxNextCharInd nextCharInd bufpos public void ReInit java io Reader dstream int startline int startcolumn ReInit dstream startline startcolumn public ASCII_UCodeESC_CharStream java io InputStream dstream int startline int startcolumn int buffersize this new java io InputStreamReader dstream startline startcolumn public ASCII_UCodeESC_CharStream java io InputStream dstream int startline int startcolumn this dstream startline startcolumn public void ReInit java io InputStream dstream int startline int startcolumn int buffersize ReInit new java io InputStreamReader dstream startline startcolumn public void ReInit java io InputStream dstream int startline int startcolumn ReInit dstream startline startcolumn public final String GetImage if bufpos tokenBegin return new String buffer tokenBegin bufpos tokenBegin else return new String buffer tokenBegin bufsize tokenBegin new String buffer bufpos public final char GetSuffix int len char ret new char len if bufpos len System arraycopy buffer bufpos len ret len else System arraycopy buffer bufsize len bufpos ret len bufpos System arraycopy buffer ret len bufpos bufpos return ret public void Done nextCharBuf null buffer null bufline null bufcolumn null public void adjustBeginLineColumn int newLine int newCol int start tokenBegin int len if bufpos tokenBegin len bufpos tokenBegin inBuf else len bufsize tokenBegin bufpos inBuf int int nextColDiff columnDiff while len bufline start bufsize bufline start bufsize bufline newLine nextColDiff columnDiff bufcolumn bufcolumn bufcolumn newCol columnDiff columnDiff nextColDiff if len bufline newLine bufcolumn newCol columnDiff while len if bufline start bufsize bufline start bufsize bufline newLine else bufline newLine line bufline column bufcolumn', 'bug': '0'}
{'sequence': 'public class BeanShellAction extends EditAction public BeanShellAction String name boolean plugin String code String isSelected boolean noRepeat boolean noRecord super name plugin this code code this isSelected isSelected this noRepeat noRepeat this noRecord noRecord sanitizedName name replace replace public void invoke View view if cachedCode null String cachedCodeName sanitizedName cachedCode BeanShell cacheBlock cachedCodeName code true BeanShell runCachedBlock cachedCode view null public boolean isToggle return isSelected null public boolean isSelected View view if isSelected null return false if cachedIsSelected null String cachedIsSelectedName sanitizedName cachedIsSelected BeanShell cacheBlock cachedIsSelectedName isSelected true return Boolean TRUE equals BeanShell runCachedBlock cachedIsSelected view null public boolean noRepeat return noRepeat public boolean noRecord return noRecord public String getCode return code trim private boolean noRepeat private boolean noRecord private String code private String isSelected private String cachedCode private String cachedIsSelected private String sanitizedName', 'bug': '1'}
{'sequence': 'public class BufferSwitcher extends JComboBox public BufferSwitcher EditPane editPane this editPane editPane setRenderer new BufferCellRenderer setMaximumRowCount addActionListener new ActionHandler public void updateBufferList if jEdit getBufferCount return updating true setModel new DefaultComboBoxModel jEdit getBuffers setSelectedItem editPane getBuffer updating false private EditPane editPane private boolean updating class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt if updating Buffer buffer Buffer getSelectedItem if buffer null editPane setBuffer buffer class BufferCellRenderer extends DefaultListCellRenderer public Component getListCellRendererComponent JList list Object value int index boolean isSelected boolean cellHasFocus super getListCellRendererComponent list value index isSelected cellHasFocus Buffer buffer Buffer value if buffer null setIcon null else setIcon buffer getIcon return this', 'bug': '0'}
{'sequence': 'final class RETokenEnd extends REToken private String newline RETokenEnd int subIndex String newline super subIndex this newline newline boolean match CharIndexed input REMatch mymatch char ch input charAt mymatch index if ch CharIndexed OUT_OF_BOUNDS return mymatch eflags RE REG_NOTEOL false next input mymatch if newline null char do newline charAt if ch return false ch input charAt mymatch index while newline length return next input mymatch return false void dump StringBuffer os os append', 'bug': '0'}
{'sequence': 'public class View extends JFrame implements EBComponent public DockableWindowManager getDockableWindowManager return dockableWindowManager public void quickIncrementalSearch if searchBar null getToolkit beep return String text getTextArea getSelectedText if text null text indexOf text null searchBar setHyperSearch false searchBar getField setText text searchBar getField selectAll searchBar getField requestFocus public void quickHyperSearch if searchBar null getToolkit beep return String text getTextArea getSelectedText if text null text indexOf text null searchBar setHyperSearch true searchBar getField setText text searchBar getField selectAll searchBar getField requestFocus public final SearchBar getSearchBar return searchBar public KeyListener getKeyEventInterceptor return keyEventInterceptor public void setKeyEventInterceptor KeyListener listener this keyEventInterceptor listener public InputHandler getInputHandler return inputHandler public void setInputHandler InputHandler inputHandler this inputHandler inputHandler public Macros Recorder getMacroRecorder return recorder public void setMacroRecorder Macros Recorder recorder this recorder recorder public StatusBar getStatus return status public void splitHorizontally split JSplitPane VERTICAL_SPLIT public void splitVertically split JSplitPane HORIZONTAL_SPLIT public void split int orientation editPane saveCaretInfo EditPane oldEditPane editPane setEditPane createEditPane oldEditPane getBuffer editPane loadCaretInfo JComponent oldParent JComponent oldEditPane getParent if oldParent instanceof JSplitPane JSplitPane oldSplitPane JSplitPane oldParent int dividerPos oldSplitPane getDividerLocation Component left oldSplitPane getLeftComponent final JSplitPane newSplitPane new JSplitPane orientation oldEditPane editPane newSplitPane setBorder null if left oldEditPane oldSplitPane setLeftComponent newSplitPane else oldSplitPane setRightComponent newSplitPane oldSplitPane setDividerLocation dividerPos SwingUtilities invokeLater new Runnable public void run newSplitPane setDividerLocation editPane focusOnTextArea else JSplitPane newSplitPane splitPane new JSplitPane orientation oldEditPane editPane newSplitPane setBorder null oldParent add splitPane oldParent revalidate Dimension size if oldParent instanceof JSplitPane size oldParent getSize else size oldEditPane getSize newSplitPane setDividerLocation orientation JSplitPane VERTICAL_SPLIT size height size width SwingUtilities invokeLater new Runnable public void run editPane focusOnTextArea public void unsplit if splitPane null EditPane editPanes getEditPanes for int editPanes length EditPane editPanes if editPane close JComponent parent JComponent splitPane getParent parent remove splitPane parent add editPane parent revalidate splitPane null updateTitle SwingUtilities invokeLater new Runnable public void run editPane focusOnTextArea public void nextTextArea EditPane editPanes getEditPanes for int editPanes length if editPane editPanes if editPanes length editPanes focusOnTextArea else editPanes focusOnTextArea break public void prevTextArea EditPane editPanes getEditPanes for int editPanes length if editPane editPanes if editPanes editPanes length focusOnTextArea else editPanes focusOnTextArea break public JSplitPane getSplitPane return splitPane public Buffer getBuffer return editPane getBuffer public void setBuffer Buffer buffer editPane setBuffer buffer public JEditTextArea getTextArea return editPane getTextArea public EditPane getEditPane return editPane public EditPane getEditPanes if splitPane null EditPane ep editPane return ep else Vector vec new Vector getEditPanes vec splitPane EditPane ep new EditPane vec size vec copyInto ep return ep public String getSplitConfig StringBuffer splitConfig new StringBuffer splitConfig append getBuffer getPath return splitConfig toString public void updateGutterBorders EditPane editPanes getEditPanes for int editPanes length editPanes getTextArea getGutter updateBorder public void addToolBar Component toolBar toolBars add toolBar getRootPane revalidate public void removeToolBar Component toolBar toolBars remove toolBar getRootPane revalidate public boolean isClosed return closed public synchronized void showWaitCursor if waitCount Cursor cursor Cursor getPredefinedCursor Cursor WAIT_CURSOR setCursor cursor EditPane editPanes getEditPanes for int editPanes length EditPane editPane editPanes editPane getTextArea getPainter setCursor cursor public synchronized void hideWaitCursor if waitCount waitCount if waitCount Cursor cursor Cursor getPredefinedCursor Cursor DEFAULT_CURSOR setCursor cursor cursor Cursor getPredefinedCursor Cursor TEXT_CURSOR EditPane editPanes getEditPanes for int editPanes length EditPane editPane editPanes editPane getTextArea getPainter setCursor cursor public boolean isSynchroScrollEnabled return synchroScroll public void toggleSynchroScrollEnabled setSynchroScrollEnabled synchroScroll public void setSynchroScrollEnabled boolean synchroScroll this synchroScroll synchroScroll JEditTextArea textArea getTextArea int firstLine textArea getFirstLine int horizontalOffset textArea getHorizontalOffset synchroScrollVertical textArea firstLine synchroScrollHorizontal textArea horizontalOffset public void synchroScrollVertical JEditTextArea textArea int firstLine if synchroScroll return EditPane editPanes getEditPanes for int editPanes length if editPanes getTextArea textArea editPanes getTextArea firstLine public void synchroScrollHorizontal JEditTextArea textArea int horizontalOffset if synchroScroll return EditPane editPanes getEditPanes for int editPanes length if editPanes getTextArea textArea editPanes getTextArea horizontalOffset public View getNext return next public View getPrev return prev public void handleMessage EBMessage msg if msg instanceof PropertiesChanged propertiesChanged else if msg instanceof SearchSettingsChanged if searchBar null searchBar update else if msg instanceof BufferUpdate handleBufferUpdate BufferUpdate msg else if msg instanceof EditPaneUpdate handleEditPaneUpdate EditPaneUpdate msg public void processKeyEvent KeyEvent evt if isClosed return if getFocusOwner instanceof JTextComponent if evt getID KeyEvent KEY_PRESSED switch evt getKeyCode case KeyEvent VK_BACK_SPACE case KeyEvent VK_TAB case KeyEvent VK_ENTER return Keymap keymap JTextComponent getFocusOwner getKeymap if keymap getAction KeyStroke getKeyStrokeForEvent evt null return if evt isConsumed return evt KeyEventWorkaround processKeyEvent evt if evt null return switch evt getID case KeyEvent KEY_TYPED if keyEventInterceptor null keyEventInterceptor keyTyped evt else if inputHandler isPrefixActive inputHandler keyTyped evt break case KeyEvent KEY_PRESSED if keyEventInterceptor null keyEventInterceptor keyPressed evt else inputHandler keyPressed evt break case KeyEvent KEY_RELEASED if keyEventInterceptor null keyEventInterceptor keyReleased evt else inputHandler keyReleased evt break if evt isConsumed super processKeyEvent evt View prev View next View Buffer buffer String splitConfig setIconImage GUIUtilities getEditorIcon dockableWindowManager new DockableWindowManager this Component comp restoreSplitConfig buffer splitConfig dockableWindowManager add comp EditBus addToBus this setJMenuBar GUIUtilities loadMenuBar toolBars new Box BoxLayout Y_AXIS inputHandler new DefaultInputHandler this DefaultInputHandler jEdit getInputHandler propertiesChanged getContentPane add BorderLayout NORTH toolBars getContentPane add BorderLayout CENTER dockableWindowManager getContentPane add BorderLayout SOUTH status new StatusBar this setDefaultCloseOperation DO_NOTHING_ON_CLOSE addWindowListener new WindowHandler dockableWindowManager init void close closed true dockableWindowManager close GUIUtilities saveGeometry this EditBus removeFromBus this dispose EditPane editPanes getEditPanes for int editPanes length editPanes close toolBars null toolBar null searchBar null splitPane null inputHandler null recorder null setContentPane new JPanel void updateTitle Vector buffers new Vector EditPane editPanes getEditPanes for int editPanes length Buffer buffer editPanes getBuffer if buffers indexOf buffer buffers addElement buffer StringBuffer title new StringBuffer jEdit getProperty for int buffers size if title append Buffer buffer Buffer buffers elementAt title append showFullPath buffer isNewFile buffer getPath buffer getName setTitle title toString private boolean closed private DockableWindowManager dockableWindowManager private Box toolBars private JToolBar toolBar private SearchBar searchBar private boolean synchroScroll private EditPane editPane private JSplitPane splitPane private StatusBar status private KeyListener keyEventInterceptor private InputHandler inputHandler private Macros Recorder recorder private int waitCount private boolean showFullPath private void getEditPanes Vector vec Component comp if comp instanceof EditPane vec addElement comp else if comp instanceof JSplitPane JSplitPane split JSplitPane comp getEditPanes vec split getLeftComponent getEditPanes vec split getRightComponent private void getSplitConfig JSplitPane splitPane StringBuffer splitConfig Component left splitPane getLeftComponent if left instanceof JSplitPane getSplitConfig JSplitPane left splitConfig else splitConfig append splitConfig append EditPane left getBuffer getPath Component right splitPane getRightComponent if right instanceof JSplitPane getSplitConfig JSplitPane right splitConfig else splitConfig append splitConfig append EditPane right getBuffer getPath splitConfig append splitPane getOrientation JSplitPane VERTICAL_SPLIT private Component restoreSplitConfig Buffer buffer String splitConfig if buffer null return editPane createEditPane buffer else if splitConfig null return editPane createEditPane jEdit getFirstBuffer Stack stack new Stack StringTokenizer st new StringTokenizer splitConfig while st hasMoreTokens String token st nextToken if token equals stack push splitPane new JSplitPane JSplitPane VERTICAL_SPLIT Component stack pop Component stack pop splitPane setBorder null splitPane setDividerLocation else if token equals stack push splitPane new JSplitPane JSplitPane HORIZONTAL_SPLIT Component stack pop Component stack pop splitPane setBorder null splitPane setDividerLocation else buffer jEdit getBuffer token if buffer null buffer jEdit getFirstBuffer stack push editPane createEditPane buffer return Component stack peek private void propertiesChanged loadToolBars showFullPath jEdit getBooleanProperty updateTitle dockableWindowManager propertiesChanged SwingUtilities updateComponentTreeUI getRootPane private void loadToolBars if jEdit getBooleanProperty if toolBar null toolBars remove toolBar toolBar GUIUtilities loadToolBar toolBar add Box createGlue toolBars add toolBar getRootPane revalidate else if toolBar null removeToolBar toolBar toolBar null if jEdit getBooleanProperty if searchBar null searchBar new SearchBar this addToolBar searchBar else if searchBar null removeToolBar searchBar searchBar null private EditPane createEditPane Buffer buffer EditPane editPane new EditPane this buffer JEditTextArea textArea editPane getTextArea textArea addFocusListener new FocusHandler textArea addCaretListener new CaretHandler textArea addScrollListener new ScrollHandler EditBus send new EditPaneUpdate editPane EditPaneUpdate CREATED return editPane private void setEditPane EditPane editPane this editPane editPane status repaintCaretStatus status updateBufferStatus status updateMiscStatus private void handleBufferUpdate BufferUpdate msg Buffer buffer msg getBuffer if msg getWhat BufferUpdate DIRTY_CHANGED if buffer isDirty EditPane editPanes getEditPanes for int editPanes length if editPanes getBuffer buffer updateTitle break private void handleEditPaneUpdate EditPaneUpdate msg if msg getEditPane getView this msg getWhat EditPaneUpdate BUFFER_CHANGED status repaintCaretStatus status updateBufferStatus status updateMiscStatus status updateFoldStatus class CaretHandler implements CaretListener public void caretUpdate CaretEvent evt status repaintCaretStatus status updateMiscStatus class FocusHandler extends FocusAdapter public void focusGained FocusEvent evt Component comp Component evt getSource while comp instanceof EditPane if comp null return comp comp getParent setEditPane EditPane comp class ScrollHandler implements ScrollListener public void scrolledVertically JEditTextArea textArea if getTextArea textArea status repaintCaretStatus public void scrolledHorizontally JEditTextArea textArea class WindowHandler extends WindowAdapter boolean gotFocus public void windowActivated WindowEvent evt if gotFocus editPane focusOnTextArea gotFocus true final Vector buffers new Vector EditPane editPanes getEditPanes for int editPanes length Buffer buffer EditPane editPanes getBuffer if buffers contains buffer continue else buffers addElement buffer SwingUtilities invokeLater new Runnable public void run for int buffers size Buffer buffers elementAt checkModTime View this public void windowClosing WindowEvent evt jEdit closeView View this', 'bug': '1'}
{'sequence': 'public abstract class VFS public static final int READ_CAP public static final int WRITE_CAP public static final int BROWSE_CAP public static final int DELETE_CAP public static final int RENAME_CAP public static final int MKDIR_CAP public VFS String name this name name public String getName return name public abstract int getCapabilities public String showBrowseDialog Object session Component comp return null public String getFileName String path return MiscUtilities getFileName path public String getParentOfPath String path return null public String constructPath String parent String path return parent path public char getFileSeparator return public Object createVFSSession String path Component comp return new Object public boolean load View view Buffer buffer String path if getCapabilities READ_CAP VFSManager error view new String name return false Object session createVFSSession path view if session null return false BufferIORequest request new BufferIORequest BufferIORequest LOAD view buffer session this path if buffer isTemporary request run else VFSManager runInWorkThread request return true public boolean save View view Buffer buffer String path if getCapabilities WRITE_CAP VFSManager error view new String name return false Object session createVFSSession path view if session null return false if path equals buffer getPath buffer getDocumentProperties remove Buffer BACKED_UP VFSManager runInWorkThread new BufferIORequest BufferIORequest SAVE view buffer session this path return true public boolean insert View view Buffer buffer String path if getCapabilities READ_CAP VFSManager error view new String name return false Object session createVFSSession path view if session null return false VFSManager runInWorkThread new BufferIORequest BufferIORequest INSERT view buffer session this path return true public DirectoryEntry Object session String directory Component comp throws IOException VFSManager error comp new String name return null public DirectoryEntry Object session String path Component comp throws IOException return null public static class DirectoryEntry implements Serializable public static final int FILE public static final int DIRECTORY public static final int FILESYSTEM public String name public String path public String deletePath public int type public long length public boolean hidden public DirectoryEntry String name String path String deletePath int type long length boolean hidden this name name this path path this deletePath deletePath this type type this length length this hidden hidden public String toString return name public boolean Object session String path Component comp throws IOException return false public boolean Object session String from String to Component comp throws IOException return false public boolean Object session String directory Component comp throws IOException return false public void Object session String path Component comp throws IOException public InputStream Object session String path boolean ignoreErrors Component comp throws IOException VFSManager error comp new String name return null public OutputStream Object session String path Component comp throws IOException VFSManager error comp new String name return null public void Object session Buffer buffer Component comp throws IOException public void Object session Component comp throws IOException private String name', 'bug': '1'}
{'sequence': 'class LHS implements ParserConstants java io Serializable NameSpace nameSpace static final int VARIABLE FIELD PROPERTY INDEX int type String varName String propName Field field Object object int index LHS NameSpace nameSpace String varName type VARIABLE this varName varName this nameSpace nameSpace LHS Field field type FIELD this object null this field field LHS Object object Field field if object null throw new NullPointerException type FIELD this object object this field field LHS Object object String propName if object null throw new NullPointerException type PROPERTY this object object this propName propName LHS Object array int index if array null throw new NullPointerException type INDEX this object array this index index public Object getValue throws EvalError if type VARIABLE return nameSpace getVariable varName else if type FIELD try return field get object catch IllegalAccessException e2 throw new EvalError field else if type PROPERTY try return Reflect getObjectProperty object propName catch ReflectError Interpreter debug getMessage throw new EvalError propName else if type INDEX try return Reflect getIndex object index catch Exception throw new EvalError throw new InterpreterError public Object assign Object val throws EvalError if type VARIABLE nameSpace setVariable varName val else if type FIELD try if val instanceof Primitive val Primitive val getValue field set object val return val catch NullPointerException throw new EvalError field getName catch IllegalAccessException e2 throw new EvalError field getName catch IllegalArgumentException e3 throw new EvalError val null val getClass getName field getName else if type PROPERTY if object instanceof Hashtable Hashtable object put propName val else try Reflect setObjectProperty object propName val catch ReflectError Interpreter debug getMessage throw new EvalError propName else if type INDEX try Reflect setIndex object index val throw e1 catch Exception throw new EvalError getMessage return val public String toString return', 'bug': '0'}
{'sequence': 'final class RETokenEndSub extends REToken RETokenEndSub int subIndex super subIndex boolean match CharIndexed input REMatch mymatch mymatch end subIndex mymatch index return next input mymatch void dump StringBuffer os', 'bug': '0'}
{'sequence': 'final class RETokenRange extends REToken private char lo hi private boolean insens RETokenRange int subIndex char lo char hi boolean ins super subIndex this lo insens ins Character toLowerCase lo lo this hi ins Character toLowerCase hi hi int getMinimumLength return boolean match CharIndexed input REMatch mymatch char input charAt mymatch index if CharIndexed OUT_OF_BOUNDS return false if insens Character toLowerCase if lo hi mymatch index return next input mymatch return false void dump StringBuffer os os append lo append append hi', 'bug': '0'}
{'sequence': 'public class RecentFilesMenu extends EnhancedMenu public RecentFilesMenu super public void setPopupMenuVisible boolean if final View view EditAction getView this if getMenuComponentCount removeAll ActionListener actionListener new ActionListener public void actionPerformed ActionEvent evt jEdit openFile view evt getActionCommand view getStatus setMessage null MouseListener mouseListener new MouseAdapter public void mouseEntered MouseEvent evt view getStatus setMessage JMenuItem evt getSource getActionCommand public void mouseExited MouseEvent evt view getStatus setMessage null Vector recentVector BufferHistory getBufferHistory if recentVector size add GUIUtilities loadMenuItem return int recentFileCount Math min recentVector size Integer parseInt jEdit getProperty for int recentVector size recentVector size recentFileCount String path BufferHistory Entry recentVector elementAt path VFS vfs VFSManager getVFSForPath path JMenuItem menuItem new JMenuItem vfs getFileName path menuItem setActionCommand path menuItem addActionListener actionListener menuItem addMouseListener mouseListener add menuItem super setPopupMenuVisible', 'bug': '1'}
{'sequence': 'public class dir static final String months public static String usage return public static void invoke Interpreter env NameSpace namespace String dir invoke env namespace dir public static void invoke Interpreter env NameSpace namespace String dir File file try file env pathToFile dir catch IOException env println return if file exists file canRead env println file return if file isDirectory env println dir String files file list files bubbleSort files for int files length File new File dir File separator files StringBuffer sb new StringBuffer sb append canRead sb append canWrite sb append sb append Date new Date lastModified GregorianCalendar new GregorianCalendar setTime int day get Calendar DAY_OF_MONTH sb append months get Calendar MONTH day if day sb append sb append int fieldlen StringBuffer len new StringBuffer for int fieldlen len append len insert length len setLength fieldlen int si len toString indexOf if si String pad len toString substring si len setLength si len insert pad sb append len sb append getName if isDirectory sb append env println sb toString public static String bubbleSort String in Vector new Vector for int in length addElement in int size boolean swap true while swap swap false for int if String elementAt compareTo String elementAt String tmp String elementAt removeElementAt insertElementAt tmp swap true String out new String copyInto out return out', 'bug': '0'}
{'sequence': 'public class REException extends Exception private int type private int pos public static final int REG_BADRPT public static final int REG_BADBR public static final int REG_EBRACE public static final int REG_EBRACK public static final int REG_ERANGE public static final int REG_ECTYPE public static final int REG_EPAREN public static final int REG_ESUBREG public static final int REG_EEND public static final int REG_ESCAPE public static final int REG_BADPAT public static final int REG_ESIZE public static final int REG_ESPACE REException String msg int type int position super msg this type type this pos position public int getType return type public int getPosition return pos public String getMessage Object args new Integer pos StringBuffer sb new StringBuffer String prefix RE getLocalizedMessage sb append MessageFormat format prefix args sb append sb append super getMessage return sb toString', 'bug': '0'}
{'sequence': 'class BSHLHSPrimaryExpression extends SimpleNode BSHLHSPrimaryExpression int id super id public LHS toLHS CallStack callstack Interpreter interpreter throws EvalError int childNum SimpleNode prefixNode SimpleNode jjtGetChild childNum Object prefixValue null LHS lhs null if prefixNode instanceof BSHAmbiguousName lhs BSHAmbiguousName prefixNode toLHS callstack interpreter else prefixValue SimpleNode prefixNode eval callstack interpreter if prefixValue null lhs BSHLHSPrimarySuffix jjtGetChild childNum doLHSSuffix prefixValue callstack interpreter int numChildren jjtGetNumChildren while childNum numChildren lhs BSHLHSPrimarySuffix jjtGetChild childNum doLHSSuffix lhs getValue callstack interpreter return lhs', 'bug': '0'}
{'sequence': 'public abstract class BshClassManager private static BshClassManager manager private static boolean checkedForManager private static Object NOVALUE new Object private static ClassLoader externalClassLoader protected transient static Hashtable absoluteClassCache new Hashtable protected transient static Hashtable absoluteNonClasses new Hashtable public static BshClassManager getClassManager if checkedForManager manager null try if plainClassForName null plainClassForName null Class bcm plainClassForName manager BshClassManager bcm newInstance catch ClassNotFoundException catch Exception System err println checkedForManager true return manager public static boolean classExists String name return classForName name null public static Class classForName String name if manager null return manager getClassForName name else try return plainClassForName name catch ClassNotFoundException return null public static Class plainClassForName String name throws ClassNotFoundException try Class if externalClassLoader null externalClassLoader loadClass name else Class forName name cacheClassInfo name return catch NoClassDefFoundError throw new ClassNotFoundException toString public static void cacheClassInfo String name Class value if value null absoluteClassCache put name value else absoluteNonClasses put name NOVALUE protected void clearCaches absoluteNonClasses new Hashtable absoluteClassCache new Hashtable public static void addCMListener Listener if manager null manager addListener public static void setClassLoader ClassLoader externalCL externalClassLoader externalCL public static interface Listener public void classLoaderChanged public abstract Class getClassForName String name public abstract ClassLoader getBaseLoader public abstract ClassLoader getLoaderForClass String name public abstract void addClassPath URL path throws IOException public abstract void reset public abstract void setClassPath URL cp public abstract void reloadAllClasses throws ClassPathException public abstract void reloadClasses String classNames throws ClassPathException public abstract void reloadPackage String pack throws ClassPathException public abstract void doSuperImport throws EvalError public abstract String getClassNameByUnqName String name throws ClassPathException public abstract void addListener Listener public abstract void removeListener Listener public abstract void dump PrintWriter pw protected abstract void classLoaderChanged', 'bug': '0'}
{'sequence': 'class Name implements java io Serializable public NameSpace namespace String value null private boolean literalThisReference private boolean literalCallerReference private void reset evalName value evalBaseObject null callstackDepth literalThisReference false literalCallerReference false public Name NameSpace namespace String this namespace namespace value public Object toObject CallStack callstack Interpreter interpreter throws EvalError return toObject callstack interpreter false synchronized public Object toObject CallStack callstack Interpreter interpreter boolean forceClass throws EvalError reset Object obj null while evalName null obj consumeNextObjectField callstack interpreter forceClass if obj null throw new InterpreterError return obj private Object consumeNextObjectField CallStack callstack Interpreter interpreter boolean forceClass throws EvalError if evalBaseObject null isCompound evalName forceClass Object obj resolveThisFieldReference callstack namespace interpreter evalName false if obj Primitive VOID if evalBaseObject null evalBaseObject instanceof This forceClass String varName prefix evalName Interpreter debug varName Object obj if evalBaseObject null obj resolveThisFieldReference callstack namespace interpreter varName false else obj resolveThisFieldReference callstack This evalBaseObject namespace interpreter varName true if obj Primitive VOID Interpreter debug varName namespace evalName suffix evalName return evalBaseObject obj if evalBaseObject null Interpreter debug evalName Class clas null int for countParts evalName if clas namespace getClass prefix evalName null break if clas null evalName suffix evalName countParts evalName return evalBaseObject new ClassIdentifier clas Interpreter debug evalName if evalBaseObject null if isCompound evalName else throw new EvalError evalName throw new TargetError value new NullPointerException throw new EvalError value if evalBaseObject instanceof Primitive throw new EvalError value if evalBaseObject instanceof ClassIdentifier Class clas ClassIdentifier evalBaseObject getTargetClass String field prefix evalName Object obj null try obj Reflect getStaticField clas field catch ReflectError if obj null String iclass clas getName field Class namespace getClass iclass if null obj new ClassIdentifier if obj null throw new EvalError field clas evalName suffix evalName return evalBaseObject obj if forceClass throw new EvalError value String field prefix evalName if field equals evalBaseObject getClass isArray Object obj new Primitive Array getLength evalBaseObject evalName suffix evalName return evalBaseObject obj try Object obj Reflect getObjectField evalBaseObject field evalName suffix evalName return evalBaseObject obj throw new EvalError field evalBaseObject Object resolveThisFieldReference CallStack callstack NameSpace thisNamespace Interpreter interpreter String varName boolean specialFieldsVisible throws EvalError Object obj null boolean wasThis false wasCaller false if varName equals if specialFieldsVisible throw new EvalError obj thisNamespace getThis interpreter wasThis true if obj null if varName equals obj thisNamespace getSuper getThis interpreter else if varName equals obj thisNamespace getGlobal getThis interpreter if obj null specialFieldsVisible if varName equals obj thisNamespace else if varName equals obj thisNamespace getVariableNames else if varName equals obj thisNamespace getMethodNames else if varName equals if literalThisReference obj interpreter else throw new EvalError if obj null specialFieldsVisible varName equals if literalThisReference literalCallerReference if callstack null throw new InterpreterError obj callstack get callstackDepth getThis interpreter else throw new EvalError wasCaller true if obj null specialFieldsVisible varName equals if literalThisReference if callstack null throw new InterpreterError obj callstack else throw new EvalError if obj null obj thisNamespace getVariable varName literalThisReference wasThis literalCallerReference wasCaller return obj synchronized public Class toClass throws EvalError reset Class clas namespace getClass evalName if clas null Object obj null try obj toObject null null true if obj instanceof ClassIdentifier clas ClassIdentifier obj getTargetClass if clas null throw new EvalError value return clas synchronized public LHS toLHS CallStack callstack Interpreter interpreter throws EvalError reset if isCompound evalName return new LHS namespace evalName Object obj null try while isCompound evalName obj consumeNextObjectField callstack interpreter false catch EvalError throw new EvalError if obj null throw new InterpreterError if obj instanceof This Interpreter debug return new LHS This obj namespace evalName if evalName null try if obj instanceof ClassIdentifier Class clas ClassIdentifier obj getTargetClass return Reflect getLHSStaticField clas evalName else return Reflect getLHSObjectField obj evalName catch ReflectError throw new EvalError throw new InterpreterError private BshMethod toLocalMethod Object args Class sig Reflect getTypes args return namespace getMethod value sig public Object invokeMethod Interpreter interpreter Object args CallStack callstack SimpleNode callerInfo throws EvalError ReflectError InvocationTargetException if Name isCompound value return invokeLocalMethod interpreter args callstack callerInfo Name targetName namespace getNameResolver Name prefix value String methodName Name suffix value Object obj targetName toObject callstack interpreter if obj Primitive VOID throw new EvalError methodName targetName if obj instanceof Name ClassIdentifier if obj instanceof Primitive if obj Primitive NULL throw new TargetError new NullPointerException interpreter error return Reflect invokeObjectMethod interpreter obj methodName args callerInfo Interpreter debug targetName Class clas Name ClassIdentifier obj getTargetClass if clas null return Reflect invokeStaticMethod clas methodName args throw new EvalError targetName public Object invokeLocalMethod Interpreter interpreter Object args CallStack callstack SimpleNode callerInfo throws EvalError ReflectError InvocationTargetException Interpreter debug value BshMethod meth toLocalMethod args if meth null return meth invokeDeclaredMethod args interpreter callstack callerInfo else Interpreter debug value String commandName value InputStream in Interpreter class getResourceAsStream commandName if in null Interpreter debug commandName if interpreter null throw new InterpreterError interpreter eval new InputStreamReader in namespace commandName meth toLocalMethod args if meth null return meth invokeDeclaredMethod args interpreter callstack callerInfo else throw new EvalError commandName commandName value Class BshClassManager classForName commandName if null throw new EvalError value Object invokeArgs new Object args length invokeArgs interpreter invokeArgs namespace System arraycopy args invokeArgs args length try return Reflect invokeStaticMethod invokeArgs catch ReflectError Interpreter debug try String String Reflect invokeStaticMethod null interpreter println return Primitive VOID catch ReflectError Interpreter debug throw new EvalError static boolean isCompound String value return countParts value static int countParts String value if value null return int count int index while index value indexOf index count return count static String prefix String value if isCompound value return null return prefix value countParts value static String prefix String value int parts if parts return null int count int index while index value indexOf index count parts return index value value substring index static String suffix String name if isCompound name return null return suffix name countParts name public static String suffix String value int parts if parts return null int count int index value length while index value lastIndexOf index count parts return index value value substring index public String toString return value static class ClassIdentifier Class clas public ClassIdentifier Class clas this clas clas public Class getTargetClass return clas public String toString return clas getName', 'bug': '0'}
{'sequence': 'public class OpenWithEncodingMenu extends EnhancedMenu public OpenWithEncodingMenu super ActionListener listener new ActionListener public void actionPerformed ActionEvent evt Hashtable props new Hashtable props put evt getActionCommand jEdit showOpenFileDialog EditAction getView Component evt getSource props String systemEncoding System getProperty JMenuItem mi new JMenuItem jEdit getProperty mi setActionCommand systemEncoding mi addActionListener listener add mi mi new JMenuItem jEdit getProperty mi setActionCommand jEdit getProperty systemEncoding mi addActionListener listener add mi addSeparator StringTokenizer st new StringTokenizer jEdit getProperty while st hasMoreTokens mi new JMenuItem st nextToken mi addActionListener listener add mi addSeparator add GUIUtilities loadMenuItem', 'bug': '1'}
{'sequence': 'public final class REMatch implements Serializable Cloneable private String matchedText public Object clone try REMatch copy REMatch super clone copy next null copy start int start clone copy end int end clone return copy catch CloneNotSupportedException void assignFrom REMatch other start other start end other end index other index next other next REMatch int subs int index int eflags start new int subs end new int subs anchor index this eflags eflags clear index void finish CharIndexed text start StringBuffer sb new StringBuffer int for end sb append text charAt matchedText sb toString for start length if start end start end void clear int index offset index this index for int start length start end public String toString return matchedText public int getStartIndex return offset start public int getEndIndex return offset end public String toString int sub if sub start length start sub return return matchedText substring start sub end sub public int getSubStartIndex int sub if sub start length return int start sub return offset public int getStartIndex int sub if sub start length return int start sub return offset public int getSubEndIndex int sub if sub start length return int end sub return offset public int getEndIndex int sub if sub start length return int end sub return offset public int getSubCount return start length public String substituteInto String input StringBuffer output new StringBuffer int pos for pos pos input length pos if input charAt pos Character isDigit input charAt pos int val Character digit input charAt pos if val start length output append toString val else output append input charAt pos if pos input length output append input charAt pos return output toString', 'bug': '0'}
{'sequence': 'public class REFilterReader extends FilterReader private RE expr private String replace private String buffer private int bufpos private int offset private CharIndexedReader stream public REFilterReader Reader stream RE expr String replace super stream this stream new CharIndexedReader stream this expr expr this replace replace public int read if buffer null bufpos buffer length return int buffer charAt bufpos if stream isValid return REMatch mymatch new REMatch expr getNumSubs offset if expr match stream mymatch mymatch end mymatch index mymatch finish stream stream move mymatch toString length offset mymatch toString length buffer mymatch substituteInto replace bufpos if buffer length return buffer charAt char ch stream charAt if ch CharIndexed OUT_OF_BOUNDS return stream move offset return ch public boolean markSupported return false public int read char int off int len int int ok while len read if return ok ok off char ok return ok public int read char return read length', 'bug': '0'}
{'sequence': 'public interface SearchMatcher int nextMatch Segment text String substitute String text throws Exception', 'bug': '1'}
{'sequence': 'class ParseException extends Exception public ParseException Token currentTokenVal int expectedTokenSequencesVal String tokenImageVal super specialConstructor true currentToken currentTokenVal expectedTokenSequences expectedTokenSequencesVal tokenImage tokenImageVal public ParseException super specialConstructor false public ParseException String message super message specialConstructor false protected boolean specialConstructor public Token currentToken public int expectedTokenSequences public String tokenImage public String getMessage return getMessage true public String getMessage boolean debug if specialConstructor return super getMessage String expected int maxSize for int expectedTokenSequences length if maxSize expectedTokenSequences length maxSize expectedTokenSequences length for int expectedTokenSequences length expected tokenImage expectedTokenSequences if expectedTokenSequences expectedTokenSequences length expected expected eol String retval Token tok currentToken next for int maxSize if retval if tok kind retval tokenImage break retval add_escapes tok image tok tok next retval currentToken next beginLine currentToken next beginColumn eol if debug if expectedTokenSequences length retval eol else retval eol retval expected return retval protected String eol System getProperty protected String add_escapes String str StringBuffer retval new StringBuffer char ch for int str length switch str charAt case continue case retval append continue case retval append continue case retval append continue case retval append continue case retval append continue case retval append continue case retval append continue case retval append continue default if ch str charAt ch String Integer toString ch retval append substring length length else retval append ch continue return retval toString', 'bug': '0'}
{'sequence': 'class Token implements java io Serializable public int kind public int beginLine beginColumn endLine endColumn public String image public Token next public Token specialToken public final String toString return image public static final Token newToken int ofKind switch ofKind default return new Token', 'bug': '0'}
{'sequence': 'class JThis extends This implements ActionListener AdjustmentListener ComponentListener ContainerListener FocusListener ItemListener KeyListener MouseListener MouseMotionListener TextListener WindowListener PropertyChangeListener AncestorListener CaretListener CellEditorListener ChangeListener DocumentListener HyperlinkListener InternalFrameListener ListDataListener ListSelectionListener MenuDragMouseListener MenuKeyListener MenuListener MouseInputListener PopupMenuListener TableColumnModelListener TableModelListener TreeExpansionListener TreeModelListener TreeSelectionListener TreeWillExpandListener UndoableEditListener JThis NameSpace namespace Interpreter declaringInterp super namespace declaringInterp public String toString return namespace name void event String name Object event BshMethod method method namespace getMethod new Class null if method null try method invokeDeclaredMethod new Object event declaringInterpreter callstack null catch EvalError declaringInterpreter error method namespace getMethod name new Class null if method null try method invokeDeclaredMethod new Object event declaringInterpreter callstack null catch EvalError declaringInterpreter error public void ancestorAdded AncestorEvent event public void ancestorRemoved AncestorEvent event public void ancestorMoved AncestorEvent event public void caretUpdate CaretEvent event public void editingStopped ChangeEvent event public void editingCanceled ChangeEvent event public void stateChanged ChangeEvent event public void insertUpdate DocumentEvent event public void removeUpdate DocumentEvent event public void changedUpdate DocumentEvent event public void hyperlinkUpdate HyperlinkEvent event public void internalFrameOpened InternalFrameEvent event public void internalFrameClosing InternalFrameEvent event public void internalFrameClosed InternalFrameEvent event public void internalFrameIconified InternalFrameEvent event public void internalFrameDeiconified InternalFrameEvent event public void internalFrameActivated InternalFrameEvent event public void internalFrameDeactivated InternalFrameEvent event public void intervalAdded ListDataEvent event public void intervalRemoved ListDataEvent event public void contentsChanged ListDataEvent event public void valueChanged ListSelectionEvent event public void menuDragMouseEntered MenuDragMouseEvent event public void menuDragMouseExited MenuDragMouseEvent event public void menuDragMouseDragged MenuDragMouseEvent event public void menuDragMouseReleased MenuDragMouseEvent event public void menuKeyTyped MenuKeyEvent event public void menuKeyPressed MenuKeyEvent event public void menuKeyReleased MenuKeyEvent event public void menuSelected MenuEvent event public void menuDeselected MenuEvent event public void menuCanceled MenuEvent event public void popupMenuWillBecomeVisible PopupMenuEvent event public void popupMenuWillBecomeInvisible PopupMenuEvent event public void popupMenuCanceled PopupMenuEvent event public void columnAdded TableColumnModelEvent event public void columnRemoved TableColumnModelEvent event public void columnMoved TableColumnModelEvent event public void columnMarginChanged ChangeEvent event public void columnSelectionChanged ListSelectionEvent event public void tableChanged TableModelEvent event public void treeExpanded TreeExpansionEvent event public void treeCollapsed TreeExpansionEvent event public void treeNodesChanged TreeModelEvent event public void treeNodesInserted TreeModelEvent event public void treeNodesRemoved TreeModelEvent event public void treeStructureChanged TreeModelEvent event public void valueChanged TreeSelectionEvent event public void treeWillExpand TreeExpansionEvent event public void treeWillCollapse TreeExpansionEvent event public void undoableEditHappened UndoableEditEvent event public void actionPerformed ActionEvent event public void adjustmentValueChanged AdjustmentEvent event public void componentResized ComponentEvent event public void componentMoved ComponentEvent event public void componentShown ComponentEvent event public void componentHidden ComponentEvent event public void componentAdded ContainerEvent event public void componentRemoved ContainerEvent event public void focusGained FocusEvent event public void focusLost FocusEvent event public void itemStateChanged ItemEvent event public void keyTyped KeyEvent event public void keyPressed KeyEvent event public void keyReleased KeyEvent event public void mouseClicked MouseEvent event public void mousePressed MouseEvent event public void mouseReleased MouseEvent event public void mouseEntered MouseEvent event public void mouseExited MouseEvent event public void mouseDragged MouseEvent event public void mouseMoved MouseEvent event public void textValueChanged TextEvent event public void windowOpened WindowEvent event public void windowClosing WindowEvent event public void windowClosed WindowEvent event public void windowIconified WindowEvent event public void windowDeiconified WindowEvent event public void windowActivated WindowEvent event public void windowDeactivated WindowEvent event public void propertyChange PropertyChangeEvent event public void vetoableChange PropertyChangeEvent event public boolean imageUpdate java awt Image img int infoflags int int int width int height BshMethod method namespace getMethod new Class null null null null null null if method null try method invokeDeclaredMethod new Object img new Primitive infoflags new Primitive new Primitive new Primitive width new Primitive height declaringInterpreter callstack null catch EvalError declaringInterpreter error return true private synchronized void writeObject java io ObjectOutputStream throws IOException NameSpace parent namespace getParent Interpreter interpreter declaringInterpreter namespace prune defaultWriteObject namespace setParent parent declaringInterpreter interpreter', 'bug': '0'}
{'sequence': 'public class EditorExitRequested extends EBMessage NonVetoable public EditorExitRequested View view super view public View getView return View getSource', 'bug': '0'}
{'sequence': 'public class BrowserIORequest extends WorkRequest public static final int LIST_DIRECTORY public static final int DELETE public static final int RENAME public static final int MKDIR public BrowserIORequest int type VFSBrowser browser Object session VFS vfs String path1 String path2 this type type this browser browser this session session this vfs vfs this path1 path1 this path2 path2 public void run switch type case LIST_DIRECTORY listDirectory break case DELETE delete break case RENAME rename break case MKDIR mkdir break browser endRequest public String toString String typeString switch type case LIST_DIRECTORY typeString break case DELETE typeString break case RENAME typeString break case MKDIR typeString break default typeString break return getClass getName typeString vfs path1 path2 private int type private VFSBrowser browser private Object session private VFS vfs private String path1 private String path2 private void listDirectory VFS DirectoryEntry directory null String args path1 setStatus jEdit getProperty args try setAbortable true directory vfs session path1 browser catch IOException io setAbortable false String pp path1 io toString VFSManager error browser pp catch WorkThread Abort finally try vfs session browser catch IOException io setAbortable false String pp path1 io toString VFSManager error browser pp setAbortable false browser directoryLoaded directory private void delete try setAbortable true String args path1 setStatus jEdit getProperty args try if vfs session path1 browser VFSManager error browser args catch IOException io String pp path1 io toString VFSManager error browser pp catch WorkThread Abort finally try vfs session browser catch IOException io String pp path1 io toString VFSManager error browser pp private void rename try setAbortable true String args path1 path2 setStatus jEdit getProperty args try VFS DirectoryEntry file vfs session path2 browser if file null VFSManager error browser new String path2 else if vfs session path1 path2 browser VFSManager error browser new String path1 catch IOException io String pp path1 io toString VFSManager error browser pp catch WorkThread Abort finally try vfs session browser catch IOException io String pp path1 io toString VFSManager error browser pp private void mkdir try setAbortable true String args path1 setStatus jEdit getProperty args try if vfs session path1 browser VFSManager error browser args catch IOException io args io toString VFSManager error browser args catch WorkThread Abort finally try vfs session browser catch IOException io String args io toString VFSManager error browser args', 'bug': '1'}
{'sequence': 'class BSHArguments extends SimpleNode BSHArguments int id super id public Object getArguments CallStack callstack Interpreter interpreter throws EvalError Object args new Object jjtGetNumChildren for int args length args SimpleNode jjtGetChild eval callstack interpreter return args', 'bug': '0'}
{'sequence': 'public interface ScrollListener extends java util EventListener void scrolledVertically JEditTextArea textArea void scrolledHorizontally JEditTextArea textArea', 'bug': '0'}
{'sequence': 'public class AbbrevEditor extends JPanel public AbbrevEditor GridBagLayout layout new GridBagLayout setLayout layout GridBagConstraints cons new GridBagConstraints cons anchor cons WEST cons fill cons BOTH cons weightx cons gridx cons gridy JLabel label new JLabel jEdit getProperty label setBorder new EmptyBorder layout setConstraints label cons add label cons gridy cons weighty beforeCaret new JTextArea JScrollPane scroller new JScrollPane beforeCaret layout setConstraints scroller cons add scroller cons gridy cons weighty label new JLabel jEdit getProperty label setBorder new EmptyBorder layout setConstraints label cons add label cons gridy cons weighty afterCaret new JTextArea scroller new JScrollPane afterCaret layout setConstraints scroller cons add scroller public String getExpansion StringBuffer buf new StringBuffer String beforeCaretText beforeCaret getText String afterCaretText afterCaret getText for int beforeCaretText length char ch beforeCaretText charAt switch ch case buf append break case buf append break case buf append break default buf append ch break if afterCaretText length buf append for int afterCaretText length char ch afterCaretText charAt switch ch case buf append break case buf append break case buf append break default buf append ch break return buf toString public void setExpansion String expansion if expansion null beforeCaret setText null afterCaret setText null return String beforeCaretText null String afterCaretText null StringBuffer buf new StringBuffer for int expansion length char ch expansion charAt if ch expansion length ch expansion charAt switch ch case buf append break case buf append break case beforeCaretText buf toString buf setLength break default buf append ch break else buf append ch if beforeCaretText null beforeCaretText buf toString else afterCaretText buf toString beforeCaret setText beforeCaretText afterCaret setText afterCaretText public JTextArea getBeforeCaretTextArea return beforeCaret public JTextArea getAfterCaretTextArea return afterCaret private JTextArea beforeCaret afterCaret', 'bug': '0'}
{'sequence': 'public class EnhancedButton extends JButton public EnhancedButton Icon icon String toolTip EditAction action super icon if action null setEnabled true addActionListener new EditAction Wrapper action else setEnabled false setToolTipText toolTip Insets zeroInsets new Insets setMargin zeroInsets setRequestFocusEnabled false public boolean isFocusTraversable return false public String getActionCommand return getModel getActionCommand', 'bug': '0'}
{'sequence': 'public class ToolBarOptionPane extends AbstractOptionPane public ToolBarOptionPane super protected void setLayout new BorderLayout JPanel panel new JPanel new GridLayout showToolbar new JCheckBox jEdit getProperty showToolbar setSelected jEdit getBooleanProperty panel add showToolbar panel add new JLabel jEdit getProperty add BorderLayout NORTH panel String toolbar jEdit getProperty StringTokenizer st new StringTokenizer toolbar listModel new DefaultListModel while st hasMoreTokens String actionName String st nextToken String label ContextOptionPane getActionLabel actionName if label null continue Icon icon String iconName if actionName equals iconName null icon null else iconName jEdit getProperty actionName if iconName null continue icon GUIUtilities loadIcon iconName listModel addElement new Button actionName iconName icon label list new JList listModel list setSelectionMode ListSelectionModel SINGLE_SELECTION list addListSelectionListener new ListHandler list setCellRenderer new ButtonCellRenderer add BorderLayout CENTER new JScrollPane list JPanel buttons new JPanel buttons setBorder new EmptyBorder buttons setLayout new BoxLayout buttons BoxLayout X_AXIS buttons add Box createGlue ActionHandler actionHandler new ActionHandler add new JButton jEdit getProperty add addActionListener actionHandler buttons add add buttons add Box createHorizontalStrut remove new JButton jEdit getProperty remove addActionListener actionHandler buttons add remove buttons add Box createHorizontalStrut moveUp new JButton jEdit getProperty moveUp addActionListener actionHandler buttons add moveUp buttons add Box createHorizontalStrut moveDown new JButton jEdit getProperty moveDown addActionListener actionHandler buttons add moveDown buttons add Box createGlue updateButtons add BorderLayout SOUTH buttons EditAction actions jEdit getActions Vector vector new Vector actions length for int actions length String actionName actions getName String label jEdit getProperty actionName if label null continue vector addElement new Button actionName null null label MiscUtilities quicksort vector new ButtonCompare actionsList new DefaultListModel actionsList ensureCapacity vector size for int vector size actionsList addElement vector elementAt iconList new DefaultComboBoxModel st new StringTokenizer jEdit getProperty while st hasMoreElements String icon st nextToken iconList addElement new IconListEntry GUIUtilities loadIcon icon icon class ButtonCompare implements MiscUtilities Compare public int compare Object obj1 Object obj2 return Button obj1 label toLowerCase compareTo Button obj2 label toLowerCase protected void jEdit setBooleanProperty showToolbar isSelected StringBuffer buf new StringBuffer for int listModel getSize if buf append Button button Button listModel elementAt buf append button actionName jEdit setProperty button actionName button iconName jEdit setProperty buf toString private JCheckBox showToolbar private DefaultListModel listModel private JList list private JButton add private JButton remove private JButton moveUp moveDown private DefaultListModel actionsList private DefaultComboBoxModel iconList private void updateButtons int index list getSelectedIndex remove setEnabled index listModel getSize moveUp setEnabled index moveDown setEnabled index index listModel getSize static class Button String actionName String iconName Icon icon String label Button String actionName String iconName Icon icon String label this actionName actionName this iconName iconName this icon icon if label equals this label label else this label GUIUtilities prettifyMenuLabel label public String toString return label static class IconListEntry Icon icon String name IconListEntry Icon icon String name this icon icon this name name static class ButtonCellRenderer extends DefaultListCellRenderer public Component getListCellRendererComponent JList list Object value int index boolean isSelected boolean cellHasFocus super getListCellRendererComponent list value index isSelected cellHasFocus Button button Button value setText button label setIcon button icon return this static class IconCellRenderer extends DefaultListCellRenderer public Component getListCellRendererComponent JList list Object value int index boolean isSelected boolean cellHasFocus super getListCellRendererComponent list value index isSelected cellHasFocus IconListEntry icon IconListEntry value setText icon name setIcon icon icon return this class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source add ToolBarAddDialog dialog new ToolBarAddDialog ToolBarOptionPane this actionsList iconList Button selection dialog getSelection if selection null return int index list getSelectedIndex if index index listModel getSize else index listModel insertElementAt selection index list setSelectedIndex index else if source remove int index list getSelectedIndex listModel removeElementAt index updateButtons else if source moveUp int index list getSelectedIndex Object selected list getSelectedValue listModel removeElementAt index listModel insertElementAt selected index list setSelectedIndex index else if source moveDown int index list getSelectedIndex Object selected list getSelectedValue listModel removeElementAt index listModel insertElementAt selected index list setSelectedIndex index class ListHandler implements ListSelectionListener public void valueChanged ListSelectionEvent evt updateButtons class ToolBarAddDialog extends EnhancedDialog public ToolBarAddDialog Component comp ListModel actionsListModel ComboBoxModel iconListModel super JOptionPane getFrameForComponent comp jEdit getProperty true JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content content add BorderLayout NORTH new JLabel jEdit getProperty JPanel mainPanel new JPanel new BorderLayout JPanel radioPanel new JPanel new GridLayout ActionHandler actionHandler new ActionHandler ButtonGroup grp new ButtonGroup separator new JRadioButton jEdit getProperty separator setSelected true separator addActionListener actionHandler grp add separator radioPanel add separator action new JRadioButton jEdit getProperty action addActionListener actionHandler grp add action radioPanel add action mainPanel add BorderLayout NORTH radioPanel actionsList new JList actionsListModel actionsList setVisibleRowCount JPanel centerPanel new JPanel new BorderLayout centerPanel add BorderLayout NORTH new JScrollPane actionsList macro new JRadioButton jEdit getProperty macro addActionListener actionHandler grp add macro centerPanel add BorderLayout CENTER macro macrosList new JList Macros getMacroList macrosList setVisibleRowCount centerPanel add BorderLayout SOUTH new JScrollPane macrosList mainPanel add BorderLayout CENTER centerPanel JPanel iconPanel new JPanel new BorderLayout JPanel labelPanel new JPanel new GridLayout labelPanel setBorder new EmptyBorder JPanel compPanel new JPanel new GridLayout grp new ButtonGroup labelPanel add builtin new JRadioButton jEdit getProperty builtin addActionListener actionHandler builtin setSelected true grp add builtin labelPanel add file new JRadioButton jEdit getProperty grp add file file addActionListener actionHandler iconPanel add BorderLayout WEST labelPanel builtinCombo new JComboBox iconListModel builtinCombo setRenderer new ToolBarOptionPane IconCellRenderer compPanel add builtinCombo fileButton new JButton jEdit getProperty fileButton setMargin new Insets fileButton setIcon GUIUtilities loadIcon fileButton setHorizontalAlignment SwingConstants LEFT fileButton addActionListener actionHandler compPanel add fileButton iconPanel add BorderLayout CENTER compPanel mainPanel add BorderLayout SOUTH iconPanel content add BorderLayout CENTER mainPanel JPanel southPanel new JPanel southPanel setLayout new BoxLayout southPanel BoxLayout X_AXIS southPanel setBorder new EmptyBorder southPanel add Box createGlue ok new JButton jEdit getProperty ok addActionListener actionHandler getRootPane setDefaultButton ok southPanel add ok southPanel add Box createHorizontalStrut cancel new JButton jEdit getProperty cancel addActionListener actionHandler southPanel add cancel southPanel add Box createGlue content add BorderLayout SOUTH southPanel updateEnabled pack setLocationRelativeTo JOptionPane getFrameForComponent comp show public void ok isOK true dispose public void cancel dispose public ToolBarOptionPane Button getSelection if isOK return null if separator isSelected return new ToolBarOptionPane Button null null else Icon icon String iconName if builtin isSelected ToolBarOptionPane IconListEntry selectedIcon ToolBarOptionPane IconListEntry builtinCombo getSelectedItem icon selectedIcon icon iconName selectedIcon name else icon fileButton getIcon iconName fileIcon if iconName null iconName String label String actionName if action isSelected ToolBarOptionPane Button button ToolBarOptionPane Button actionsList getSelectedValue label button label actionName button actionName else if macro isSelected actionName macrosList getSelectedValue label ContextOptionPane getActionLabel actionName else throw new InternalError return new ToolBarOptionPane Button actionName iconName icon label private boolean isOK private JRadioButton separator action macro private JList actionsList macrosList private JRadioButton builtin private JComboBox builtinCombo private JRadioButton file private JButton fileButton private String fileIcon private JButton ok cancel private void updateEnabled actionsList setEnabled action isSelected macrosList setEnabled macro isSelected boolean iconControlsEnabled separator isSelected builtin setEnabled iconControlsEnabled file setEnabled iconControlsEnabled builtinCombo setEnabled iconControlsEnabled builtin isSelected fileButton setEnabled iconControlsEnabled file isSelected class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source instanceof JRadioButton updateEnabled else if source ok ok else if source cancel cancel else if source builtin source file updateEnabled else if source fileButton String directory if fileIcon null directory null else directory MiscUtilities getParentOfPath fileIcon String paths GUIUtilities showVFSFileDialog null directory VFSBrowser OPEN_DIALOG false if paths null return fileIcon paths try fileButton setIcon new ImageIcon new URL fileIcon catch MalformedURLException mf Log log Log ERROR this mf fileButton setText MiscUtilities getFileName fileIcon', 'bug': '1'}
{'sequence': 'class ReflectError extends Exception public ReflectError super public ReflectError String super', 'bug': '0'}
{'sequence': 'class ActionListHandler extends HandlerBase ActionListHandler String path boolean plugin this path path this plugin plugin stateStack new Stack public Object resolveEntity String publicId String systemId if equals systemId try return new BufferedReader new InputStreamReader getClass getResourceAsStream catch Exception Log log Log ERROR this Log log Log ERROR this return null public void attribute String aname String value boolean isSpecified aname aname null null aname intern value value null null value intern if aname actionName value else if aname noRepeat value else if aname noRecord value public void doctypeDecl String name String publicId String systemId throws Exception if equals name return Log log Log ERROR this path public void charData char int off int len String tag peekElement String text new String off len if tag code text else if tag isSelected text public void startElement String tag tag pushElement tag if tag code null isSelected null public void endElement String name if name null return String tag peekElement if name equals tag if tag jEdit addAction new BeanShellAction actionName plugin code isSelected noRepeat noRecord popElement else throw new InternalError public void startDocument try pushElement null catch Exception printStackTrace private String path private boolean plugin private String actionName private String code private String isSelected private boolean noRepeat private boolean noRecord private Stack stateStack private String pushElement String name name name null null name intern stateStack push name return name private String peekElement return String stateStack peek private String popElement return String stateStack pop', 'bug': '1'}
{'sequence': 'public class MarkersMenu extends EnhancedMenu public MarkersMenu super public void setPopupMenuVisible boolean if final View view EditAction getView this if getMenuComponentCount for int getMenuComponentCount Component comp getMenuComponent if comp instanceof JSeparator break else remove comp Buffer buffer view getBuffer Element map buffer getDefaultRootElement Vector markers buffer getMarkers if markers size JMenuItem mi new JMenuItem jEdit getProperty mi setEnabled false add mi super setPopupMenuVisible return JMenu current this for int markers size final Marker marker Marker markers elementAt int lineNo map getElementIndex marker getPosition if current getItemCount JMenu newCurrent new JMenu jEdit getProperty current add newCurrent current newCurrent JMenuItem mi new MarkersMenuItem buffer lineNo marker getShortcut mi addActionListener new ActionListener public void actionPerformed ActionEvent evt view getTextArea setCaretPosition marker getPosition current add mi super setPopupMenuVisible static class MarkersMenuItem extends JMenuItem MarkersMenuItem Buffer buffer int lineNo char shortcut Element line buffer getDefaultRootElement getElement lineNo try int start line getStartOffset String text buffer getText start line getEndOffset start text text trim if text length text jEdit getProperty setText lineNo text catch BadLocationException ble Log log Log ERROR this ble shortcutProp MarkersMenuItem this shortcut shortcut public Dimension getPreferredSize Dimension super getPreferredSize String shortcut getShortcut if shortcut null width getFontMetrics acceleratorFont stringWidth shortcut return public void paint Graphics super paint String shortcut getShortcut if shortcut null setFont acceleratorFont setColor getModel isArmed acceleratorSelectionForeground acceleratorForeground FontMetrics fm getFontMetrics Insets insets getInsets drawString shortcut getWidth fm stringWidth shortcut insets right insets left getFont getSize insets top private String shortcutProp private char shortcut private static Font acceleratorFont private static Color acceleratorForeground private static Color acceleratorSelectionForeground private String getShortcut if shortcut return null else String shortcutPrefix jEdit getProperty shortcutProp if shortcutPrefix null return null else return shortcutPrefix shortcut static acceleratorFont UIManager getFont acceleratorFont new Font acceleratorFont getStyle acceleratorFont getSize acceleratorForeground UIManager getColor acceleratorSelectionForeground UIManager getColor', 'bug': '1'}
{'sequence': 'public class VFSFileChooserDialog extends EnhancedDialog public VFSFileChooserDialog View view String path int mode boolean multipleSelection super view jEdit getProperty true JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content String name if path null path endsWith File separator path endsWith name null else VFS vfs VFSManager getVFSForPath path name vfs getFileName path path vfs getParentOfPath path browser new VFSBrowser view path mode multipleSelection browser addBrowserListener new BrowserHandler content add BorderLayout CENTER browser JPanel panel new JPanel panel setLayout new BoxLayout panel BoxLayout X_AXIS panel setBorder new EmptyBorder panel add new JLabel jEdit getProperty panel add Box createHorizontalStrut filenameField new JTextField filenameField setText name filenameField addKeyListener new KeyHandler filenameField selectAll Dimension dim filenameField getPreferredSize dim width Integer MAX_VALUE filenameField setMaximumSize dim Box box new Box BoxLayout Y_AXIS box add Box createGlue box add filenameField box add Box createGlue panel add box panel add Box createHorizontalStrut if mode VFSBrowser SAVE_DIALOG GUIUtilities requestFocus this filenameField else GUIUtilities requestFocus this browser getBrowserView getDefaultFocusComponent ok new JButton jEdit getProperty mode VFSBrowser OPEN_DIALOG ok addActionListener new ActionHandler getRootPane setDefaultButton ok panel add ok panel add Box createHorizontalStrut cancel new JButton jEdit getProperty cancel addActionListener new ActionHandler panel add cancel if mode VFSBrowser SAVE_DIALOG panel add Box createGlue content add BorderLayout SOUTH panel pack GUIUtilities loadGeometry this show public void dispose GUIUtilities saveGeometry this super dispose public void ok VFS DirectoryEntry files browser getSelectedFiles String directory browser getDirectory if files length filename filenameField getText if filename length getToolkit beep return else for int files length VFS DirectoryEntry file files if file type VFS DirectoryEntry FILESYSTEM file type VFS DirectoryEntry DIRECTORY browser setDirectory file path return else if browser getMode VFSBrowser SAVE_DIALOG filename file path if browser getMode VFSBrowser SAVE_DIALOG VFS vfs VFSManager getVFSForPath directory filename vfs constructPath directory filename if vfs instanceof FileVFS doFileExistsWarning filename return isOK true dispose public void cancel dispose public String getSelectedFiles if isOK return null if filename null return new String filename else Vector vector new Vector VFS DirectoryEntry selectedFiles browser getSelectedFiles for int selectedFiles length VFS DirectoryEntry file selectedFiles if file type VFS DirectoryEntry FILE vector addElement file path String retVal new String vector size vector copyInto retVal return retVal private VFSBrowser browser private JTextField filenameField private String filename private JButton ok private JButton cancel private boolean isOK private boolean doFileExistsWarning String filename if new File filename exists String args MiscUtilities getFileName filename int result GUIUtilities confirm browser args JOptionPane YES_NO_OPTION JOptionPane WARNING_MESSAGE if result JOptionPane YES_OPTION return true return false class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt if evt getSource ok ok else if evt getSource cancel cancel class BrowserHandler implements BrowserListener public void filesSelected VFSBrowser browser VFS DirectoryEntry files if files length return else if files length VFS DirectoryEntry file files if file type VFS DirectoryEntry FILE String path file path String directory browser getDirectory VFS vfs VFSManager getVFSForPath directory String parent vfs getParentOfPath path if parent endsWith parent endsWith File separator parent parent substring parent length if parent equals directory path file name filenameField setText path else filenameField setText null public void filesActivated VFSBrowser browser VFS DirectoryEntry files for int files length VFS DirectoryEntry file files if file type VFS DirectoryEntry FILESYSTEM file type VFS DirectoryEntry DIRECTORY return ok class KeyHandler extends KeyAdapter public void keyPressed KeyEvent evt browser getBrowserView selectNone', 'bug': '1'}
{'sequence': 'public class HyperSearchResult public String path public Buffer buffer public int line public Position linePos public HyperSearchResult Buffer buffer int line path buffer getPath this line line if buffer isTemporary bufferOpened buffer str line getLine buffer buffer getDefaultRootElement getElement line String getLine Buffer buffer Element elem if elem null return try return buffer getText elem getStartOffset elem getEndOffset elem getStartOffset replace catch BadLocationException bl Log log Log ERROR this bl return public void bufferOpened Buffer buffer this buffer buffer Element map buffer getDefaultRootElement Element elem map getElement line if elem null elem map getElement map getElementCount try linePos buffer createPosition elem getStartOffset catch BadLocationException bl Log log Log ERROR this bl public void bufferClosed buffer null linePos null public Buffer getBuffer if buffer null buffer jEdit openFile null path return buffer public String toString return str', 'bug': '1'}
{'sequence': 'public class HistoryTextField extends JTextField public HistoryTextField this null public HistoryTextField String name this name false true public HistoryTextField String name boolean instantPopups this name instantPopups true public HistoryTextField String name boolean instantPopups boolean enterAddsToHistory setBorder new CompoundBorder getBorder new HistoryBorder if name null historyModel HistoryModel getModel name addMouseMotionListener new MouseHandler this instantPopups instantPopups this enterAddsToHistory enterAddsToHistory index public void setModel String name if name null historyModel null else historyModel HistoryModel getModel name index public void addCurrentToHistory if historyModel null historyModel addItem getText index public void setText String text super setText text index public HistoryModel getModel return historyModel public void fireActionPerformed super fireActionPerformed protected void processKeyEvent KeyEvent evt if isEnabled return evt KeyEventWorkaround processKeyEvent evt if evt null return if evt getID KeyEvent KEY_PRESSED if evt getKeyCode KeyEvent VK_ENTER if enterAddsToHistory addCurrentToHistory if evt getModifiers fireActionPerformed evt consume else if evt getKeyCode KeyEvent VK_UP if evt isShiftDown doBackwardSearch else historyPrevious evt consume else if evt getKeyCode KeyEvent VK_DOWN if evt isShiftDown doForwardSearch else historyNext evt consume else if evt getKeyCode KeyEvent VK_TAB evt isControlDown doBackwardSearch evt consume if evt isConsumed super processKeyEvent evt protected void processMouseEvent MouseEvent evt if isEnabled return switch evt getID case MouseEvent MOUSE_PRESSED Border border getBorder Insets insets border getBorderInsets HistoryTextField this if evt getX getWidth insets right GUIUtilities isPopupTrigger evt if evt isShiftDown showPopupMenu getText substring getSelectionStart getHeight else showPopupMenu getHeight else super processMouseEvent evt break case MouseEvent MOUSE_EXITED setCursor Cursor getDefaultCursor super processMouseEvent evt break default super processMouseEvent evt break private HistoryModel historyModel private JPopupMenu popup private boolean instantPopups private boolean enterAddsToHistory private String current private int index private void doBackwardSearch if historyModel null return if getSelectionEnd getDocument getLength setCaretPosition getDocument getLength String text getText substring getSelectionStart if text null historyPrevious return for int index historyModel getSize String item historyModel getItem if item startsWith text replaceSelection item substring text length select text length getDocument getLength index return getToolkit beep private void doForwardSearch if historyModel null return if getSelectionEnd getDocument getLength setCaretPosition getDocument getLength String text getText substring getSelectionStart if text null historyNext return for int index String item historyModel getItem if item startsWith text replaceSelection item substring text length select text length getDocument getLength index return getToolkit beep private void historyPrevious if historyModel null return if index historyModel getSize getToolkit beep else if index current getText setText historyModel getItem index else int newIndex index setText historyModel getItem newIndex index newIndex private void historyNext if historyModel null return if index getToolkit beep else if index setText current else int newIndex index setText historyModel getItem newIndex index newIndex private void showPopupMenu String text int int if historyModel null return requestFocus if popup null popup isVisible popup setVisible false return ActionHandler actionListener new ActionHandler popup new JPopupMenu JMenuItem caption new JMenuItem jEdit getProperty caption getModel setEnabled false popup add caption popup addSeparator for int historyModel getSize String item historyModel getItem if item startsWith text JMenuItem menuItem new JMenuItem item menuItem setActionCommand String valueOf menuItem addActionListener actionListener popup add menuItem popup show this class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt int ind Integer parseInt evt getActionCommand if ind if index setText current else setText historyModel getItem ind index ind if instantPopups addCurrentToHistory fireActionPerformed class MouseHandler extends MouseMotionAdapter public void mouseMoved MouseEvent evt Border border getBorder Insets insets border getBorderInsets HistoryTextField this if evt getX getWidth insets right setCursor Cursor getDefaultCursor else setCursor Cursor getPredefinedCursor Cursor TEXT_CURSOR static class HistoryBorder extends AbstractBorder static final int WIDTH public void paintBorder Component Graphics int int int int translate WIDTH int w2 WIDTH int h2 setColor UIManager getColor isEnabled HistoryTextField getModel null drawLine w2 h2 w2 h2 drawLine w2 h2 w2 h2 drawLine w2 h2 w2 h2 drawLine w2 h2 w2 h2 drawLine w2 h2 w2 h2 translate WIDTH public Insets getBorderInsets Component return new Insets WIDTH', 'bug': '1'}
{'sequence': 'class BSHImportDeclaration extends SimpleNode public boolean superImport BSHImportDeclaration int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError if superImport NameSpace doSuperImport else NameSpace namespace callstack top String name BSHAmbiguousName jjtGetChild getName namespace value else return Primitive VOID', 'bug': '0'}
{'sequence': 'class BSHAssignment extends SimpleNode implements ParserConstants public int operator BSHAssignment int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError BSHLHSPrimaryExpression lhsNode BSHLHSPrimaryExpression jjtGetChild if lhsNode null throw new InterpreterError LHS lhs lhsNode toLHS callstack interpreter if lhs null throw new InterpreterError Object rhs SimpleNode jjtGetChild eval callstack interpreter if rhs Primitive VOID throw new EvalError this switch operator case ASSIGN try return lhs assign rhs catch EvalError reThrow this case PLUSASSIGN return lhs assign operation lhs getValue rhs PLUS case MINUSASSIGN return lhs assign operation lhs getValue rhs MINUS case STARASSIGN return lhs assign operation lhs getValue rhs STAR case SLASHASSIGN return lhs assign operation lhs getValue rhs SLASH case ANDASSIGN case ANDASSIGNX return lhs assign operation lhs getValue rhs BIT_AND case ORASSIGN case ORASSIGNX return lhs assign operation lhs getValue rhs BIT_OR case XORASSIGN return lhs assign operation lhs getValue rhs XOR case MODASSIGN return lhs assign operation lhs getValue rhs MOD case LSHIFTASSIGN case LSHIFTASSIGNX return lhs assign operation lhs getValue rhs LSHIFT case RSIGNEDSHIFTASSIGN case RSIGNEDSHIFTASSIGNX return lhs assign operation lhs getValue rhs RSIGNEDSHIFT case RUNSIGNEDSHIFTASSIGN case RUNSIGNEDSHIFTASSIGNX return lhs assign operation lhs getValue rhs RUNSIGNEDSHIFT default throw new InterpreterError private Object operation Object lhs Object rhs int kind throws EvalError if lhs instanceof String rhs Primitive VOID if kind PLUS throw new EvalError this return String lhs rhs if lhs instanceof Primitive rhs instanceof Primitive if lhs Primitive VOID rhs Primitive VOID throw new EvalError this else if lhs Primitive NULL rhs Primitive NULL throw new EvalError this if lhs instanceof Boolean lhs instanceof Character lhs instanceof Number lhs instanceof Primitive rhs instanceof Boolean rhs instanceof Character rhs instanceof Number rhs instanceof Primitive return Primitive binaryOperation lhs rhs kind throw new EvalError lhs getClass tokenImage kind rhs getClass this', 'bug': '0'}
{'sequence': 'public class BeanShellErrorDialog extends EnhancedDialog public BeanShellErrorDialog View view String message super view jEdit getProperty true JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JPanel caption new JPanel new GridLayout caption setBorder new EmptyBorder caption add new JLabel jEdit getProperty caption add new JLabel jEdit getProperty content add BorderLayout NORTH caption JTextArea textArea new JTextArea textArea setText message textArea setLineWrap true textArea setWrapStyleWord true content add BorderLayout CENTER new JScrollPane textArea JPanel panel new JPanel panel setLayout new BoxLayout panel BoxLayout X_AXIS panel setBorder new EmptyBorder panel add Box createGlue JButton ok new JButton jEdit getProperty ok addActionListener new ActionHandler panel add ok panel add Box createGlue content add panel BorderLayout SOUTH getRootPane setDefaultButton ok pack setLocationRelativeTo view show public void ok dispose public void cancel dispose class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt dispose', 'bug': '1'}
{'sequence': 'public class LoadSaveOptionPane extends AbstractOptionPane public LoadSaveOptionPane super public void autosave new JTextField jEdit getProperty addComponent jEdit getProperty autosave backups new JTextField jEdit getProperty addComponent jEdit getProperty backups backupDirectory new JTextField jEdit getProperty addComponent jEdit getProperty backupDirectory backupPrefix new JTextField jEdit getProperty addComponent jEdit getProperty backupPrefix backupSuffix new JTextField jEdit getProperty addComponent jEdit getProperty backupSuffix String lineSeps jEdit getProperty jEdit getProperty jEdit getProperty lineSeparator new JComboBox lineSeps String lineSep jEdit getProperty System getProperty if equals lineSep lineSeparator setSelectedIndex else if equals lineSep lineSeparator setSelectedIndex else if equals lineSep lineSeparator setSelectedIndex addComponent jEdit getProperty lineSeparator DefaultComboBoxModel encodings new DefaultComboBoxModel StringTokenizer st new StringTokenizer jEdit getProperty while st hasMoreTokens encodings addElement st nextToken encoding new JComboBox encodings encoding setEditable true encoding setSelectedItem jEdit getProperty System getProperty addComponent jEdit getProperty encoding ioThreadCount new JTextField jEdit getProperty addComponent jEdit getProperty ioThreadCount restore new JCheckBox jEdit getProperty restore setSelected jEdit getBooleanProperty restore addActionListener new ActionListener public void actionPerformed ActionEvent evt restoreCLI setEnabled restore isSelected addComponent restore restoreCLI new JCheckBox jEdit getProperty restoreCLI setSelected jEdit getBooleanProperty restoreCLI setEnabled restore isSelected addComponent restoreCLI newView new JCheckBox jEdit getProperty newView setSelected jEdit getBooleanProperty addComponent newView persistentMarkers new JCheckBox jEdit getProperty persistentMarkers setSelected jEdit getBooleanProperty addComponent persistentMarkers parseFully new JCheckBox jEdit getProperty parseFully setSelected jEdit getBooleanProperty addComponent parseFully public void jEdit setProperty autosave getText jEdit setProperty backups getText jEdit setProperty backupDirectory getText jEdit setProperty backupPrefix getText jEdit setProperty backupSuffix getText String lineSep null switch lineSeparator getSelectedIndex case lineSep break case lineSep break case lineSep break jEdit setProperty lineSep jEdit setProperty String encoding getSelectedItem jEdit setProperty ioThreadCount getText jEdit setBooleanProperty restore isSelected jEdit setBooleanProperty restoreCLI isSelected jEdit setBooleanProperty newView isSelected jEdit setBooleanProperty persistentMarkers isSelected jEdit setBooleanProperty parseFully isSelected private JTextField autosave private JTextField backups private JTextField backupDirectory private JTextField backupPrefix private JTextField backupSuffix private JComboBox lineSeparator private JComboBox encoding private JTextField ioThreadCount private JCheckBox restore private JCheckBox restoreCLI private JCheckBox newView private JCheckBox persistentMarkers private JCheckBox parseFully', 'bug': '1'}
{'sequence': 'class SimpleNode implements Node protected Node parent protected Node children protected int id Token firstToken lastToken String sourceFile public SimpleNode int id public void jjtOpen public void jjtClose public void jjtSetParent Node parent public Node jjtGetParent return parent public void jjtAddChild Node int if children null children new Node else if children length Node new Node System arraycopy children children length children children public Node jjtGetChild int return children public SimpleNode getChild int return SimpleNode jjtGetChild public int jjtGetNumChildren return children null children length public String toString return ParserTreeConstants jjtNodeName id public String toString String prefix return prefix toString public void dump String prefix System out println toString prefix if children null for int children length SimpleNode SimpleNode children if null dump prefix public void prune jjtSetParent null public Object eval NameSpace namespace throws EvalError throw new EvalError getClass getName public Object eval CallStack callstack Interpreter interpreter throws EvalError return eval callstack top public void setSourceFile String sourceFile this sourceFile sourceFile public String getSourceFile if sourceFile null if parent null return SimpleNode parent getSourceFile else return else return sourceFile public int getLineNumber return firstToken beginLine public String getText StringBuffer text new StringBuffer Token firstToken while null text append image if image equals text append if lastToken image equals image equals break next return text toString', 'bug': '0'}
{'sequence': 'class BSHForStatement extends SimpleNode implements ParserConstants public boolean hasForInit public boolean hasExpression public boolean hasForUpdate private SimpleNode forInit private SimpleNode expression private SimpleNode forUpdate private SimpleNode statement private boolean parsed BSHForStatement int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError int if hasForInit forInit SimpleNode jjtGetChild if hasExpression expression SimpleNode jjtGetChild if hasForUpdate forUpdate SimpleNode jjtGetChild statement SimpleNode jjtGetChild NameSpace enclosingNameSpace callstack top BlockNameSpace forNameSpace new BlockNameSpace enclosingNameSpace callstack swap forNameSpace if hasForInit forInit eval callstack interpreter Object returnControl Primitive VOID while true if hasExpression boolean cond BSHIfStatement evaluateCondition expression callstack interpreter if cond break Object ret statement eval callstack interpreter if ret instanceof ReturnControl switch ReturnControl ret kind case RETURN returnControl ret breakout true break case CONTINUE break case BREAK breakout true break if breakout break if hasForUpdate forUpdate eval callstack interpreter return returnControl', 'bug': '0'}
{'sequence': 'class BSHVariableDeclarator extends SimpleNode public String name BSHVariableDeclarator int id super id public Object eval BSHType typeNode CallStack callstack Interpreter interpreter throws EvalError Object value Primitive VOID if jjtGetNumChildren SimpleNode initializer SimpleNode jjtGetChild if typeNode null initializer instanceof BSHArrayInitializer value BSHArrayInitializer initializer eval typeNode getBaseType typeNode getArrayDims callstack interpreter else value initializer eval callstack interpreter return value', 'bug': '0'}
{'sequence': 'public interface WorkThreadProgressListener extends EventListener void progressUpdate WorkThreadPool threadPool int threadIndex', 'bug': '0'}
{'sequence': 'public class ParserRuleSet public ParserRuleSet ruleMapFirst new ParserRule RULE_BUCKET_COUNT ruleMapLast new ParserRule RULE_BUCKET_COUNT public void addRule ParserRule int key Character toUpperCase searchChars RULE_BUCKET_COUNT ParserRule last ruleMapLast key if last null ruleMapFirst key ruleMapLast key else last next ruleMapLast key public void dump for int RULE_BUCKET_COUNT ParserRule first ruleMapFirst if first null System err println else int while first null first first next System err println public ParserRule getRules char ch int key Character toUpperCase ch RULE_BUCKET_COUNT return ruleMapFirst key public int getTerminateChar return terminateChar public void setTerminateChar int atChar terminateChar atChar atChar public boolean getIgnoreCase return ignoreCase public void setIgnoreCase boolean ignoreCase public KeywordMap getKeywords return keywords public void setKeywords KeywordMap km keywords km public boolean getHighlightDigits return highlightDigits public void setHighlightDigits boolean highlightDigits this highlightDigits highlightDigits public ParserRule getEscapeRule return escapeRule public Segment getEscapePattern if escapePattern null escapeRule null escapePattern new Segment escapeRule searchChars escapeRule sequenceLengths return escapePattern public void setEscape String esc if esc null escapeRule null else escapeRule ParserRuleFactory createEscapeRule esc escapePattern null public byte getDefault return defaultToken public void setDefault byte def defaultToken def private static final int RULE_BUCKET_COUNT private KeywordMap keywords private ParserRule ruleMapFirst private ParserRule ruleMapLast private ParserRule escapeRule private Segment escapePattern private int terminateChar private boolean ignoreCase true private boolean highlightDigits private byte defaultToken', 'bug': '1'}
{'sequence': 'public class IOProgressMonitor extends JDialog public IOProgressMonitor View view super view jEdit getProperty false JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content caption new JLabel updateCaption content add BorderLayout NORTH caption Box threadBox new Box BoxLayout Y_AXIS threads new ThreadProgress VFSManager getIOThreadPool getThreadCount for int threads length threadBox add Box createVerticalStrut threads new ThreadProgress threadBox add threads content add BorderLayout CENTER threadBox workThreadHandler new WorkThreadHandler VFSManager getIOThreadPool addProgressListener workThreadHandler setDefaultCloseOperation DISPOSE_ON_CLOSE pack GUIUtilities loadGeometry this show public void dispose GUIUtilities saveGeometry this VFSManager getIOThreadPool removeProgressListener workThreadHandler super dispose private JLabel caption private ThreadProgress threads private WorkThreadHandler workThreadHandler private void updateCaption String args String valueOf VFSManager getIOThreadPool getRequestCount caption setText jEdit getProperty args class WorkThreadHandler implements WorkThreadProgressListener public void progressUpdate WorkThreadPool pool int index updateCaption threads index update class ThreadProgress extends JPanel public ThreadProgress int index super new BorderLayout this index index JPanel box new JPanel box setBorder new EmptyBorder box setLayout new BoxLayout box BoxLayout Y_AXIS box add Box createGlue box add progress new JProgressBar progress setStringPainted true box add Box createGlue ThreadProgress this add BorderLayout CENTER box abort new JButton jEdit getProperty abort addActionListener new ActionHandler ThreadProgress this add BorderLayout EAST abort update public void update WorkThread thread VFSManager getIOThreadPool getThread index if thread isRequestRunning abort setEnabled true progress setString thread getStatus progress setMaximum thread getProgressMaximum progress setValue thread getProgressValue else abort setEnabled false progress setString jEdit getProperty progress setValue private int index private JProgressBar progress private JButton abort class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt if evt getSource abort int result GUIUtilities confirm IOProgressMonitor this null JOptionPane YES_NO_OPTION JOptionPane QUESTION_MESSAGE if result JOptionPane YES_OPTION VFSManager getIOThreadPool getThread index abortCurrentRequest', 'bug': '1'}
{'sequence': 'class PluginListDownloadProgress extends JDialog PluginListDownloadProgress PluginManager window super JOptionPane getFrameForComponent window jEdit getProperty true this window window JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JLabel caption new JLabel jEdit getProperty caption setBorder new EmptyBorder content add BorderLayout NORTH caption Box box new Box BoxLayout X_AXIS box add Box createGlue JButton stop new JButton jEdit getProperty stop addActionListener new ActionHandler stop setMaximumSize stop getPreferredSize box add stop box add Box createGlue content add BorderLayout CENTER box addWindowListener new WindowHandler setDefaultCloseOperation DO_NOTHING_ON_CLOSE pack setLocationRelativeTo window setResizable false show PluginList getPluginList return list private PluginManager window private PluginList list private DownloadThread thread class DownloadThread extends Thread public void run try list new PluginList dispose catch InterruptedIOException iio dispose catch XmlException xe dispose int line xe getLine String path jEdit getProperty String message xe getMessage Log log Log ERROR this path line message String pp path String valueOf line message GUIUtilities error window pp catch Exception dispose Log log Log ERROR this String pp toString GUIUtilities error window pp class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt thread interrupt class WindowHandler extends WindowAdapter boolean done public void windowActivated WindowEvent evt if done return done true thread new DownloadThread thread start public void windowClosing WindowEvent evt thread interrupt', 'bug': '1'}
{'sequence': 'public class BufferUpdate extends EBMessage NonVetoable public static final Object CREATED public static final Object LOAD_STARTED public static final Object LOADED public static final Object CLOSED public static final Object DIRTY_CHANGED public static final Object MARKERS_CHANGED public static final Object MODE_CHANGED public static final Object ENCODING_CHANGED public static final Object SAVING public BufferUpdate Buffer buffer View view Object what super buffer this view view if what null throw new NullPointerException this what what public Object getWhat return what public Buffer getBuffer return Buffer getSource public View getView return view public String paramString return super paramString what view private Object what private View view', 'bug': '0'}
{'sequence': 'public interface SearchFileSet Buffer getFirstBuffer View view Buffer getNextBuffer View view Buffer buffer void matchFound Buffer buffer int getBufferCount String getCode', 'bug': '0'}
{'sequence': 'public class ParserRuleFactory public static final ParserRule createSpanRule String begin String end byte id boolean noLineBreak boolean atLineStart boolean excludeMatch boolean noWordBreak int ruleAction TokenMarker SPAN noLineBreak TokenMarker NO_LINE_BREAK atLineStart TokenMarker AT_LINE_START excludeMatch TokenMarker EXCLUDE_MATCH noWordBreak TokenMarker NO_WORD_BREAK String strings new String strings begin strings end int ruleSeqLengths getStringLengthArray strings char ruleChars getCharArray strings ruleSeqLengths return new ParserRule ruleChars ruleSeqLengths ruleAction id public static final ParserRule createDelegateSpanRule String begin String end String delegateSet byte id boolean noLineBreak boolean atLineStart boolean excludeMatch boolean noWordBreak int ruleAction TokenMarker SPAN TokenMarker DELEGATE noLineBreak TokenMarker NO_LINE_BREAK atLineStart TokenMarker AT_LINE_START excludeMatch TokenMarker EXCLUDE_MATCH noWordBreak TokenMarker NO_WORD_BREAK String strings new String strings begin strings end strings delegateSet int ruleSeqLengths getStringLengthArray strings char ruleChars getCharArray strings ruleSeqLengths return new ParserRule ruleChars ruleSeqLengths ruleAction id public static final ParserRule createEOLSpanRule String seq byte id boolean atLineStart boolean excludeMatch int ruleAction TokenMarker EOL_SPAN atLineStart TokenMarker AT_LINE_START excludeMatch TokenMarker EXCLUDE_MATCH String strings new String strings seq int ruleSeqLengths new int char ruleChars if seq null ruleSeqLengths seq length ruleChars seq toCharArray else ruleChars new char return new ParserRule ruleChars ruleSeqLengths ruleAction id public static final ParserRule createMarkPreviousRule String seq byte id boolean atLineStart boolean excludeMatch int ruleAction TokenMarker MARK_PREVIOUS atLineStart TokenMarker AT_LINE_START excludeMatch TokenMarker EXCLUDE_MATCH String strings new String strings seq int ruleSeqLengths new int char ruleChars if seq null ruleSeqLengths seq length ruleChars seq toCharArray else ruleChars new char return new ParserRule ruleChars ruleSeqLengths ruleAction id public static final ParserRule createMarkFollowingRule String seq byte id boolean atLineStart boolean excludeMatch int ruleAction TokenMarker MARK_FOLLOWING atLineStart TokenMarker AT_LINE_START excludeMatch TokenMarker EXCLUDE_MATCH String strings new String strings seq int ruleSeqLengths new int char ruleChars if seq null ruleSeqLengths seq length ruleChars seq toCharArray else ruleChars new char return new ParserRule ruleChars ruleSeqLengths ruleAction id public static final ParserRule createSequenceRule String seq byte id boolean atLineStart int ruleAction atLineStart TokenMarker AT_LINE_START String strings new String strings seq int ruleSeqLengths new int char ruleChars if seq null ruleSeqLengths seq length ruleChars seq toCharArray else ruleChars new char return new ParserRule ruleChars ruleSeqLengths ruleAction id public static final ParserRule createEscapeRule String seq int ruleAction TokenMarker IS_ESCAPE String strings new String strings seq int ruleSeqLengths new int char ruleChars if seq null ruleSeqLengths seq length ruleChars seq toCharArray else ruleChars new char return new ParserRule ruleChars ruleSeqLengths ruleAction Token NULL public static final ParserRule createWhitespaceRule String seq int ruleAction TokenMarker WHITESPACE String strings new String strings seq int ruleSeqLengths new int char ruleChars if seq null ruleSeqLengths seq length ruleChars seq toCharArray else ruleChars new char return new ParserRule ruleChars ruleSeqLengths ruleAction Token NULL private static char getCharArray String strings int lengthArray if lengthArray null lengthArray length return new char char chars int charArrayLength for int lengthArray length charArrayLength lengthArray chars new char charArrayLength int copyOffset for int strings length if strings null System arraycopy strings toCharArray chars copyOffset lengthArray copyOffset lengthArray return chars private static int getStringLengthArray String strings int stringLengthArray if strings null return new int stringLengthArray new int strings length for int strings length if strings null stringLengthArray strings length return stringLengthArray', 'bug': '0'}
{'sequence': 'class TokenMgrError extends Error static final int LEXICAL_ERROR static final int STATIC_LEXER_ERROR static final int INVALID_LEXICAL_STATE static final int LOOP_DETECTED int errorCode protected static final String addEscapes String str StringBuffer retval new StringBuffer char ch for int str length switch str charAt case continue case retval append continue case retval append continue case retval append continue case retval append continue case retval append continue case retval append continue case retval append continue case retval append continue default if ch str charAt ch String Integer toString ch retval append substring length length else retval append ch continue return retval toString private static final String LexicalError boolean EOFSeen int lexState int errorLine int errorColumn String errorAfter char curChar return errorLine errorColumn EOFSeen addEscapes String valueOf curChar int curChar addEscapes errorAfter public String getMessage return super getMessage public TokenMgrError public TokenMgrError String message int reason super message errorCode reason public TokenMgrError boolean EOFSeen int lexState int errorLine int errorColumn String errorAfter char curChar int reason this LexicalError EOFSeen lexState errorLine errorColumn errorAfter curChar reason', 'bug': '0'}
{'sequence': 'class BSHThrowStatement extends SimpleNode BSHThrowStatement int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError Object obj SimpleNode jjtGetChild eval callstack interpreter if obj instanceof Exception throw new EvalError this throw new TargetError Exception obj this', 'bug': '0'}
{'sequence': 'class BSHTernaryExpression extends SimpleNode BSHTernaryExpression int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError SimpleNode cond SimpleNode jjtGetChild evalTrue SimpleNode jjtGetChild evalFalse SimpleNode jjtGetChild if BSHIfStatement evaluateCondition cond callstack interpreter return evalTrue eval callstack interpreter else return evalFalse eval callstack interpreter', 'bug': '0'}
{'sequence': 'public class DirectoryListSet extends BufferListSet public DirectoryListSet String directory String glob boolean recurse super listFiles directory glob recurse this directory directory this glob glob this recurse recurse public String getDirectory return directory public String getFileFilter return glob public boolean isRecursive return recurse public String getCode return MiscUtilities charsToEscapes directory MiscUtilities charsToEscapes glob recurse private String directory private String glob private boolean recurse private static Vector listFiles String directory String glob boolean recurse Log log Log DEBUG DirectoryListSet class directory Vector files new Vector RE filter try filter new RE MiscUtilities globToRE glob catch Exception Log log Log ERROR DirectoryListSet class return files listFiles new Vector files new File directory filter recurse return files private static void listFiles Vector stack Vector files File directory RE filter boolean recurse if stack contains directory Log log Log ERROR DirectoryListSet class directory getPath return else stack addElement directory String directory list if null return MiscUtilities quicksort new MiscUtilities StringICaseCompare for int length String name File file new File directory name if file isDirectory if recurse listFiles stack files file filter recurse else if filter isMatch name continue Log log Log DEBUG DirectoryListSet class file getPath String canonPath try canonPath file getCanonicalPath catch IOException io canonPath file getPath files addElement canonPath', 'bug': '0'}
{'sequence': 'public class StatusBar extends JPanel public StatusBar View view super new BorderLayout setBorder new EmptyBorder this view view Border border new BevelBorder BevelBorder LOWERED caretStatus new VICaretStatus caretStatus setBorder border add BorderLayout WEST caretStatus message new JLabel message setForeground Color black message setBorder border add BorderLayout CENTER message MouseHandler mouseHandler new MouseHandler Box box new Box BoxLayout X_AXIS mode new JLabel mode setForeground Color black mode setBorder border mode setToolTipText jEdit getProperty mode addMouseListener mouseHandler box add mode box add Box createHorizontalStrut encoding new JLabel encoding setForeground Color black encoding setBorder border encoding setToolTipText jEdit getProperty encoding addMouseListener mouseHandler box add encoding box add Box createHorizontalStrut multiSelect new JLabel multiSelect setBorder border multiSelect addMouseListener mouseHandler box add multiSelect box add Box createHorizontalStrut overwrite new JLabel overwrite setBorder border overwrite addMouseListener mouseHandler box add overwrite box add Box createHorizontalStrut fold new JLabel fold setBorder border box add fold updateBufferStatus updateMiscStatus updateFoldStatus box add Box createHorizontalStrut ioProgress new MiniIOProgress ioProgress setBorder border ioProgress addMouseListener mouseHandler box add ioProgress Dimension dim multiSelect getPreferredSize dim width ioProgress setPreferredSize dim add BorderLayout EAST box public void setMessageAndClear String message setMessage message tempTimer new Timer new ActionListener public void actionPerformed ActionEvent evt setMessage null tempTimer setInitialDelay tempTimer setRepeats false tempTimer start public void setMessage String message if tempTimer null tempTimer stop tempTimer null if message null InputHandler inputHandler view getInputHandler if inputHandler isRepeatEnabled int repeatCount inputHandler getRepeatCount this message setText jEdit getProperty new Object repeatCount String valueOf repeatCount else if view getMacroRecorder null this message setText jEdit getProperty else this message setText null else this message setText message public void repaintCaretStatus caretStatus repaint public void updateBufferStatus Buffer buffer view getBuffer mode setText buffer getMode getName encoding setText buffer getProperty toString public void updateMiscStatus JEditTextArea textArea view getTextArea if textArea isMultipleSelectionEnabled multiSelect setForeground Color black else if textArea getSelectionCount multiSelect setForeground UIManager getColor else multiSelect setForeground gray if textArea isOverwriteEnabled overwrite setForeground Color black else overwrite setForeground gray public void updateFoldStatus Buffer buffer view getBuffer if buffer getLineCount buffer getVirtualLineCount fold setForeground Color black else fold setForeground gray private View view private VICaretStatus caretStatus private JLabel message private JLabel mode private JLabel encoding private JLabel multiSelect private JLabel overwrite private JLabel fold private MiniIOProgress ioProgress private Color gray new Color private Timer tempTimer class MouseHandler extends MouseAdapter public void mouseClicked MouseEvent evt Object source evt getSource if source mode source encoding new BufferOptions view view getBuffer else if source multiSelect view getTextArea toggleMultipleSelectionEnabled else if source overwrite view getTextArea toggleOverwriteEnabled else if source ioProgress new IOProgressMonitor view class VICaretStatus extends JComponent public VICaretStatus VICaretStatus this setForeground UIManager getColor VICaretStatus this setBackground UIManager getColor VICaretStatus this setFont UIManager getFont Dimension size new Dimension VICaretStatus this getFontMetrics VICaretStatus this getFont stringWidth testStr VICaretStatus this setPreferredSize size public void paintComponent Graphics Buffer buffer view getBuffer if buffer isLoaded return FontMetrics fm getFontMetrics JEditTextArea textArea view getTextArea int currLine textArea getCaretLine int dot textArea getCaretPosition textArea getLineStartOffset currLine int virtualPosition getVirtualPosition dot buffer textArea buf setLength buf append Integer toString currLine buf append buf append Integer toString dot if virtualPosition dot buf append buf append Integer toString virtualPosition buf append int firstLine textArea getFirstLine int visible textArea getVisibleLines int lineCount textArea getVirtualLineCount if visible lineCount buf append else if firstLine buf append else if firstLine visible lineCount buf append else float percent float firstLine float lineCount buf append Integer toString int percent buf append drawString buf toString VICaretStatus this getBorder getBorderInsets this left VICaretStatus this getHeight fm getAscent private static final String testStr private Segment seg new Segment private int getVirtualPosition int dot Buffer buffer JEditTextArea textArea int line textArea getCaretLine textArea getLineText line seg int virtualPosition int tabSize buffer getTabSize for int seg count dot char ch seg array seg offset if ch virtualPosition tabSize virtualPosition tabSize else virtualPosition return virtualPosition class MiniIOProgress extends JComponent implements WorkThreadProgressListener public MiniIOProgress MiniIOProgress this setDoubleBuffered true MiniIOProgress this setForeground UIManager getColor MiniIOProgress this setBackground UIManager getColor icon GUIUtilities loadIcon public void addNotify super addNotify VFSManager getIOThreadPool addProgressListener this public void removeNotify super removeNotify VFSManager getIOThreadPool removeProgressListener this public void progressUpdate WorkThreadPool threadPool int threadIndex MiniIOProgress this repaint public void paintComponent Graphics WorkThreadPool ioThreadPool VFSManager getIOThreadPool if ioThreadPool getThreadCount return FontMetrics fm getFontMetrics if ioThreadPool getRequestCount return else icon paintIcon this MiniIOProgress this getWidth icon getIconWidth MiniIOProgress this getHeight icon getIconHeight Insets insets MiniIOProgress this getBorder getBorderInsets this int progressHeight MiniIOProgress this getHeight insets top insets bottom ioThreadPool getThreadCount int progressWidth MiniIOProgress this getWidth icon getIconWidth insets left insets right for int ioThreadPool getThreadCount WorkThread thread ioThreadPool getThread int max thread getProgressMaximum if thread isRequestRunning max continue int value thread getProgressValue double progressRatio double value max progressRatio Math min progressRatio fillRect insets left insets top progressHeight int progressRatio progressWidth progressHeight public Dimension getPreferredSize return new Dimension icon getIconHeight private Icon icon', 'bug': '1'}
{'sequence': 'class XThis extends This InvocationHandler invocationHandler new Handler XThis NameSpace namespace Interpreter declaringInterp super namespace declaringInterp public String toString return namespace name String toStringShowInts Class ints StringBuffer sb new StringBuffer toString for int ints length sb append ints getName ints length return sb toString public Object getInterface Class clas return Proxy newProxyInstance clas getClassLoader new Class clas invocationHandler class Handler implements InvocationHandler java io Serializable public Object invoke Object proxy Method method Object args throws EvalError Class sig Reflect getTypes args BshMethod bmethod namespace getMethod method getName sig if bmethod null return Primitive unwrap bmethod invokeDeclaredMethod args declaringInterpreter callstack null bmethod namespace getMethod new Class null null if bmethod null return Primitive unwrap bmethod invokeDeclaredMethod new Object method getName args declaringInterpreter callstack null if method getName equals return toStringShowInts proxy getClass getInterfaces if method getName equals return new Integer this hashCode if method getName equals Object obj args return new Boolean proxy obj throw new EvalError method getName namespace name private synchronized void writeObject ObjectOutputStream throws IOException NameSpace parent namespace getParent Interpreter interpreter declaringInterpreter namespace prune defaultWriteObject namespace setParent parent declaringInterpreter interpreter', 'bug': '0'}
{'sequence': 'public class Mode public Mode String name this name name props new Hashtable public void init try String filenameGlob String getProperty if filenameGlob null filenameGlob length filenameRE new RE MiscUtilities globToRE filenameGlob RE REG_ICASE String firstlineGlob String getProperty if firstlineGlob null firstlineGlob length firstlineRE new RE MiscUtilities globToRE firstlineGlob RE REG_ICASE catch REException re Log log Log ERROR this name Log log Log ERROR this re public TokenMarker getTokenMarker loadIfNecessary return marker public void setTokenMarker TokenMarker marker this marker marker public void loadIfNecessary if marker null jEdit loadMode this public Object getProperty String key String prefix name String property jEdit getProperty prefix key if property null Object value try value new Integer property catch NumberFormatException nf value property return value Object value props get key if value null return value String global jEdit getProperty key if global null try return new Integer global catch NumberFormatException nf return global else return null public boolean getBooleanProperty String key Object value getProperty key if equals value equals value equals value return true else return false public void setProperty String key Object value props put key value public void unsetProperty String key props remove key public boolean accept String fileName String firstLine if filenameRE null filenameRE isMatch fileName return true if firstlineRE null firstlineRE isMatch firstLine return true return false public String getName return name public String toString return getClass getName getName private String name private Hashtable props private RE firstlineRE private RE filenameRE private TokenMarker marker', 'bug': '1'}
{'sequence': 'class BSHLiteral extends SimpleNode public Object value BSHLiteral int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError if value null throw new InterpreterError value return value private char getEscapeChar char ch switch ch case ch break case ch break case ch break case ch break case ch break case case case break return ch public void charSetup String str char ch str charAt if ch ch str charAt if Character isDigit ch ch char Integer parseInt str substring else ch getEscapeChar ch value new Primitive new Character ch void stringSetup String str StringBuffer buffer new StringBuffer for int str length char ch str charAt if ch ch str charAt if Character isDigit ch int endPos while endPos if Character isDigit str charAt endPos endPos else break ch char Integer parseInt str substring endPos endPos else ch getEscapeChar ch buffer append ch value buffer toString', 'bug': '0'}
{'sequence': 'public final class FileCellRenderer extends JLabel implements TreeCellRenderer public FileCellRenderer Font font UIManager getFont setFont new Font font getFamily font getStyle font getSize UIDefaults metalDefaults new javax swing plaf metal MetalLookAndFeel getDefaults fileIcon metalDefaults getIcon dirIcon metalDefaults getIcon filesystemIcon metalDefaults getIcon loadingIcon metalDefaults getIcon setOpaque true public Component getTreeCellRendererComponent JTree tree Object value boolean sel boolean expanded boolean leaf int row boolean focus if sel setBackground treeSelectionBackground setForeground treeSelectionForeground else setBackground treeNoSelectionBackground setForeground treeNoSelectionForeground DefaultMutableTreeNode treeNode DefaultMutableTreeNode value Object userObject treeNode getUserObject if userObject instanceof VFS DirectoryEntry VFS DirectoryEntry file VFS DirectoryEntry userObject boolean opened jEdit getBuffer file path null setBorder opened openBorder closedBorder if showIcons setIcon getIconForFile file setText file name else setIcon null setText file type VFS DirectoryEntry DIRECTORY file name file name else if userObject instanceof BrowserView LoadingPlaceholder if showIcons setIcon loadingIcon else setIcon null setText jEdit getProperty setBorder closedBorder else if userObject instanceof String if showIcons setIcon dirIcon setText String userObject else setIcon null setText userObject setBorder closedBorder else setIcon null setText null return this protected Icon getIconForFile VFS DirectoryEntry file if file type VFS DirectoryEntry DIRECTORY return dirIcon else if file type VFS DirectoryEntry FILESYSTEM return filesystemIcon else return fileIcon boolean showIcons void propertiesChanged setBackground UIManager getColor showIcons jEdit getBooleanProperty if showIcons closedBorder new EmptyBorder openBorder new CompoundBorder new MatteBorder UIManager getColor new EmptyBorder else closedBorder new EmptyBorder openBorder new CompoundBorder new MatteBorder UIManager getColor new EmptyBorder treeSelectionForeground UIManager getColor treeNoSelectionForeground UIManager getColor treeSelectionBackground UIManager getColor treeNoSelectionBackground UIManager getColor private Icon fileIcon private Icon dirIcon private Icon filesystemIcon private Icon loadingIcon private Border closedBorder private Border openBorder private Color treeSelectionForeground private Color treeNoSelectionForeground private Color treeSelectionBackground private Color treeNoSelectionBackground', 'bug': '1'}
{'sequence': 'public class TextUtilities public static int findMatchingBracket Buffer buffer int line int offset throws BadLocationException return findMatchingBracket buffer line offset buffer getDefaultRootElement getElementCount public static int findMatchingBracket Buffer buffer int line int offset int startLine int endLine throws BadLocationException if buffer getLength return Element map buffer getDefaultRootElement Element lineElement map getElement line Segment lineText new Segment int lineStart lineElement getStartOffset buffer getText lineStart lineElement getEndOffset lineStart lineText char lineText array lineText offset offset switch case cprime direction false break case cprime direction true break case cprime direction false break case cprime direction true break case cprime direction false break case cprime direction true break default return int count byte idOfBracket Token NULL Buffer LineInfo lineInfo buffer markTokens line Token lineTokens lineInfo getFirstToken int tokenListOffset for if lineTokens id Token END throw new InternalError if tokenListOffset lineTokens length offset idOfBracket lineTokens id break else tokenListOffset lineTokens length lineTokens lineTokens next if direction count for int line startLine lineElement map getElement lineStart lineElement getStartOffset int lineLength lineElement getEndOffset lineStart buffer getText lineStart lineLength lineText int scanStartOffset if line lineTokens buffer markTokens getLastToken tokenListOffset scanStartOffset lineLength else if tokenListOffset lineLength tokenListOffset lineTokens length scanStartOffset offset while lineTokens null byte id lineTokens id if id Token END lineTokens lineTokens prev continue int len lineTokens length if id idOfBracket for int scanStartOffset Math max tokenListOffset len if lineText count System err println lineText count else if System err println scanStartOffset tokenListOffset len System err println char ch lineText array lineText offset if ch count else if ch cprime if count return lineStart scanStartOffset tokenListOffset tokenListOffset len lineTokens lineTokens prev else count for int line endLine lineElement map getElement lineStart lineElement getStartOffset buffer getText lineStart lineElement getEndOffset lineStart lineText int scanStartOffset if line lineTokens buffer markTokens getFirstToken tokenListOffset scanStartOffset else scanStartOffset offset for byte id lineTokens id if id Token END break int len lineTokens length if id idOfBracket for int scanStartOffset tokenListOffset len char ch lineText array lineText offset if ch count else if ch cprime if count return lineStart scanStartOffset tokenListOffset tokenListOffset len lineTokens lineTokens next return public static int findWordStart String line int pos String noWordSep char ch line charAt pos if noWordSep null noWordSep boolean selectNoLetter Character isLetterOrDigit ch noWordSep indexOf ch int wordStart for int pos ch line charAt if selectNoLetter Character isLetterOrDigit ch noWordSep indexOf ch wordStart break return wordStart public static int findWordEnd String line int pos String noWordSep if pos pos char ch line charAt pos if noWordSep null noWordSep boolean selectNoLetter Character isLetterOrDigit ch noWordSep indexOf ch int wordEnd line length for int pos line length ch line charAt if selectNoLetter Character isLetterOrDigit ch noWordSep indexOf ch wordEnd break return wordEnd public static boolean regionMatches boolean ignoreCase Segment text int offset char match int length offset match length char textArray text array if length text offset text count return false for int offset length char c1 textArray char c2 match if ignoreCase c1 Character toUpperCase c1 c2 Character toUpperCase c2 if c1 c2 return false return true public static String spacesToTabs String in int tabSize StringBuffer buf new StringBuffer int width int whitespace for int in length switch in charAt case whitespace width break case int tab tabSize width tabSize width tab whitespace tab break case if whitespace buf append MiscUtilities createWhiteSpace whitespace tabSize whitespace width buf append break default if whitespace buf append MiscUtilities createWhiteSpace whitespace tabSize whitespace buf append in charAt width break if whitespace buf append MiscUtilities createWhiteSpace whitespace tabSize return buf toString public static String tabsToSpaces String in int tabSize StringBuffer buf new StringBuffer int width for int in length switch in charAt case int count tabSize width tabSize width count while count buf append break case width buf append in charAt break default width buf append in charAt break return buf toString public static String format String text int maxLineLength StringBuffer buf new StringBuffer StringBuffer word new StringBuffer int lineLength boolean newline true boolean space false char chars text toCharArray for int chars length char chars switch case if chars length if lineLength word length maxLineLength buf append else if space word length buf append buf append word word setLength buf append newline true space false break else if newline if lineLength word length maxLineLength buf append else if space word length buf append buf append word word setLength buf append newline space false lineLength break else newline true case if lineLength word length maxLineLength buf append lineLength newline true else if space lineLength word length buf append lineLength space false else space true buf append word lineLength word length word setLength break default newline false if lineLength space true word append break if lineLength word length maxLineLength buf append else if space word length buf append buf append word return buf toString', 'bug': '1'}
{'sequence': 'public class TextAreaOptionPane extends AbstractOptionPane public TextAreaOptionPane super public void String jEdit getProperty int try Integer parseInt jEdit getProperty catch NumberFormatException nf Font PLAIN int try Integer parseInt jEdit getProperty catch NumberFormatException nf font new FontSelector new Font addComponent jEdit getProperty font lineHighlight new JCheckBox jEdit getProperty lineHighlight setSelected jEdit getBooleanProperty addComponent lineHighlight bracketHighlight new JCheckBox jEdit getProperty bracketHighlight setSelected jEdit getBooleanProperty addComponent bracketHighlight eolMarkers new JCheckBox jEdit getProperty eolMarkers setSelected jEdit getBooleanProperty addComponent eolMarkers wrapGuide new JCheckBox jEdit getProperty wrapGuide setSelected jEdit getBooleanProperty addComponent wrapGuide blinkCaret new JCheckBox jEdit getProperty blinkCaret setSelected jEdit getBooleanProperty addComponent blinkCaret blockCaret new JCheckBox jEdit getProperty blockCaret setSelected jEdit getBooleanProperty addComponent blockCaret electricBorders new JCheckBox jEdit getProperty electricBorders setSelected equals jEdit getProperty addComponent electricBorders homeEnd new JCheckBox jEdit getProperty homeEnd setSelected jEdit getBooleanProperty addComponent homeEnd middleMousePaste new JCheckBox jEdit getProperty middleMousePaste setSelected jEdit getBooleanProperty addComponent middleMousePaste antiAlias new JCheckBox jEdit getProperty antiAlias setSelected jEdit getBooleanProperty fracFontMetrics new JCheckBox jEdit getProperty fracFontMetrics setSelected jEdit getBooleanProperty if System getProperty compareTo addComponent antiAlias addComponent fracFontMetrics public void Font font getFont jEdit setProperty getFamily jEdit setProperty String valueOf getSize jEdit setProperty String valueOf getStyle jEdit setBooleanProperty lineHighlight isSelected jEdit setBooleanProperty bracketHighlight isSelected jEdit setBooleanProperty eolMarkers isSelected jEdit setBooleanProperty wrapGuide isSelected jEdit setBooleanProperty blinkCaret isSelected jEdit setBooleanProperty blockCaret isSelected jEdit setProperty electricBorders isSelected jEdit setBooleanProperty homeEnd isSelected jEdit setBooleanProperty middleMousePaste isSelected jEdit setBooleanProperty antiAlias isSelected jEdit setBooleanProperty fracFontMetrics isSelected private FontSelector font private JCheckBox lineHighlight private JCheckBox bracketHighlight private JCheckBox eolMarkers private JCheckBox wrapGuide private JCheckBox blinkCaret private JCheckBox blockCaret private JCheckBox electricBorders private JCheckBox homeEnd private JCheckBox middleMousePaste private JCheckBox antiAlias private JCheckBox fracFontMetrics', 'bug': '0'}
{'sequence': 'class CharIndexedReader implements CharIndexed private static final int BUFFER_INCREMENT private final BufferedReader br private int index private int bufsize BUFFER_INCREMENT private int end UNKNOWN private char cached OUT_OF_BOUNDS private char lookBehind new char OUT_OF_BOUNDS OUT_OF_BOUNDS CharIndexedReader Reader reader int index if reader instanceof BufferedReader br BufferedReader reader else br new BufferedReader reader BUFFER_INCREMENT next if index move index private boolean next lookBehind lookBehind lookBehind cached if end cached OUT_OF_BOUNDS return false try if index br reset int br read br mark bufsize if end cached OUT_OF_BOUNDS return false cached char index catch IOException printStackTrace cached OUT_OF_BOUNDS return false return true public char charAt int index if index return cached else if index end return OUT_OF_BOUNDS else if index bufsize try while bufsize index bufsize BUFFER_INCREMENT br reset br mark bufsize br skip index catch IOException else if this index index try br reset br skip index catch IOException else if index return lookBehind else if index return lookBehind else if index return OUT_OF_BOUNDS char ch OUT_OF_BOUNDS try int br read if end index return ch ch char catch IOException ie return ch public boolean move int index boolean retval true while retval index retval next return retval public boolean isValid return cached OUT_OF_BOUNDS', 'bug': '0'}
{'sequence': 'public class Log public static final int MAXLINES public static final int DEBUG public static final int MESSAGE public static final int NOTICE public static final int WARNING public static final int ERROR public static void init boolean stdio int level if stdio if System out realOut System err realErr System setOut createPrintStream NOTICE null System setErr createPrintStream ERROR null Log level level Log stream stream log MESSAGE Log class String props for int props length log MESSAGE Log class props System getProperty props public static void setLogWriter Writer stream if Log stream null stream null try stream write logDocument getText logDocument getLength stream flush catch Exception Log stream stream public static Document getLogDocument return logDocument public static void flushStream if stream null try stream flush catch IOException io io printStackTrace realErr public static void closeStream if stream null try stream close stream null catch IOException io io printStackTrace realErr public static void log int urgency Object source Object message String if source null Thread currentThread getName if null Thread currentThread getClass getName else if source instanceof Class Class source getName else source getClass getName int index lastIndexOf if index substring index if message instanceof Throwable urgency source Throwable message else String String valueOf message synchronized LOCK StringTokenizer st new StringTokenizer while st hasMoreTokens urgency st nextToken private static Object LOCK new Object private static Document logDocument private static int level private static Writer stream private static String lineSep private static PrintStream realOut private static PrintStream realErr static level WARNING realOut System out realErr System err logDocument new PlainDocument lineSep System getProperty private static PrintStream createPrintStream final int urgency final Object source return new PrintStream new OutputStream public void write int byte barray byte write barray public void write byte int off int len String str new String off len log urgency source str private static void final int urgency final Object source final Throwable message PrintStream out createPrintStream urgency source synchronized LOCK message printStackTrace out private static void int urgency String source String message String urgencyString urgencyToString urgency String fullMessage urgencyString source message try logDocument insertString logDocument getLength fullMessage null logDocument insertString logDocument getLength null Element map logDocument getDefaultRootElement int lines map getElementCount if lines MAXLINES Element first map getElement Element last map getElement lines MAXLINES logDocument remove first getStartOffset last getEndOffset if stream null stream write fullMessage stream write lineSep catch Exception printStackTrace realErr message urgencyString message if urgency level if urgency ERROR realErr print message else realOut print message private static String urgencyToString int urgency switch urgency case DEBUG return case MESSAGE return case NOTICE return case WARNING return case ERROR return throw new IllegalArgumentException urgency', 'bug': '0'}
{'sequence': 'public class EvalError extends Exception SimpleNode node public EvalError String super public EvalError String SimpleNode node super this node node public String toString String trace if node null trace node getLineNumber node getSourceFile node getText else trace return getMessage trace public void reThrow String msg throws EvalError reThrow msg null public void reThrow SimpleNode node throws EvalError reThrow null node public void reThrow String addMsg SimpleNode addNode throws EvalError String msg getMessage if addMsg null msg addMsg msg SimpleNode node this node if node null addNode null node addNode throw new EvalError msg node void setNode SimpleNode node this node node SimpleNode getNode return node public String getErrorText if node null return node getText else return public int getErrorLineNumber if node null return node getLineNumber else return public String getErrorSourceFile if node null return node getSourceFile else return', 'bug': '0'}
{'sequence': 'public class KeywordMap public KeywordMap boolean ignoreCase this ignoreCase this ignoreCase ignoreCase public KeywordMap boolean ignoreCase int mapLength this mapLength mapLength this ignoreCase ignoreCase map new Keyword mapLength public byte lookup Segment text int offset int length if length return Token NULL Keyword map getSegmentMapKey text offset length while null if length keyword length next continue if TextUtilities regionMatches ignoreCase text offset keyword return id next return Token NULL public void add String keyword byte id int key getStringMapKey keyword map key new Keyword keyword toCharArray id map key public boolean getIgnoreCase return ignoreCase public void setIgnoreCase boolean ignoreCase this ignoreCase ignoreCase protected int mapLength protected int getStringMapKey String return Character toUpperCase charAt Character toUpperCase charAt length mapLength protected int getSegmentMapKey Segment int off int len return Character toUpperCase array off Character toUpperCase array off len mapLength class Keyword public Keyword char keyword byte id Keyword next this keyword keyword this id id this next next public char keyword public byte id public Keyword next private Keyword map private boolean ignoreCase', 'bug': '0'}
{'sequence': 'public class JARClassLoader extends ClassLoader public JARClassLoader public JARClassLoader String path throws IOException zipFile new ZipFile path Enumeration entires zipFile entries while entires hasMoreElements ZipEntry entry ZipEntry entires nextElement String name entry getName String lname name toLowerCase if lname equals jEdit loadActions path new BufferedReader new InputStreamReader zipFile getInputStream entry true else if lname endsWith jEdit loadProps zipFile getInputStream entry true else if name endsWith pluginClasses addElement name jar new EditPlugin JAR path this jEdit addPluginJAR jar public Class loadClass String clazz boolean resolveIt throws ClassNotFoundException return loadClass clazz resolveIt true public InputStream getResourceAsStream String name if zipFile null return null try ZipEntry entry zipFile getEntry name if entry null return getSystemResourceAsStream name else return zipFile getInputStream entry catch IOException io Log log Log ERROR this io return null public URL getResource String name if zipFile null return null ZipEntry entry zipFile getEntry name if entry null return getSystemResource name try return new URL getResourceAsPath name catch MalformedURLException mu Log log Log ERROR this mu return null public String getResourceAsPath String name if zipFile null return null if name startsWith name name return MiscUtilities getFileName jar getPath name public void closeZipFile if zipFile null return try zipFile close catch IOException io Log log Log ERROR this io zipFile null public ZipFile getZipFile return zipFile void startAllPlugins for int pluginClasses size String name String pluginClasses elementAt name MiscUtilities fileToClass name try loadPluginClass name catch Throwable Log log Log ERROR this name Log log Log ERROR this jar addPlugin new EditPlugin Broken name String args name toString GUIUtilities error null args private EditPlugin JAR jar private Vector pluginClasses new Vector private ZipFile zipFile private void loadPluginClass String name throws Exception EditPlugin plugins jEdit getPlugins for int plugins length if plugins getClass getName equals name String args name GUIUtilities error null args return if checkDependencies name jar addPlugin new EditPlugin Broken name return Class clazz loadClass name true int modifiers clazz getModifiers if Modifier isInterface modifiers Modifier isAbstract modifiers EditPlugin class isAssignableFrom clazz String version jEdit getProperty name if version null Log log Log WARNING this name version else version version Log log Log NOTICE this name version jar addPlugin EditPlugin clazz newInstance private boolean checkDependencies String name int String dep while dep jEdit getProperty name null int index dep indexOf if index Log log Log ERROR this name dep return false String what dep substring index String arg dep substring index if what equals if System getProperty compareTo arg String args name arg System getProperty GUIUtilities error null args return false else if what equals if jEdit getBuild compareTo arg String needs MiscUtilities buildToVersion arg String args name needs jEdit getVersion GUIUtilities error null args return false else if what equals int index2 arg indexOf if index2 Log log Log ERROR this name dep return false String plugin arg substring index2 String needVersion arg substring index2 String currVersion jEdit getProperty plugin if currVersion null String args name needVersion plugin GUIUtilities error null args return false if MiscUtilities compareVersions currVersion needVersion String args name needVersion plugin currVersion GUIUtilities error null args return false if jEdit getPlugin plugin instanceof EditPlugin Broken String args name plugin GUIUtilities error null args return false else if what equals try loadClass arg false catch Exception String args name arg GUIUtilities error null args return false else Log log Log ERROR this name dep return false return true private Class findOtherClass String clazz boolean resolveIt throws ClassNotFoundException EditPlugin JAR jars jEdit getPluginJARs for int jars length JARClassLoader loader jars getClassLoader Class cls loader loadClass clazz resolveIt false if cls null return cls ClassLoader loader getClass getClassLoader if loader null return loader loadClass clazz return findSystemClass clazz private Class loadClass String clazz boolean resolveIt boolean doDepencies throws ClassNotFoundException Class cls findLoadedClass clazz if cls null if resolveIt resolveClass cls return cls if zipFile null if doDepencies return findOtherClass clazz resolveIt else return null String name MiscUtilities classToFile clazz try ZipEntry entry zipFile getEntry name if entry null if doDepencies return findOtherClass clazz resolveIt else return null InputStream in zipFile getInputStream entry int len int entry getSize byte data new byte len int success int offset while success len len success offset success success in read data offset len if success Log log Log ERROR this clazz zipFile getName throw new ClassNotFoundException clazz cls defineClass clazz data data length if resolveIt resolveClass cls return cls catch IOException io Log log Log ERROR this io throw new ClassNotFoundException clazz', 'bug': '1'}
{'sequence': 'public class DefaultInputHandler extends InputHandler public DefaultInputHandler View view super view bindings currentBindings new Hashtable public DefaultInputHandler View view DefaultInputHandler copy super view bindings currentBindings copy bindings public void addKeyBinding String keyBinding EditAction action Hashtable current bindings StringTokenizer st new StringTokenizer keyBinding while st hasMoreTokens KeyStroke keyStroke parseKeyStroke st nextToken if keyStroke null return if st hasMoreTokens Object current get keyStroke if instanceof Hashtable current Hashtable else new Hashtable current put keyStroke current Hashtable else current put keyStroke action public void removeKeyBinding String keyBinding throw new InternalError public void removeAllKeyBindings bindings clear public Object getKeyBinding String keyBinding Hashtable current bindings StringTokenizer st new StringTokenizer keyBinding while st hasMoreTokens KeyStroke keyStroke parseKeyStroke st nextToken if keyStroke null return null if st hasMoreTokens Object current get keyStroke if instanceof Hashtable current Hashtable else return else return current get keyStroke return null public boolean isPrefixActive return bindings currentBindings public void keyPressed KeyEvent evt int keyCode evt getKeyCode int modifiers evt getModifiers if modifiers bindings currentBindings keyCode KeyEvent VK_ENTER keyCode KeyEvent VK_TAB userInput char keyCode evt consume return if modifiers KeyEvent SHIFT_MASK switch keyCode case KeyEvent VK_BACK_SPACE case KeyEvent VK_DELETE case KeyEvent VK_ESCAPE case KeyEvent VK_ENTER case KeyEvent VK_TAB break default if evt isActionKey return else break if readNextChar null readNextChar null view getStatus setMessage null KeyStroke keyStroke KeyStroke getKeyStroke keyCode modifiers Object currentBindings get keyStroke if null if currentBindings bindings Toolkit getDefaultToolkit beep repeatCount repeat false evt consume currentBindings bindings return else if instanceof EditAction currentBindings bindings invokeAction EditAction evt consume return else if instanceof Hashtable currentBindings Hashtable evt consume return public void keyTyped KeyEvent evt char evt getKeyChar if return KeyStroke keyStroke if keyStroke KeyStroke getKeyStroke KeyEvent VK_SPACE else keyStroke KeyStroke getKeyStroke Object currentBindings get keyStroke if instanceof Hashtable currentBindings Hashtable return else if instanceof EditAction currentBindings bindings invokeAction EditAction return currentBindings bindings if repeat Character isDigit repeatCount repeatCount view getStatus setMessage null else userInput public static KeyStroke parseKeyStroke String keyStroke if keyStroke null return null int modifiers int index keyStroke indexOf if index for int index switch Character toUpperCase keyStroke charAt case modifiers InputEvent ALT_MASK break case if macOS modifiers InputEvent META_MASK else modifiers InputEvent CTRL_MASK break case if macOS modifiers InputEvent CTRL_MASK else modifiers InputEvent META_MASK break case modifiers InputEvent SHIFT_MASK break String key keyStroke substring index if key length char ch key charAt if modifiers return KeyStroke getKeyStroke ch else return KeyStroke getKeyStroke Character toUpperCase ch modifiers else if key length Log log Log ERROR DefaultInputHandler class keyStroke return null else int ch try ch KeyEvent class getField concat key getInt null catch Exception Log log Log ERROR DefaultInputHandler class keyStroke return null return KeyStroke getKeyStroke ch modifiers private Hashtable bindings private Hashtable currentBindings private static boolean macOS static macOS System getProperty indexOf', 'bug': '1'}
{'sequence': 'public interface ConsoleInterface public Reader getIn public PrintStream getOut public PrintStream getErr public void println String public void print String public void error String', 'bug': '0'}
{'sequence': 'class BSHBlock extends SimpleNode BSHBlock int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError return eval callstack interpreter false public Object eval CallStack callstack Interpreter interpreter boolean overrideNamespace throws EvalError Object ret Primitive VOID int statements jjtGetNumChildren NameSpace enclosingNameSpace null if overrideNamespace enclosingNameSpace callstack top BlockNameSpace bodyNameSpace new BlockNameSpace enclosingNameSpace callstack swap bodyNameSpace for int statements SimpleNode node SimpleNode jjtGetChild ret node eval callstack interpreter if ret instanceof ReturnControl break if overrideNamespace callstack swap enclosingNameSpace return ret', 'bug': '0'}
{'sequence': 'class BSHFormalParameters extends SimpleNode int numArgs String argNames Class argTypes BSHFormalParameters int id super id public Object eval NameSpace namespace throws EvalError numArgs jjtGetNumChildren argNames new String numArgs argTypes new Class numArgs for int numArgs BSHFormalParameter param BSHFormalParameter jjtGetChild param eval namespace argNames param name argTypes param type return Primitive VOID', 'bug': '0'}
{'sequence': 'public abstract class ReflectManager private static ReflectManager rfm public static ReflectManager getReflectManager if rfm null Class clas try clas BshClassManager plainClassForName rfm ReflectManager clas newInstance catch Exception throw new Unavailable return rfm public static boolean RMSetAccessible Object obj throws Unavailable return getReflectManager setAccessible obj public abstract boolean setAccessible Object', 'bug': '0'}
{'sequence': 'public class PluginManager extends JDialog public PluginManager View view super view jEdit getProperty true JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JLabel caption new JLabel jEdit getProperty caption setBorder new EmptyBorder content add BorderLayout NORTH caption tree new JTree tree setCellRenderer new Renderer tree setRootVisible false tree setVisibleRowCount tree addTreeSelectionListener new TreeHandler JPanel panel new JPanel new BorderLayout panel add BorderLayout CENTER new JScrollPane tree JPanel panel2 new JPanel new BorderLayout panel2 setBorder new EmptyBorder JPanel labelBox new JPanel new GridLayout labelBox setBorder new EmptyBorder labelBox add new JLabel jEdit getProperty SwingConstants RIGHT labelBox add new JLabel jEdit getProperty SwingConstants RIGHT labelBox add new JLabel jEdit getProperty SwingConstants RIGHT panel2 add BorderLayout WEST labelBox JPanel valueBox new JPanel new GridLayout valueBox add name new JLabel valueBox add author new JLabel valueBox add version new JLabel panel2 add BorderLayout CENTER valueBox panel add BorderLayout SOUTH panel2 content add BorderLayout CENTER panel JPanel buttons new JPanel buttons setLayout new BoxLayout buttons BoxLayout X_AXIS buttons setBorder new EmptyBorder buttons add Box createGlue remove new JButton jEdit getProperty remove addActionListener new ActionHandler buttons add remove buttons add Box createHorizontalStrut update new JButton jEdit getProperty update addActionListener new ActionHandler buttons add update buttons add Box createHorizontalStrut install new JButton jEdit getProperty install addActionListener new ActionHandler buttons add install buttons add Box createHorizontalStrut close new JButton jEdit getProperty close addActionListener new ActionHandler buttons add close buttons add Box createGlue content add BorderLayout SOUTH buttons updateTree setDefaultCloseOperation DISPOSE_ON_CLOSE pack setLocationRelativeTo view show private JTree tree private JLabel name private JLabel author private JLabel version private JButton remove private JButton update private JButton install private JButton close private void updateTree DefaultMutableTreeNode treeRoot new DefaultMutableTreeNode DefaultTreeModel treeModel new DefaultTreeModel treeRoot DefaultMutableTreeNode loadedTree new DefaultMutableTreeNode jEdit getProperty true DefaultMutableTreeNode notLoadedTree new DefaultMutableTreeNode jEdit getProperty true DefaultMutableTreeNode newTree new DefaultMutableTreeNode jEdit getProperty true EditPlugin plugins jEdit getPlugins for int plugins length EditPlugin plugin plugins String path plugin getJAR getPath if new File path exists continue if plugin instanceof EditPlugin Broken Entry entry new Entry path plugin getClassName true notLoadedTree add new DefaultMutableTreeNode entry else Entry entry new Entry path plugin getClassName false loadedTree add new DefaultMutableTreeNode entry if notLoadedTree getChildCount treeRoot add notLoadedTree if loadedTree getChildCount treeRoot add loadedTree String newPlugins jEdit getNotLoadedPluginJARs for int newPlugins length Entry entry new Entry newPlugins null false newTree add new DefaultMutableTreeNode entry if newTree getChildCount treeRoot add newTree tree setModel treeModel for int tree getRowCount tree expandRow remove setEnabled false name setText null author setText null version setText null class Entry String clazz String name version author Vector jars boolean broken Entry String path String clazz boolean broken Entry this clazz clazz Entry this broken broken jars new Vector jars addElement path if clazz null Entry this name path else Entry this name jEdit getProperty clazz if name null name clazz Entry this version jEdit getProperty clazz Entry this author jEdit getProperty clazz String jarsProp jEdit getProperty clazz if jarsProp null String directory MiscUtilities getParentOfPath path StringTokenizer st new StringTokenizer jarsProp while st hasMoreElements jars addElement MiscUtilities constructPath directory st nextToken public String toString return Entry this name class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source close dispose else if source remove TreePath selected tree getSelectionModel getSelectionPaths StringBuffer buf new StringBuffer Roster roster new Roster for int selected length Object last DefaultMutableTreeNode selected getLastPathComponent getUserObject if last instanceof Entry Entry entry Entry last for int entry jars size String jar String entry jars elementAt if buf length buf append buf append jar roster addOperation new Roster Remove jar String args buf toString if GUIUtilities confirm PluginManager this args JOptionPane YES_NO_OPTION JOptionPane QUESTION_MESSAGE JOptionPane YES_OPTION new PluginManagerProgress PluginManager this jEdit getProperty roster updateTree else if source update PluginList list new PluginListDownloadProgress PluginManager this getPluginList if list null return if jEdit getSettingsDirectory null GUIUtilities error PluginManager this null return Vector plugins new Vector for int list plugins size PluginList Plugin plugin PluginList Plugin list plugins elementAt PluginList Branch branch plugin getCompatibleBranch if branch null plugin installedVersion null MiscUtilities compareVersions branch version plugin installedVersion plugins addElement plugin if plugins size GUIUtilities message PluginManager this null return Roster roster new Roster new InstallPluginsDialog PluginManager this plugins InstallPluginsDialog UPDATE installPlugins roster if roster isEmpty return new PluginManagerProgress PluginManager this jEdit getProperty roster updateTree else if source install PluginList list new PluginListDownloadProgress PluginManager this getPluginList if list null return if jEdit getSettingsDirectory null jEdit getJEditHome null GUIUtilities error PluginManager this null return Vector plugins new Vector for int list plugins size PluginList Plugin plugin PluginList Plugin list plugins elementAt if plugin installed null plugin canBeInstalled plugins addElement plugin Roster roster new Roster new InstallPluginsDialog PluginManager this plugins InstallPluginsDialog INSTALL installPlugins roster if roster isEmpty return new PluginManagerProgress PluginManager this jEdit getProperty roster updateTree class TreeHandler implements TreeSelectionListener public void valueChanged TreeSelectionEvent evt TreePath selection evt getPath DefaultMutableTreeNode node if selection null node null else node DefaultMutableTreeNode selection getLastPathComponent name setText null author setText null version setText null if node null node isLeaf node getUserObject instanceof Entry remove setEnabled true Entry entry Entry node getUserObject if entry clazz null name setText entry name author setText entry author version setText entry version else remove setEnabled false class Renderer extends DefaultTreeCellRenderer public Component getTreeCellRendererComponent JTree tree Object value boolean selected boolean expanded boolean leaf int row boolean hasFocus super getTreeCellRendererComponent tree value selected expanded leaf row hasFocus setIcon null return this', 'bug': '1'}
{'sequence': 'class BSHPrimaryExpression extends SimpleNode BSHPrimaryExpression int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError Object obj jjtGetChild int jjtGetNumChildren for int obj BSHPrimarySuffix jjtGetChild doSuffix obj callstack interpreter if obj instanceof SimpleNode if obj instanceof BSHAmbiguousName obj BSHAmbiguousName obj toObject callstack interpreter else obj SimpleNode obj eval callstack interpreter return obj', 'bug': '0'}
{'sequence': 'public class CurrentBufferSet implements SearchFileSet public Buffer getFirstBuffer View view return view getBuffer public Buffer getNextBuffer View view Buffer buffer if buffer null return view getBuffer else return null public void matchFound Buffer buffer public int getBufferCount return public String getCode return', 'bug': '0'}
{'sequence': 'public class SearchBar extends JPanel public SearchBar View view super new BorderLayout this view view JLabel label new JLabel jEdit getProperty label setBorder new EmptyBorder add label BorderLayout WEST Box box new Box BoxLayout Y_AXIS box add Box createGlue box add find new HistoryTextField Dimension min find getPreferredSize min width Integer MAX_VALUE find setMaximumSize min ActionHandler actionHandler new ActionHandler find addKeyListener new KeyHandler find addActionListener actionHandler find getDocument addDocumentListener new DocumentHandler box add Box createGlue add box BorderLayout CENTER Insets margin new Insets Box buttons new Box BoxLayout X_AXIS buttons add Box createHorizontalStrut buttons add ignoreCase new JCheckBox jEdit getProperty ignoreCase addActionListener actionHandler ignoreCase setMargin margin buttons add Box createHorizontalStrut buttons add regexp new JCheckBox jEdit getProperty regexp addActionListener actionHandler regexp setMargin margin buttons add Box createHorizontalStrut buttons add hyperSearch new JCheckBox jEdit getProperty hyperSearch addActionListener actionHandler hyperSearch setMargin margin update add buttons BorderLayout EAST public HistoryTextField getField return find public void setHyperSearch boolean hyperSearch jEdit setBooleanProperty hyperSearch this hyperSearch setSelected hyperSearch find setModel this hyperSearch isSelected null public void update ignoreCase setSelected SearchAndReplace getIgnoreCase regexp setSelected SearchAndReplace getRegexp hyperSearch setSelected jEdit getBooleanProperty find setModel hyperSearch isSelected null private View view private HistoryTextField find private JCheckBox ignoreCase regexp hyperSearch private void find boolean reverse String text find getText if text length jEdit setBooleanProperty hyperSearch isSelected new SearchDialog view null else if hyperSearch isSelected find setText null SearchAndReplace setSearchString text SearchAndReplace setSearchFileSet new CurrentBufferSet SearchAndReplace hyperSearch view else int start JEditTextArea textArea view getTextArea Selection textArea getSelectionAtOffset textArea getCaretPosition if null start textArea getCaretPosition else if reverse start getStart else start getEnd if incrementalSearch start reverse if incrementalSearch reverse view getBuffer getLength reverse getToolkit beep private boolean incrementalSearch int start boolean reverse SearchAndReplace setSearchFileSet new CurrentBufferSet SearchAndReplace setSearchString find getText SearchAndReplace setReverseSearch reverse try if SearchAndReplace find view view getBuffer start return true catch BadLocationException bl Log log Log ERROR this bl catch Exception Log log Log DEBUG this return true return false class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if evt getSource find find false else if evt getSource hyperSearch jEdit setBooleanProperty hyperSearch isSelected update else if evt getSource ignoreCase SearchAndReplace setIgnoreCase ignoreCase isSelected else if evt getSource regexp SearchAndReplace setRegexp regexp isSelected class DocumentHandler implements DocumentListener public void insertUpdate DocumentEvent evt if hyperSearch isSelected int start JEditTextArea textArea view getTextArea Selection textArea getSelectionAtOffset textArea getCaretPosition if null start textArea getCaretPosition else start getStart if incrementalSearch start false if incrementalSearch false getToolkit beep public void removeUpdate DocumentEvent evt if hyperSearch isSelected String text find getText if text length if regexp isSelected incrementalSearch false else int start JEditTextArea textArea view getTextArea Selection textArea getSelectionAtOffset textArea getCaretPosition if null start textArea getCaretPosition else start getStart incrementalSearch start true public void changedUpdate DocumentEvent evt class KeyHandler extends KeyAdapter public void keyPressed KeyEvent evt switch evt getKeyCode case KeyEvent VK_LEFT case KeyEvent VK_RIGHT case KeyEvent VK_UP case KeyEvent VK_DOWN if hyperSearch isSelected evt consume view getEditPane focusOnTextArea view getEditPane getTextArea processKeyEvent evt break case KeyEvent VK_ESCAPE evt consume view getEditPane focusOnTextArea break case KeyEvent VK_ENTER if evt isShiftDown evt consume find true break', 'bug': '1'}
{'sequence': 'public class MarkerHighlight implements TextAreaHighlight public void init JEditTextArea textArea TextAreaHighlight next this textArea textArea this next next public void paintHighlight Graphics gfx int line int if textArea getBuffer isLoaded highlightEnabled Buffer buffer textArea getBuffer if buffer getMarkerAtLine buffer virtualToPhysical line null int firstLine textArea getFirstLine line firstLine FontMetrics fm textArea getPainter getFontMetrics gfx setColor markerHighlightColor gfx fillRect line fm getHeight textArea getGutter getWidth fm getHeight if next null next paintHighlight gfx line public String getToolTipText MouseEvent evt if textArea getBuffer isLoaded highlightEnabled FontMetrics fm textArea getPainter getFontMetrics int line textArea getFirstLine evt getY fm getHeight Buffer buffer textArea getBuffer Marker marker buffer getMarkerAtLine buffer virtualToPhysical line if marker null char shortcut marker getShortcut if shortcut return jEdit getProperty else String args String valueOf shortcut return jEdit getProperty args if next null return next getToolTipText evt else return null public Color getMarkerHighlightColor return markerHighlightColor public void setMarkerHighlightColor Color markerHighlightColor this markerHighlightColor markerHighlightColor public boolean isHighlightEnabled return highlightEnabled public void setHighlightEnabled boolean highlightEnabled this highlightEnabled highlightEnabled private JEditTextArea textArea private TextAreaHighlight next private boolean highlightEnabled private Color markerHighlightColor', 'bug': '0'}
{'sequence': 'public class AboutDialog extends EnhancedDialog public AboutDialog View view super view jEdit getProperty true JPanel content new JPanel new BorderLayout content setBackground Color white content setBorder new EmptyBorder setContentPane content JPanel panel new JPanel new BorderLayout panel setBackground Color white String args jEdit getVersion JLabel label new JLabel jEdit getProperty args SwingConstants CENTER label setBorder new EmptyBorder panel add BorderLayout NORTH label JLabel splash new JLabel new ImageIcon getClass getResource panel add BorderLayout CENTER splash label new JLabel jEdit getProperty SwingConstants CENTER label setBorder new EmptyBorder panel add BorderLayout SOUTH label content add BorderLayout CENTER panel Box box new Box BoxLayout X_AXIS box add Box createGlue close new JButton jEdit getProperty close addActionListener new ActionHandler getRootPane setDefaultButton close box add close box add Box createGlue content add BorderLayout SOUTH box pack setResizable false setLocationRelativeTo view show public void ok dispose public void cancel dispose private JButton close class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt dispose', 'bug': '1'}
{'sequence': 'public class BeanShell public static void evalSelection View view JEditTextArea textArea String command textArea getSelectedText if command null view getToolkit beep return Object returnValue eval view command false if returnValue null textArea setSelectedText returnValue toString public static void showEvaluateDialog View view String command GUIUtilities input view null if command null if command endsWith command command int repeat view getInputHandler getRepeatCount if view getMacroRecorder null view getMacroRecorder record repeat command Object returnValue null try for int repeat returnValue eval view command true catch Error if returnValue null String args returnValue toString GUIUtilities message view args public static void showRunScriptDialog View view String paths GUIUtilities showVFSFileDialog view null JFileChooser OPEN_DIALOG true if paths null Buffer buffer view getBuffer try buffer beginCompoundEdit for int paths length runScript view paths true false finally buffer endCompoundEdit public static void runScript View view String path boolean ownNamespace boolean rethrowBshErrors Reader in Buffer buffer jEdit getBuffer path VFS vfs VFSManager getVFSForPath path Object session vfs createVFSSession path view if session null return try if buffer null buffer isLoaded StringBuffer buf new StringBuffer try buf append buffer getText buffer getLength catch BadLocationException throw new InternalError buf append in new StringReader buf toString else in new BufferedReader new InputStreamReader vfs session path true view runScript view path in ownNamespace rethrowBshErrors catch IOException Log log Log ERROR BeanShell class GUIUtilities error view new String path toString return finally try vfs session view catch IOException io Log log Log ERROR BeanShell class io GUIUtilities error view new String path io toString public static void runScript View view String path Reader in boolean ownNamespace boolean rethrowBshErrors Log log Log MESSAGE BeanShell class path NameSpace namespace if ownNamespace namespace new NameSpace global else namespace global Interpreter interp createInterpreter namespace try if view null EditPane editPane view getEditPane interp set view interp set editPane interp set editPane getBuffer interp set editPane getTextArea running true interp eval in namespace path catch Throwable if instanceof TargetError TargetError getTarget if instanceof InvocationTargetException InvocationTargetException getTargetException Log log Log ERROR BeanShell class new BeanShellErrorDialog view toString if instanceof Error rethrowBshErrors throw Error finally running false public static Object eval View view String command boolean rethrowBshErrors return eval view global command rethrowBshErrors public static Object eval View view NameSpace namespace String command boolean rethrowBshErrors Interpreter interp createInterpreter namespace try if view null EditPane editPane view getEditPane interp set view interp set editPane interp set editPane getBuffer interp set editPane getTextArea return interp eval command catch Throwable if instanceof TargetError TargetError getTarget if instanceof InvocationTargetException InvocationTargetException getTargetException Log log Log ERROR BeanShell class new BeanShellErrorDialog view toString if instanceof Error rethrowBshErrors throw Error return null public static String cacheBlock String id String code boolean childNamespace String name if id null name cachedBlockCounter else name id code name code eval null code false return name public static Object runCachedBlock String id View view NameSpace namespace if namespace null namespace internal Object args namespace try if view null namespace setVariable view EditPane editPane view getEditPane namespace setVariable editPane namespace setVariable editPane getBuffer namespace setVariable editPane getTextArea Object retVal internal invokeMethod id args interpForMethods if retVal instanceof Primitive if retVal Primitive VOID return null else return Primitive retVal getValue else return retVal catch Throwable if instanceof TargetError TargetError getTarget if instanceof InvocationTargetException InvocationTargetException getTargetException Log log Log ERROR BeanShell class new BeanShellErrorDialog view toString finally try namespace setVariable null namespace setVariable null namespace setVariable null namespace setVariable null catch EvalError return null public static boolean isScriptRunning return running public static NameSpace getNameSpace return global static void init Log log Log DEBUG BeanShell class BshClassManager setClassLoader new JARClassLoader global new NameSpace interpForMethods createInterpreter global try Interpreter interp createInterpreter global BufferedReader in new BufferedReader new InputStreamReader BeanShell class getResourceAsStream interp eval in global catch Throwable Log log Log ERROR BeanShell class System exit internal NameSpace eval null false private static Interpreter interpForMethods private static NameSpace global private static NameSpace internal private static boolean running private static int cachedBlockCounter private static Interpreter createInterpreter NameSpace nameSpace return new Interpreter null System out System err false nameSpace', 'bug': '1'}
{'sequence': 'public class EditPaneUpdate extends EBMessage NonVetoable public static final Object CREATED public static final Object DESTROYED public static final Object BUFFER_CHANGED public EditPaneUpdate EditPane editPane Object what super editPane if what null throw new NullPointerException this what what public Object getWhat return what public EditPane getEditPane return EditPane getSource public String paramString return super paramString what private Object what', 'bug': '0'}
{'sequence': 'class BSHTypedVariableDeclaration extends SimpleNode public boolean isFinal BSHTypedVariableDeclaration int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError try NameSpace namespace callstack top BSHType typeNode BSHType jjtGetChild Class type typeNode getType namespace int jjtGetNumChildren for int BSHVariableDeclarator dec BSHVariableDeclarator jjtGetChild Object value dec eval typeNode callstack interpreter if value Primitive VOID value null else if value Primitive NULL else if canCastToDeclaredType value type value BSHCastExpression castObject value type else namespace setTypedVariable dec name type value isFinal catch EvalError reThrow this return Primitive VOID boolean canCastToDeclaredType Object value Class toType if value instanceof Primitive return false Class fromType Primitive value getType if toType Byte TYPE toType Short TYPE toType Character TYPE fromType Integer TYPE return true else return false', 'bug': '0'}
{'sequence': 'public abstract class EditAction public EditAction String name this name true this name name this plugin plugin public final String getName return name public boolean isPluginAction return plugin public void invoke View view ActionEvent evt new ActionEvent view ActionEvent ACTION_PERFORMED null actionPerformed evt public void actionPerformed ActionEvent evt public static View getView EventObject evt if evt null Object evt getSource if instanceof Component return getView Component return null public static Buffer getBuffer EventObject evt View view getView evt if view null return view getBuffer return null public static View getView Component comp for if comp instanceof View return View comp else if comp instanceof JPopupMenu comp JPopupMenu comp getInvoker else if comp null comp comp getParent else break return null public boolean isToggle return false public boolean isSelected View view return isSelected Component view public boolean isSelected Component comp return false public boolean noRepeat return false public boolean noRecord return false public String getCode return name public String toString return name private String name private boolean plugin public static class Wrapper implements ActionListener public Wrapper EditAction action this action action public void actionPerformed ActionEvent evt EditAction getView evt getInputHandler invokeAction action private EditAction action', 'bug': '0'}
{'sequence': 'public class EditServer extends Thread EditServer String portFile super portFile setDaemon true this portFile portFile try socket new ServerSocket InetAddress getByName authKey Math abs new Random nextInt int port socket getLocalPort FileWriter out new FileWriter portFile out write String valueOf port out write out write String valueOf authKey out write out close Log log Log DEBUG this socket getLocalPort Log log Log DEBUG this authKey ok true catch IOException io Log log Log NOTICE this io public boolean isOK return ok public void run try for Socket client socket accept Log log Log MESSAGE this client BufferedReader in new BufferedReader new InputStreamReader client getInputStream try int key Integer parseInt in readLine if key authKey Log log Log ERROR this client in close client close return catch Exception Log log Log ERROR this client in close client close return Log log Log DEBUG this client handleClient client in client close catch IOException io Log log Log ERROR this io public static void handleClient boolean restore String parent String args String splitConfig null boolean newView jEdit getBooleanProperty if jEdit getFirstView null newView Buffer buffer jEdit openFiles null parent args if restore if jEdit getFirstBuffer null splitConfig jEdit restoreOpenFiles else if jEdit getBooleanProperty jEdit restoreOpenFiles if jEdit getFirstBuffer null buffer jEdit newFile null if splitConfig null jEdit newView null splitConfig else jEdit newView null buffer else View view jEdit getFirstView jEdit openFiles view parent args view requestFocus view toFront return void stopServer stop new File portFile delete private String portFile private ServerSocket socket private int authKey private boolean ok private void handleClient Socket client Reader in throws IOException final StringBuffer script new StringBuffer char buf new char int count while count in read buf buf length script append buf count SwingUtilities invokeLater new Runnable public void run String scriptString script toString Log log Log DEBUG this scriptString BeanShell eval null scriptString false', 'bug': '1'}
{'sequence': 'public class MacrosMenu extends EnhancedMenu implements EBComponent public MacrosMenu super updateMacrosMenu public void addNotify super addNotify EditBus addToBus this public void removeNotify super removeNotify EditBus removeFromBus this public void handleMessage EBMessage msg if msg instanceof MacrosChanged updateMacrosMenu private void updateMacrosMenu for int getMenuComponentCount if getMenuComponent instanceof JSeparator break else remove int count getMenuComponentCount Vector macroVector Macros getMacroHierarchy createMacrosMenu this macroVector if count getMenuComponentCount add GUIUtilities loadMenuItem private void createMacrosMenu JMenu menu Vector vector int start for int start vector size Object obj vector elementAt if obj instanceof Macros Macro Macros Macro macro Macros Macro obj String label macro name int index label lastIndexOf label label substring index replace menu add new EnhancedMenuItem label macro action else if obj instanceof Vector Vector subvector Vector obj String name String subvector elementAt JMenu submenu new JMenu name createMacrosMenu submenu subvector if submenu getMenuComponentCount submenu add GUIUtilities loadMenuItem menu add submenu', 'bug': '0'}
{'sequence': 'public class ModeOptionPane extends AbstractOptionPane public ModeOptionPane super protected void Mode modes jEdit getModes String modeNames new String modes length modeProps new ModeProperties modes length for int modes length modeProps new ModeProperties modes modeNames modes getName mode new JComboBox modeNames mode addActionListener new ActionHandler addComponent jEdit getProperty mode useDefaults new JCheckBox jEdit getProperty useDefaults addActionListener new ActionHandler addComponent useDefaults addComponent jEdit getProperty filenameGlob new JTextField addComponent jEdit getProperty firstlineGlob new JTextField String tabSizes addComponent jEdit getProperty tabSize new JComboBox tabSizes tabSize setEditable true addComponent jEdit getProperty indentSize new JComboBox tabSizes indentSize setEditable true String lineLens addComponent jEdit getProperty maxLineLen new JComboBox lineLens maxLineLen setEditable true addComponent jEdit getProperty wordBreakChars new JTextField addComponent jEdit getProperty commentStart new JTextField addComponent jEdit getProperty commentEnd new JTextField addComponent jEdit getProperty lineComment new JTextField addComponent jEdit getProperty noWordSep new JTextField addComponent jEdit getProperty collapseFolds new JTextField addComponent syntax new JCheckBox jEdit getProperty addComponent indentOnTab new JCheckBox jEdit getProperty addComponent indentOnEnter new JCheckBox jEdit getProperty addComponent noTabs new JCheckBox jEdit getProperty selectMode protected void saveMode for int modeProps length modeProps save private ModeProperties modeProps private ModeProperties current private JComboBox mode private JCheckBox useDefaults private JTextField filenameGlob private JTextField firstlineGlob private JComboBox tabSize private JComboBox indentSize private JComboBox maxLineLen private JTextField wordBreakChars private JTextField commentStart private JTextField commentEnd private JTextField lineComment private JTextField noWordSep private JTextField collapseFolds private JCheckBox noTabs private JCheckBox indentOnTab private JCheckBox indentOnEnter private JCheckBox syntax private void saveMode current useDefaults useDefaults isSelected current filenameGlob filenameGlob getText current firstlineGlob firstlineGlob getText current tabSize String tabSize getSelectedItem current indentSize String indentSize getSelectedItem current maxLineLen String maxLineLen getSelectedItem current wordBreakChars wordBreakChars getText current commentStart commentStart getText current commentEnd commentEnd getText current lineComment lineComment getText current noWordSep noWordSep getText current collapseFolds collapseFolds getText current noTabs noTabs isSelected current indentOnEnter indentOnEnter isSelected current indentOnTab indentOnTab isSelected current syntax syntax isSelected private void selectMode current modeProps mode getSelectedIndex current edited true current load useDefaults setSelected current useDefaults filenameGlob setText current filenameGlob firstlineGlob setText current firstlineGlob tabSize setSelectedItem current tabSize indentSize setSelectedItem current indentSize maxLineLen setSelectedItem current maxLineLen wordBreakChars setText current wordBreakChars commentStart setText current commentStart commentEnd setText current commentEnd lineComment setText current lineComment noWordSep setText current noWordSep collapseFolds setText current collapseFolds noTabs setSelected current noTabs indentOnTab setSelected current indentOnTab indentOnEnter setSelected current indentOnEnter syntax setSelected current syntax updateEnabled private void updateEnabled boolean enabled modeProps mode getSelectedIndex useDefaults filenameGlob setEnabled enabled firstlineGlob setEnabled enabled tabSize setEnabled enabled indentSize setEnabled enabled maxLineLen setEnabled enabled wordBreakChars setEnabled enabled commentStart setEnabled enabled commentEnd setEnabled enabled lineComment setEnabled enabled noWordSep setEnabled enabled collapseFolds setEnabled enabled noTabs setEnabled enabled indentOnTab setEnabled enabled indentOnEnter setEnabled enabled syntax setEnabled enabled class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt if evt getSource mode saveMode selectMode else if evt getSource useDefaults modeProps mode getSelectedIndex useDefaults useDefaults isSelected updateEnabled class ModeProperties Mode mode boolean edited boolean loaded boolean useDefaults String filenameGlob String firstlineGlob String tabSize String indentSize String maxLineLen String wordBreakChars String commentStart String commentEnd String lineComment String noWordSep String collapseFolds boolean noTabs boolean indentOnTab boolean indentOnEnter boolean syntax ModeProperties Mode mode this mode mode void load if loaded return loaded true mode loadIfNecessary useDefaults jEdit getBooleanProperty mode getName filenameGlob String mode getProperty firstlineGlob String mode getProperty tabSize mode getProperty toString indentSize mode getProperty toString maxLineLen mode getProperty toString wordBreakChars String mode getProperty commentStart String mode getProperty commentEnd String mode getProperty lineComment String mode getProperty noWordSep String mode getProperty collapseFolds mode getProperty toString noTabs mode getBooleanProperty indentOnTab mode getBooleanProperty indentOnEnter mode getBooleanProperty syntax mode getBooleanProperty void save if edited return String prefix mode getName jEdit setBooleanProperty prefix useDefaults if useDefaults jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix jEdit resetProperty prefix else jEdit setProperty prefix filenameGlob jEdit setProperty prefix firstlineGlob jEdit setProperty prefix tabSize jEdit setProperty prefix indentSize jEdit setProperty prefix maxLineLen jEdit setProperty prefix wordBreakChars jEdit setProperty prefix commentStart jEdit setProperty prefix commentEnd jEdit setProperty prefix lineComment jEdit setProperty prefix noWordSep jEdit setProperty prefix collapseFolds jEdit setBooleanProperty prefix noTabs jEdit setBooleanProperty prefix indentOnTab jEdit setBooleanProperty prefix indentOnEnter jEdit setBooleanProperty prefix syntax', 'bug': '1'}
{'sequence': 'class ModeCatalogHandler extends HandlerBase ModeCatalogHandler String directory boolean resource this directory directory this resource resource public Object resolveEntity String publicId String systemId if equals systemId try return new BufferedReader new InputStreamReader getClass getResourceAsStream catch Exception Log log Log ERROR this Log log Log ERROR this return null public void attribute String aname String value boolean isSpecified aname aname null null aname intern if aname modeName value else if aname if value null Log log Log ERROR this directory modeName else file value else if aname filenameGlob value else if aname firstlineGlob value public void doctypeDecl String name String publicId String systemId throws Exception if equals name equals name return Log log Log ERROR this directory public void endElement String name if name equals Mode mode jEdit getMode modeName if mode null mode new Mode modeName jEdit addMode mode Object path if resource path jEdit class getResource directory file else path MiscUtilities constructPath directory file mode setProperty path if filenameGlob null mode setProperty filenameGlob else mode unsetProperty if firstlineGlob null mode setProperty firstlineGlob else mode unsetProperty mode init modeName file filenameGlob firstlineGlob null private String directory private boolean resource private String modeName private String file private String filenameGlob private String firstlineGlob', 'bug': '1'}
{'sequence': 'public interface TextAreaHighlight void init JEditTextArea textArea TextAreaHighlight next void paintHighlight Graphics gfx int line int String getToolTipText MouseEvent evt', 'bug': '0'}
{'sequence': 'public abstract class EBPlugin extends EditPlugin implements EBComponent public void handleMessage EBMessage message protected EBPlugin EditBus addToBus this', 'bug': '0'}
{'sequence': 'public class MiscUtilities public static String fileToClass String name char clsName name toCharArray for int clsName length if clsName clsName return new String clsName clsName length public static String classToFile String name return name replace concat public static String constructPath String parent String path if new File path isAbsolute return canonPath path if parent null parent System getProperty if File separatorChar if path length path charAt return path if path startsWith path startsWith parent parent substring if parent endsWith File separator path endsWith return canonPath parent path else return canonPath parent File separator path public static String constructPath String parent String path1 String path2 return constructPath constructPath parent path1 path2 public static String concatPath String parent String path if path startsWith File separator path path substring else if path length path charAt path path replace File separatorChar if parent null parent System getProperty if parent endsWith File separator return parent path else return parent File separator path public static String getFileExtension String name int index name indexOf if index return else return name substring index public static String getFileName String path int count Math max path length int index1 path lastIndexOf File separatorChar count int index2 path lastIndexOf count return path substring Math max index1 index2 public static String getFileParent String path return getParentOfPath path public static String getParentOfPath String path int count Math max path length int index path lastIndexOf File separatorChar count if index index path lastIndexOf count if index index path lastIndexOf return path substring index public static String getFileProtocol String url return getProtocolOfURL url public static String getProtocolOfURL String url return url substring url indexOf public static boolean isURL String str int fsIndex Math max str indexOf File separatorChar str indexOf return false return false int cIndex str indexOf return false return false return true public static int getLeadingWhiteSpace String str int whitespace loop for whitespace str length switch str charAt whitespace case case whitespace break default break loop return whitespace public static int getTrailingWhiteSpace String str int whitespace loop for int str length switch str charAt case case whitespace break default break loop return whitespace public static int getLeadingWhiteSpaceWidth String str int tabSize int whitespace loop for int str length switch str charAt case whitespace break case whitespace tabSize whitespace tabSize break default break loop return whitespace public static String createWhiteSpace int len int tabSize StringBuffer buf new StringBuffer if tabSize while len buf append else int count len tabSize while count buf append count len tabSize while count buf append return buf toString public static String globToRE String glob StringBuffer buf new StringBuffer boolean backslash false boolean insideGroup false for int glob length char glob charAt if backslash buf append buf append backslash false continue switch case backslash true break case buf append break case buf append break case buf append break case buf append insideGroup true break case if insideGroup buf append else buf append break case buf append insideGroup false break default buf append return buf toString public static String escapesToChars String str StringBuffer buf new StringBuffer for int str length char str charAt switch case if str length buf append break str charAt switch case buf append break case buf append break default buf append break break default buf append return buf toString public static String charsToEscapes String str return charsToEscapes str false public static String charsToEscapes String str boolean history StringBuffer buf new StringBuffer for int str length char str charAt switch case buf append break case buf append break case if history buf append else buf append break case if history buf append else buf append break case if history buf append else buf append break case if history buf append else buf append break case buf append break default buf append break return buf toString public static void quicksort Object obj Compare compare if obj length return quicksort obj obj length compare public static void quicksort Vector vector Compare compare if vector size return quicksort vector vector size compare public interface Compare int compare Object obj1 Object obj2 public static class StringCompare implements Compare public int compare Object obj1 Object obj2 return obj1 toString compareTo obj2 toString public static class StringICaseCompare implements Compare public int compare Object obj1 Object obj2 return obj1 toString toLowerCase compareTo obj2 toString toLowerCase public static class MenuItemCompare implements Compare public int compare Object obj1 Object obj2 return JMenuItem obj1 getText compareTo JMenuItem obj2 getText public static class VersionCompare implements Compare public int compare Object obj1 Object obj2 String v1 obj1 toString String v2 obj2 toString StringTokenizer vt1 new StringTokenizer v1 StringTokenizer vt2 new StringTokenizer v2 int comp while vt1 hasMoreTokens vt2 hasMoreTokens String vt1tok vt1 nextToken String vt2tok vt2 nextToken try int i1 Integer parseInt vt1tok int i2 Integer parseInt vt2tok comp i1 i2 i1 i2 catch NumberFormatException comp vt1tok compareTo vt2tok if comp return comp return vt1 hasMoreTokens vt2 hasMoreTokens public static int compareVersions String version1 String version2 VersionCompare comparator new VersionCompare return comparator compare version1 version2 public static String buildToVersion String build if build length return build int major Integer parseInt build substring int minor Integer parseInt build substring int beta Integer parseInt build substring int bugfix Integer parseInt build substring return major minor beta beta bugfix bugfix private MiscUtilities private static String canonPath String path if File separatorChar path path replace try return new File path getCanonicalPath catch Exception return path private static void quicksort Object obj int int Compare compare int start int end Object mid obj if return while start end while start compare compare obj start mid start while end compare compare obj end mid end if start end Object obj start obj start obj end obj end start end if end quicksort obj end compare if start quicksort obj start compare private static void quicksort Vector obj int int Compare compare int start int end Object mid obj elementAt if return while start end while start compare compare obj elementAt start mid start while end compare compare obj elementAt end mid end if start end Object obj elementAt start obj setElementAt obj elementAt end start obj setElementAt end start end if end quicksort obj end compare if start quicksort obj start compare', 'bug': '1'}
{'sequence': 'class RETokenStart extends REToken RETokenStart int subIndex String newline super subIndex this newline newline boolean match CharIndexed input REMatch mymatch if newline null int len newline length if mymatch offset len boolean found true char char ch input charAt mymatch index len do newline charAt if ch found false break ch input charAt mymatch index len while len if found return next input mymatch if mymatch eflags RE REG_NOTBOL return false if mymatch eflags RE REG_ANCHORINDEX return mymatch anchor mymatch offset next input mymatch false else return mymatch index mymatch offset next input mymatch false void dump StringBuffer os os append', 'bug': '0'}
{'sequence': 'class TextRenderer2D extends TextRenderer public void setupGraphics Graphics Graphics2D setRenderingHints renderingHints public void configure boolean antiAlias boolean fracFontMetrics Hashtable hints new Hashtable if antiAlias hints put RenderingHints KEY_ANTIALIASING RenderingHints VALUE_ANTIALIAS_ON hints put RenderingHints KEY_RENDERING RenderingHints VALUE_RENDER_QUALITY hints put RenderingHints KEY_TEXT_ANTIALIASING RenderingHints VALUE_TEXT_ANTIALIAS_ON hints put RenderingHints KEY_FRACTIONALMETRICS fracFontMetrics RenderingHints VALUE_FRACTIONALMETRICS_ON RenderingHints VALUE_FRACTIONALMETRICS_OFF else hints put RenderingHints KEY_ANTIALIASING RenderingHints VALUE_ANTIALIAS_OFF renderingHints new RenderingHints hints fontRenderContext new FontRenderContext null antiAlias fracFontMetrics float char text int start int len Graphics float float Graphics2D Graphics2D Font font getFont fontRenderContext getFontRenderContext GlyphVector glyphs font createGlyphVector fontRenderContext new String text start len Graphics2D drawGlyphVector glyphs return float glyphs getLogicalBounds getWidth float char text int start int len Font font GlyphVector glyphs font createGlyphVector fontRenderContext new String text start len return float glyphs getLogicalBounds getWidth int char text int start int len Font font float boolean round TextLayout layout new TextLayout new String text start len font fontRenderContext TextHitInfo info layout hitTestChar return round info getInsertionIndex info getCharIndex private RenderingHints renderingHints private FontRenderContext fontRenderContext', 'bug': '0'}
{'sequence': 'public class BoyerMooreSearchMatcher implements SearchMatcher public BoyerMooreSearchMatcher String pattern String replace boolean ignoreCase boolean reverseSearch boolean beanshell String replaceMethod if ignoreCase this pattern pattern toUpperCase toCharArray else this pattern pattern toCharArray if reverseSearch char tmp new char this pattern length for int tmp length tmp this pattern this pattern length this pattern tmp this replace replace this ignoreCase ignoreCase this reverseSearch reverseSearch this beanshell beanshell if beanshell this replaceMethod replaceMethod replaceNS new NameSpace BeanShell getNameSpace generateSkipArray generateSuffixArray public int nextMatch Segment text int pos match text array text offset text offset text count if pos return null else return new int pos text offset pos pattern length text offset public String substitute String text throws Exception if beanshell replaceNS setVariable text Object obj BeanShell runCachedBlock replaceMethod null replaceNS if obj null return null else return obj toString else return replace public int match char text int offset int length int anchor reverseSearch length offset int pos int last_anchor reverseSearch offset pattern length length pattern length int pattern_end pattern length char ch int bad_char int good_suffix SEARCH while reverseSearch anchor last_anchor anchor last_anchor for pos pattern_end pos pos int idx reverseSearch anchor pos anchor pos ch ignoreCase Character toUpperCase text idx text idx if ch pattern pos bad_char pos skip getSkipIndex ch good_suffix suffix pos int skip bad_char good_suffix bad_char good_suffix anchor reverseSearch skip skip continue SEARCH return reverseSearch anchor pattern_end anchor return private char pattern private String replace private boolean ignoreCase private boolean reverseSearch private boolean beanshell private String replaceMethod private NameSpace replaceNS private int skip private int suffix private void generateSkipArray skip new int if pattern length return int pos do skip getSkipIndex pattern pos pos while pos pattern length private static final int getSkipIndex char ch return int ch private void generateSuffixArray int pattern length int suffix new int int tmp new int tmp for int while pattern pattern if suffix suffix tmp tmp int tmp for if suffix suffix suffix if tmp', 'bug': '1'}
{'sequence': 'public class PluginResURLConnection extends URLConnection public PluginResURLConnection URL url throws IOException super url String file url getFile int index file indexOf if index plugin null resource file else int start if file charAt start else start plugin file substring start index resource file substring index if plugin null resource startsWith resource resource substring public void connect throws IOException if connected if plugin null in jEdit class getResourceAsStream resource else EditPlugin JAR plugins jEdit getPluginJARs for int plugins length EditPlugin JAR jar plugins if MiscUtilities getFileName jar getPath equalsIgnoreCase plugin in jar getClassLoader getResourceAsStream resource break if in null throw new IOException resource connected true public InputStream getInputStream throws IOException connect return in public String getHeaderField String name if name equals if resource endsWith return else if resource endsWith return else if resource endsWith return else if resource endsWith return else if resource endsWith resource endsWith return else return null else return null private InputStream in private String plugin private String resource', 'bug': '1'}
{'sequence': 'public class BufferOptions extends EnhancedDialog public BufferOptions View view Buffer buffer super view jEdit getProperty true this view view this buffer buffer JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content ActionHandler actionListener new ActionHandler JPanel panel new JPanel GridBagLayout layout new GridBagLayout panel setLayout layout Insets nullInsets new Insets Insets labelInsets new Insets GridBagConstraints cons new GridBagConstraints cons gridx cons gridy cons gridwidth cons gridheight cons fill GridBagConstraints BOTH cons weightx cons insets labelInsets cons gridx cons weightx cons insets labelInsets JLabel label new JLabel jEdit getProperty SwingConstants RIGHT layout setConstraints label cons panel add label cons gridx cons weightx cons insets nullInsets modes jEdit getModes String bufferMode buffer getMode getName int index String modeNames new String modes length for int modes length Mode mode modes modeNames mode getName if bufferMode equals mode getName index mode new JComboBox modeNames mode setSelectedIndex index mode addActionListener actionListener layout setConstraints mode cons panel add mode cons gridx cons gridy cons weightx cons insets labelInsets label new JLabel jEdit getProperty SwingConstants RIGHT layout setConstraints label cons panel add label cons gridx cons weightx cons insets nullInsets String tabSizes tabSize new JComboBox tabSizes tabSize setEditable true tabSize setSelectedItem buffer getProperty tabSize addActionListener actionListener layout setConstraints tabSize cons panel add tabSize cons gridx cons gridy cons weightx cons insets labelInsets label new JLabel jEdit getProperty SwingConstants RIGHT layout setConstraints label cons panel add label cons gridx cons weightx cons insets nullInsets indentSize new JComboBox tabSizes indentSize setEditable true indentSize setSelectedItem buffer getProperty indentSize addActionListener actionListener layout setConstraints indentSize cons panel add indentSize cons gridx cons gridy cons weightx cons insets labelInsets label new JLabel jEdit getProperty SwingConstants RIGHT layout setConstraints label cons panel add label String lineLengths cons gridx cons weightx cons insets nullInsets maxLineLen new JComboBox lineLengths maxLineLen setEditable true maxLineLen setSelectedItem buffer getProperty maxLineLen addActionListener actionListener layout setConstraints maxLineLen cons panel add maxLineLen cons gridx cons gridy cons weightx cons insets labelInsets label new JLabel jEdit getProperty SwingConstants RIGHT layout setConstraints label cons panel add label cons gridx cons weightx cons insets nullInsets String lineSeps jEdit getProperty jEdit getProperty jEdit getProperty lineSeparator new JComboBox lineSeps String lineSep String buffer getProperty Buffer LINESEP if lineSep null lineSep System getProperty if equals lineSep lineSeparator setSelectedIndex else if equals lineSep lineSeparator setSelectedIndex else if equals lineSep lineSeparator setSelectedIndex lineSeparator addActionListener actionListener layout setConstraints lineSeparator cons panel add lineSeparator cons gridx cons gridy cons weightx cons insets labelInsets label new JLabel jEdit getProperty SwingConstants RIGHT layout setConstraints label cons panel add label cons gridx cons weightx cons insets nullInsets DefaultComboBoxModel encodings new DefaultComboBoxModel StringTokenizer st new StringTokenizer jEdit getProperty while st hasMoreTokens encodings addElement st nextToken encoding new JComboBox encodings encoding setEditable true encoding setSelectedItem buffer getProperty Buffer ENCODING layout setConstraints encoding cons panel add encoding cons gridx cons gridy cons weightx cons gridwidth cons REMAINDER cons fill GridBagConstraints NONE cons anchor GridBagConstraints WEST syntax new JCheckBox jEdit getProperty syntax setSelected buffer getBooleanProperty syntax addActionListener actionListener layout setConstraints syntax cons panel add syntax cons gridy indentOnTab new JCheckBox jEdit getProperty indentOnTab setSelected buffer getBooleanProperty indentOnTab addActionListener actionListener layout setConstraints indentOnTab cons panel add indentOnTab cons gridy indentOnEnter new JCheckBox jEdit getProperty indentOnEnter setSelected buffer getBooleanProperty indentOnEnter addActionListener actionListener layout setConstraints indentOnEnter cons panel add indentOnEnter cons gridy noTabs new JCheckBox jEdit getProperty noTabs setSelected buffer getBooleanProperty noTabs addActionListener actionListener layout setConstraints noTabs cons panel add noTabs cons gridy cons insets new Insets label new JLabel jEdit getProperty layout setConstraints label cons panel add label content add BorderLayout NORTH panel props new JTextArea props setLineWrap true props setWrapStyleWord false content add BorderLayout CENTER new JScrollPane props updatePropsField panel new JPanel panel setLayout new BoxLayout panel BoxLayout X_AXIS panel setBorder new EmptyBorder panel add Box createGlue ok new JButton jEdit getProperty ok addActionListener actionListener getRootPane setDefaultButton ok panel add ok panel add Box createHorizontalStrut cancel new JButton jEdit getProperty cancel addActionListener actionListener panel add cancel panel add Box createGlue content add BorderLayout SOUTH panel pack setLocationRelativeTo view show public void ok try buffer putProperty new Integer tabSize getSelectedItem toString catch NumberFormatException nf try buffer putProperty new Integer indentSize getSelectedItem toString catch NumberFormatException nf try buffer putProperty new Integer maxLineLen getSelectedItem toString catch NumberFormatException nf int index mode getSelectedIndex buffer setMode modes index index lineSeparator getSelectedIndex String lineSep if index lineSep else if index lineSep else if index lineSep else throw new InternalError String oldLineSep String buffer getProperty Buffer LINESEP if oldLineSep null oldLineSep System getProperty if oldLineSep equals lineSep buffer putProperty lineSep buffer setDirty true String encoding String this encoding getSelectedItem String oldEncoding String buffer getProperty Buffer ENCODING if oldEncoding equals encoding buffer putProperty Buffer ENCODING encoding buffer setDirty true EditBus send new BufferUpdate buffer view BufferUpdate ENCODING_CHANGED buffer putBooleanProperty syntax isSelected buffer putBooleanProperty indentOnTab isSelected buffer putBooleanProperty indentOnEnter isSelected buffer putBooleanProperty noTabs isSelected buffer propertiesChanged dispose view getTextArea getPainter repaint public void cancel dispose private View view private Buffer buffer private JComboBox tabSize private JComboBox indentSize private JComboBox maxLineLen private Mode modes private JComboBox mode private JComboBox lineSeparator private JComboBox encoding private JCheckBox indentOnTab private JCheckBox indentOnEnter private JCheckBox syntax private JCheckBox noTabs private JTextArea props private JButton ok private JButton cancel private void updatePropsField props setText modes mode getSelectedIndex getName tabSize getSelectedItem indentSize getSelectedItem noTabs isSelected indentOnTab isSelected indentOnEnter isSelected syntax isSelected maxLineLen getSelectedItem class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source ok ok else if source cancel cancel else if source mode Mode jEdit getMode String mode getSelectedItem tabSize setSelectedItem getProperty indentSize setSelectedItem getProperty maxLineLen setSelectedItem getProperty indentOnTab setSelected getBooleanProperty indentOnEnter setSelected getBooleanProperty syntax setSelected getBooleanProperty noTabs setSelected getBooleanProperty updatePropsField else updatePropsField', 'bug': '1'}
{'sequence': 'public interface CharIndexed public static final char OUT_OF_BOUNDS public char charAt int index public boolean move int index public boolean isValid', 'bug': '0'}
{'sequence': 'public class InterpreterError extends RuntimeException public InterpreterError String super', 'bug': '0'}
{'sequence': 'public class HistoryModel public HistoryModel String name this name name try max Integer parseInt jEdit getProperty catch NumberFormatException nf max data new Vector max public void addItem String text if text null text length return int index data indexOf text if index data removeElementAt index data insertElementAt text if getSize max data removeElementAt getSize public String getItem int index return String data elementAt index public int getSize return data size public String getName return name public static HistoryModel getModel String name if models null models new Hashtable HistoryModel model HistoryModel models get name if model null model new HistoryModel name models put name model return model public static void loadHistory File file if models null models new Hashtable try BufferedReader in new BufferedReader new FileReader file HistoryModel currentModel null String line while line in readLine null if line startsWith line endsWith if currentModel null models put currentModel getName currentModel currentModel new HistoryModel line substring line length else if currentModel null throw new IOException else currentModel addItemToEnd MiscUtilities escapesToChars line if currentModel null models put currentModel getName currentModel in close catch FileNotFoundException fnf Log log Log DEBUG HistoryModel class fnf catch IOException io Log log Log ERROR HistoryModel class io public static void saveHistory File file String lineSep System getProperty try BufferedWriter out new BufferedWriter new FileWriter file if models null out close return Enumeration modelEnum models elements while modelEnum hasMoreElements HistoryModel model HistoryModel modelEnum nextElement out write out write model getName out write out write lineSep for int model getSize out write MiscUtilities charsToEscapes model getItem true out write lineSep out close catch IOException io Log log Log ERROR HistoryModel class io private String name private int max private Vector data private static Hashtable models private void addItemToEnd String item data addElement item', 'bug': '0'}
{'sequence': 'public interface XmlHandler public void startDocument throws java lang Exception public void endDocument throws java lang Exception public Object resolveEntity String publicId String systemId throws java lang Exception public void startExternalEntity String systemId throws java lang Exception public void endExternalEntity String systemId throws java lang Exception public void doctypeDecl String name String publicId String systemId throws java lang Exception public void attribute String aname String value boolean isSpecified throws java lang Exception public void startElement String elname throws java lang Exception public void endElement String elname throws java lang Exception public void charData char ch int start int length throws java lang Exception public void ignorableWhitespace char ch int start int length throws java lang Exception public void processingInstruction String target String data throws java lang Exception public void error String message String systemId int line int column throws java lang Exception', 'bug': '0'}
{'sequence': 'public class ParserRule public final char searchChars public final int sequenceLengths public final int action public final byte token public ParserRule next ParserRule char searchChars int sequenceLengths int action byte token this searchChars searchChars this sequenceLengths sequenceLengths this action action this token token', 'bug': '0'}
{'sequence': 'public class SplashScreen extends JWindow public SplashScreen setCursor Cursor getPredefinedCursor Cursor WAIT_CURSOR JPanel splash new JPanel new BorderLayout splash setBorder new CompoundBorder new MatteBorder Color black new EmptyBorder splash setBackground Color white URL url getClass getResource if url null JLabel label new JLabel new ImageIcon url splash add label BorderLayout CENTER progress new JProgressBar progress setStringPainted true progress setString jEdit getVersion splash add BorderLayout SOUTH progress setContentPane splash Dimension screen getToolkit getScreenSize pack setLocation screen width getSize width screen height getSize height show public void advance try SwingUtilities invokeAndWait new Runnable public void run progress setValue progress getValue Thread yield catch Exception Log log Log ERROR this private JProgressBar progress', 'bug': '0'}
{'sequence': 'public class ViewRegisters extends EnhancedDialog public ViewRegisters View view super view jEdit getProperty true JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JPanel panel new JPanel new BorderLayout panel setBorder new EmptyBorder JLabel label new JLabel jEdit getProperty label setBorder new EmptyBorder panel add BorderLayout NORTH label DefaultListModel registerModel new DefaultListModel registerList new JList registerModel registerList setSelectionMode ListSelectionModel SINGLE_SELECTION registerList setCellRenderer new Renderer Registers Register registers Registers getRegisters int index for int registers length Registers Register reg registers if reg null continue String value reg toString if value null value length continue registerModel addElement new Character char if registerModel getSize registerModel addElement jEdit getProperty panel add BorderLayout CENTER new JScrollPane registerList content add BorderLayout WEST panel panel new JPanel new BorderLayout panel setBorder new EmptyBorder label new JLabel jEdit getProperty label setBorder new EmptyBorder panel add BorderLayout NORTH label contentTextArea new JTextArea contentTextArea setEditable false panel add BorderLayout CENTER new JScrollPane contentTextArea content add BorderLayout CENTER panel panel new JPanel panel setLayout new BoxLayout panel BoxLayout X_AXIS panel setBorder new EmptyBorder close new JButton jEdit getProperty close addActionListener new ActionHandler panel add Box createGlue panel add close panel add Box createGlue getRootPane setDefaultButton close content add BorderLayout SOUTH panel registerList addListSelectionListener new ListHandler registerList setSelectedIndex index pack setLocationRelativeTo view show public void ok dispose public void cancel dispose private JList registerList private JTextArea contentTextArea private JButton close class Renderer extends DefaultListCellRenderer public Component getListCellRendererComponent JList list Object value int index boolean isSelected boolean cellHasFocus super getListCellRendererComponent list value index isSelected cellHasFocus if value instanceof Character char name Character value charValue String label if name label else if name label else if name label jEdit getProperty else if name label jEdit getProperty else label String valueOf char name setText label return this class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt if evt getSource close cancel class ListHandler implements ListSelectionListener public void valueChanged ListSelectionEvent evt Object value registerList getSelectedValue if value instanceof Character return char name Character value charValue Registers Register reg Registers getRegister name if reg null return contentTextArea setText reg toString contentTextArea setCaretPosition', 'bug': '0'}
{'sequence': 'public class EnhancedMenu extends JMenu public EnhancedMenu String name String label jEdit getProperty name concat if label null label name char mnemonic int index label indexOf if index label length index mnemonic Character toLowerCase label charAt index label label substring index concat label substring index else mnemonic setText label setMnemonic mnemonic String menuItems jEdit getProperty name if menuItems null StringTokenizer st new StringTokenizer menuItems while st hasMoreTokens String menuItemName st nextToken if menuItemName equals addSeparator else if menuItemName startsWith add GUIUtilities loadMenu menuItemName substring else add GUIUtilities loadMenuItem menuItemName', 'bug': '0'}
{'sequence': 'public interface DockableWindow String DOCKABLE_WINDOW_LIST String getName Component getComponent', 'bug': '0'}
{'sequence': 'class Autosave implements ActionListener public static void setInterval int interval if interval if timer null timer stop timer null return interval if timer null timer new Timer interval new Autosave timer start else timer setDelay interval public static void stop if timer null timer stop public void actionPerformed ActionEvent evt Buffer bufferArray jEdit getBuffers for int bufferArray length bufferArray autosave private static Timer timer private Autosave', 'bug': '0'}
{'sequence': 'public class CompleteWord extends JWindow public CompleteWord View view String word Vector completions Point location super view this view view this word word words new JList completions words setVisibleRowCount Math min completions size words addMouseListener new MouseHandler words setSelectedIndex words setSelectionMode ListSelectionModel SINGLE_SELECTION JScrollPane scroller new JScrollPane words JScrollPane VERTICAL_SCROLLBAR_ALWAYS JScrollPane HORIZONTAL_SCROLLBAR_NEVER getContentPane add scroller BorderLayout CENTER GUIUtilities requestFocus this words pack setLocation location show KeyHandler keyHandler new KeyHandler addKeyListener keyHandler getRootPane addKeyListener keyHandler words addKeyListener keyHandler view setKeyEventInterceptor keyHandler public void dispose view setKeyEventInterceptor null super dispose private View view private String word private JList words private void insertSelected view getTextArea setSelectedText String words getSelectedValue substring word length dispose class KeyHandler extends KeyAdapter public void keyPressed KeyEvent evt switch evt getKeyCode case KeyEvent VK_TAB case KeyEvent VK_ENTER insertSelected evt consume break case KeyEvent VK_ESCAPE dispose evt consume break case KeyEvent VK_UP if getFocusOwner words return int selected words getSelectedIndex if selected return selected selected words setSelectedIndex selected words ensureIndexIsVisible selected evt consume break case KeyEvent VK_DOWN if getFocusOwner words return selected words getSelectedIndex if selected words getModel getSize return selected selected words setSelectedIndex selected words ensureIndexIsVisible selected evt consume break default dispose view processKeyEvent evt break public void keyTyped KeyEvent evt evt KeyEventWorkaround processKeyEvent evt if evt null return else dispose view processKeyEvent evt class MouseHandler extends MouseAdapter public void mouseClicked MouseEvent evt insertSelected', 'bug': '1'}
{'sequence': 'class BSHMethodDeclaration extends SimpleNode String name BSHFormalParameters params BSHBlock block BSHMethodDeclaration int id super id public Object eval NameSpace namespace throws EvalError if block null if jjtGetNumChildren returnType BSHReturnType jjtGetChild getReturnType namespace params BSHFormalParameters jjtGetChild block BSHBlock jjtGetChild else params BSHFormalParameters jjtGetChild block BSHBlock jjtGetChild params eval namespace if Interpreter strictJava for int params argTypes length if params argTypes null throw new EvalError params argNames name this if returnType null throw new EvalError name this namespace setMethod name new BshMethod this namespace return Primitive VOID public String toString return name', 'bug': '0'}
{'sequence': 'public class ContextOptionPane extends AbstractOptionPane public ContextOptionPane super protected void setLayout new BorderLayout JLabel caption new JLabel jEdit getProperty add BorderLayout NORTH caption String contextMenu jEdit getProperty StringTokenizer st new StringTokenizer contextMenu listModel new DefaultListModel while st hasMoreTokens String actionName String st nextToken String label getActionLabel actionName if label null continue listModel addElement new MenuItem actionName label list new JList listModel list setSelectionMode ListSelectionModel SINGLE_SELECTION list addListSelectionListener new ListHandler add BorderLayout CENTER new JScrollPane list JPanel buttons new JPanel buttons setBorder new EmptyBorder buttons setLayout new BoxLayout buttons BoxLayout X_AXIS buttons add Box createGlue ActionHandler actionHandler new ActionHandler add new JButton jEdit getProperty add addActionListener actionHandler buttons add add buttons add Box createHorizontalStrut remove new JButton jEdit getProperty remove addActionListener actionHandler buttons add remove buttons add Box createHorizontalStrut moveUp new JButton jEdit getProperty moveUp addActionListener actionHandler buttons add moveUp buttons add Box createHorizontalStrut moveDown new JButton jEdit getProperty moveDown addActionListener actionHandler buttons add moveDown buttons add Box createGlue updateButtons add BorderLayout SOUTH buttons EditAction actions jEdit getActions Vector vector new Vector actions length for int actions length String actionName actions getName String label jEdit getProperty actionName if label null continue vector addElement new MenuItem actionName label MiscUtilities quicksort vector new MenuItemCompare actionsList new DefaultListModel actionsList ensureCapacity vector size for int vector size actionsList addElement vector elementAt class MenuItemCompare implements MiscUtilities Compare public int compare Object obj1 Object obj2 return MenuItem obj1 label toLowerCase compareTo MenuItem obj2 label toLowerCase protected void StringBuffer buf new StringBuffer for int listModel getSize if buf append buf append MenuItem listModel elementAt actionName jEdit setProperty buf toString static String getActionLabel String actionName if actionName equals return else if actionName startsWith int index Math max actionName indexOf return actionName substring index replace else return jEdit getProperty actionName private DefaultListModel listModel private JList list private JButton add private JButton remove private JButton moveUp moveDown private DefaultListModel actionsList private void updateButtons int index list getSelectedIndex remove setEnabled index listModel getSize moveUp setEnabled index moveDown setEnabled index index listModel getSize static class MenuItem String actionName String label MenuItem String actionName String label this actionName actionName if label equals this label label else this label GUIUtilities prettifyMenuLabel label public String toString return label class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source add ContextAddDialog dialog new ContextAddDialog ContextOptionPane this actionsList MenuItem selection dialog getSelection if selection null return int index list getSelectedIndex if index index listModel getSize else index listModel insertElementAt selection index list setSelectedIndex index else if source remove int index list getSelectedIndex listModel removeElementAt index updateButtons else if source moveUp int index list getSelectedIndex Object selected list getSelectedValue listModel removeElementAt index listModel insertElementAt selected index list setSelectedIndex index else if source moveDown int index list getSelectedIndex Object selected list getSelectedValue listModel removeElementAt index listModel insertElementAt selected index list setSelectedIndex index class ListHandler implements ListSelectionListener public void valueChanged ListSelectionEvent evt updateButtons class ContextAddDialog extends EnhancedDialog public ContextAddDialog Component comp ListModel actionsListModel super JOptionPane getFrameForComponent comp jEdit getProperty true JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content content add BorderLayout NORTH new JLabel jEdit getProperty JPanel mainPanel new JPanel new BorderLayout ActionHandler actionHandler new ActionHandler ButtonGroup grp new ButtonGroup separator new JRadioButton jEdit getProperty separator setSelected true separator addActionListener actionHandler grp add separator mainPanel add BorderLayout NORTH separator JPanel actionPanel new JPanel new BorderLayout action new JRadioButton jEdit getProperty action addActionListener actionHandler grp add action actionPanel add BorderLayout NORTH action actionsList new JList actionsListModel actionsList setVisibleRowCount actionsList setEnabled false actionPanel add BorderLayout CENTER new JScrollPane actionsList mainPanel add BorderLayout CENTER actionPanel JPanel macroPanel new JPanel new BorderLayout macro new JRadioButton jEdit getProperty macro addActionListener actionHandler grp add macro macroPanel add BorderLayout NORTH macro macrosList new JList Macros getMacroList macrosList setVisibleRowCount macrosList setEnabled false macroPanel add BorderLayout CENTER new JScrollPane macrosList mainPanel add BorderLayout SOUTH macroPanel content add BorderLayout CENTER mainPanel JPanel southPanel new JPanel southPanel setLayout new BoxLayout southPanel BoxLayout X_AXIS southPanel setBorder new EmptyBorder southPanel add Box createGlue ok new JButton jEdit getProperty ok addActionListener actionHandler getRootPane setDefaultButton ok southPanel add ok southPanel add Box createHorizontalStrut cancel new JButton jEdit getProperty cancel addActionListener actionHandler southPanel add cancel southPanel add Box createGlue content add BorderLayout SOUTH southPanel pack setLocationRelativeTo JOptionPane getFrameForComponent comp show public void ok isOK true dispose public void cancel dispose public ContextOptionPane MenuItem getSelection if isOK return null if separator isSelected return new ContextOptionPane MenuItem else if action isSelected return ContextOptionPane MenuItem actionsList getSelectedValue else if macro isSelected String selectedMacro macrosList getSelectedValue toString selectedMacro selectedMacro return new ContextOptionPane MenuItem selectedMacro ContextOptionPane getActionLabel selectedMacro else throw new InternalError private boolean isOK private JRadioButton separator action macro private JList actionsList macrosList private JButton ok cancel class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source instanceof JRadioButton actionsList setEnabled action isSelected macrosList setEnabled macro isSelected if source ok ok else if source cancel cancel', 'bug': '1'}
{'sequence': 'class BSHSwitchLabel extends SimpleNode boolean isDefault public BSHSwitchLabel int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError if isDefault SimpleNode label SimpleNode jjtGetChild return label eval callstack interpreter', 'bug': '0'}
{'sequence': 'public class UrlVFS extends VFS public UrlVFS super public int getCapabilities return READ_CAP WRITE_CAP public String constructPath String parent String path if parent endsWith return parent path else return parent path public String getParentOfPath String path return MiscUtilities getParentOfPath path public InputStream Object session String path boolean ignoreErrors Component comp throws IOException try return new URL path openStream catch MalformedURLException mu Log log Log ERROR this mu String args path mu getMessage VFSManager error comp args return null public OutputStream Object session String path Component comp throws IOException try return new URL path openConnection getOutputStream catch MalformedURLException mu Log log Log ERROR this mu String args path VFSManager error comp args return null', 'bug': '1'}
{'sequence': 'public class WorkThread extends Thread public WorkThread WorkThreadPool pool ThreadGroup group String name super group name setDaemon true setPriority this pool pool public void setAbortable boolean abortable synchronized abortLock this abortable abortable if aborted stop new Abort public boolean isRequestRunning return requestRunning public String getStatus return status public void setStatus String status this status status pool fireProgressChanged this public int getProgressValue return progressValue public void setProgressValue int progressValue this progressValue progressValue pool fireProgressChanged this public int getProgressMaximum return progressMaximum public void setProgressMaximum int progressMaximum this progressMaximum progressMaximum pool fireProgressChanged this public void abortCurrentRequest synchronized abortLock if abortable aborted stop new Abort aborted true public void run Log log Log DEBUG this getName for doRequests private WorkThreadPool pool private Object abortLock new Object private boolean requestRunning private boolean abortable private boolean aborted private String status private int progressValue private int progressMaximum private void doRequests WorkThreadPool Request request for request pool getNextRequest if request null break else requestRunning true pool fireProgressChanged this doRequest request requestRunning false pool fireProgressChanged this synchronized pool waitForAllLock pool waitForAllLock notifyAll synchronized pool lock try pool lock wait catch InterruptedException ie Log log Log ERROR this ie private void doRequest WorkThreadPool Request request try request run run catch Abort Log log Log ERROR WorkThread class catch Throwable Log log Log ERROR WorkThread class Log log Log ERROR WorkThread class finally synchronized abortLock aborted abortable false status null progressValue progressMaximum pool requestDone pool fireProgressChanged this public static class Abort extends Error public Abort super', 'bug': '1'}
{'sequence': 'class BSHPrimarySuffix extends SimpleNode public static final int CLASS INDEX NAME PROPERTY public int operation Object index public String field BSHPrimarySuffix int id super id public Object doSuffix Object obj CallStack callstack Interpreter interpreter throws EvalError if operation CLASS if obj instanceof BSHType NameSpace namespace callstack top return BSHType obj getType namespace else throw new EvalError this if obj instanceof SimpleNode if obj instanceof BSHAmbiguousName obj BSHAmbiguousName obj toObject callstack interpreter else obj SimpleNode obj eval callstack interpreter try switch operation case INDEX return doIndex obj callstack interpreter case NAME return doName obj callstack interpreter case PROPERTY return doProperty obj callstack interpreter default throw new InterpreterError catch ReflectError throw new EvalError this catch InvocationTargetException throw new TargetError getTargetException this private Object doName Object obj CallStack callstack Interpreter interpreter throws EvalError ReflectError InvocationTargetException if field equals obj getClass isArray return new Primitive Array getLength obj if jjtGetNumChildren return Reflect getObjectField obj field else Object oa BSHArguments jjtGetChild getArguments callstack interpreter try return Reflect invokeObjectMethod interpreter obj field oa this catch EvalError ee throw new EvalError ee getMessage this private Object doIndex Object obj CallStack callstack Interpreter interpreter throws EvalError ReflectError if obj getClass isArray throw new EvalError this int index try Primitive val Primitive SimpleNode jjtGetChild eval callstack interpreter index val intValue catch Exception throw new EvalError this return Reflect getIndex obj index private Object doProperty Object obj CallStack callstack Interpreter interpreter throws EvalError if obj Primitive VOID throw new EvalError this if obj instanceof Primitive throw new EvalError this Object value SimpleNode jjtGetChild eval callstack interpreter if value instanceof String throw new EvalError this if obj instanceof Hashtable Object val Hashtable obj get String value if val null val Primitive NULL return val try return Reflect getObjectProperty obj String value catch ReflectError Interpreter debug toString throw new EvalError value this', 'bug': '0'}
{'sequence': 'public class Abbrevs public static boolean getExpandOnInput return expandOnInput public static void setExpandOnInput boolean expandOnInput Abbrevs expandOnInput expandOnInput public static boolean expandAbbrev View view boolean add JEditTextArea textArea view getTextArea if textArea isEditable view getToolkit beep return false Buffer buffer view getBuffer int line textArea getCaretLine int lineStart textArea getLineStartOffset line int caret textArea getCaretPosition String lineText textArea getLineText line if lineText length if add view getToolkit beep return false int pos caret lineStart if pos if add view getToolkit beep return false pp removeAllElements int wordStart String abbrev if lineText charAt pos wordStart lineText indexOf wordStart TextUtilities findWordStart lineText wordStart String buffer getProperty abbrev lineText substring wordStart pos int lastIndex for int abbrev length if abbrev charAt pp addElement abbrev substring lastIndex lastIndex pp addElement abbrev substring lastIndex abbrev String pp elementAt else wordStart TextUtilities findWordStart lineText pos String buffer getProperty abbrev lineText substring wordStart pos Expansion expand expandAbbrev buffer getMode getName abbrev buffer getBooleanProperty buffer getTabSize pp if expand null if add new AddAbbrevDialog view abbrev return false else buffer beginCompoundEdit try lineText buffer getText lineStart wordStart int leadingIndent MiscUtilities getLeadingWhiteSpaceWidth lineText buffer getTabSize buffer remove lineStart wordStart pos wordStart buffer insertString lineStart wordStart expand text null if expand caretPosition textArea setCaretPosition lineStart wordStart expand caretPosition String whiteSpace MiscUtilities createWhiteSpace leadingIndent buffer getBooleanProperty buffer getTabSize Element map buffer getDefaultRootElement for int line line expand lineCount Element elem map getElement buffer insertString elem getStartOffset whiteSpace null catch BadLocationException bl Log log Log ERROR Abbrevs class bl buffer endCompoundEdit return true public static Hashtable getGlobalAbbrevs return globalAbbrevs public static void setGlobalAbbrevs Hashtable globalAbbrevs abbrevsChanged true Abbrevs globalAbbrevs globalAbbrevs public static Hashtable getModeAbbrevs return modes public static void setModeAbbrevs Hashtable modes abbrevsChanged true Abbrevs modes modes public static void addGlobalAbbrev String abbrev String expansion globalAbbrevs put abbrev expansion abbrevsChanged true public static void addModeAbbrev String mode String abbrev String expansion Hashtable modeAbbrevs Hashtable modes get mode if modeAbbrevs null modeAbbrevs new Hashtable modes put mode modeAbbrevs modeAbbrevs put abbrev expansion abbrevsChanged true static void load expandOnInput jEdit getBooleanProperty globalAbbrevs new Hashtable modes new Hashtable boolean loaded false String settings jEdit getSettingsDirectory if settings null File file new File MiscUtilities constructPath settings abbrevsModTime file lastModified try loadAbbrevs new FileReader file loaded true catch FileNotFoundException fnf catch Exception Log log Log ERROR Abbrevs class file Log log Log ERROR Abbrevs class if loaded try loadAbbrevs new InputStreamReader Abbrevs class getResourceAsStream catch Exception Log log Log ERROR Abbrevs class Log log Log ERROR Abbrevs class static void save jEdit setBooleanProperty expandOnInput String settings jEdit getSettingsDirectory if abbrevsChanged settings null File file new File MiscUtilities constructPath settings if file exists file lastModified abbrevsModTime Log log Log WARNING Abbrevs class file else try saveAbbrevs new FileWriter file catch Exception Log log Log ERROR Abbrevs class file Log log Log ERROR Abbrevs class abbrevsModTime file lastModified private static boolean abbrevsChanged private static long abbrevsModTime private static boolean expandOnInput private static Hashtable globalAbbrevs private static Hashtable modes private static Vector pp new Vector private Abbrevs private static Expansion expandAbbrev String mode String abbrev int softTabSize Vector pp String expand null Hashtable modeAbbrevs Hashtable modes get mode if modeAbbrevs null expand String modeAbbrevs get abbrev if expand null expand String globalAbbrevs get abbrev if expand null return null else return new Expansion expand softTabSize pp private static void loadAbbrevs Reader throws Exception BufferedReader in new BufferedReader Hashtable currentAbbrevs null String line while line in readLine null if line length continue else if line startsWith line indexOf if line equals currentAbbrevs globalAbbrevs else String mode line substring line length currentAbbrevs Hashtable modes get mode if currentAbbrevs null currentAbbrevs new Hashtable modes put mode currentAbbrevs else int index line indexOf currentAbbrevs put line substring index line substring index in close private static void saveAbbrevs Writer throws Exception BufferedWriter out new BufferedWriter String lineSep System getProperty out write out write lineSep saveAbbrevs out globalAbbrevs Enumeration keys modes keys Enumeration values modes elements while keys hasMoreElements out write out write String keys nextElement out write out write lineSep saveAbbrevs out Hashtable values nextElement out close private static void saveAbbrevs Writer out Hashtable abbrevs throws Exception String lineSep System getProperty Enumeration keys abbrevs keys Enumeration values abbrevs elements while keys hasMoreElements String abbrev String keys nextElement out write abbrev out write out write values nextElement toString out write lineSep static class Expansion String text int caretPosition int lineCount Expansion String text int softTabSize Vector pp StringBuffer buf new StringBuffer boolean backslash false for int text length char ch text charAt if backslash backslash false if ch caretPosition buf length else if ch buf append lineCount else if ch if softTabSize buf append else for int softTabSize buf append else buf append ch else if ch backslash true else if ch if text length ch text charAt if Character isDigit ch ch int pos ch if pos pp size buf append pp elementAt pos else buf append buf append ch else buf append else buf append ch this text buf toString', 'bug': '0'}
{'sequence': 'class BSHPrimitiveType extends SimpleNode public Class type BSHPrimitiveType int id super id public Class getType return type', 'bug': '0'}
{'sequence': 'public class BufferIORequest extends WorkRequest public static final int IOBUFSIZE public static final int PROGRESS_INTERVAL public static final String LOAD_DATA public static final int LOAD public static final int SAVE public static final int AUTOSAVE public static final int INSERT public BufferIORequest int type View view Buffer buffer Object session VFS vfs String path this type type this view view this buffer buffer this session session this vfs vfs this path path markersPath vfs getParentOfPath path vfs getFileName path public void run switch type case LOAD load break case SAVE save break case AUTOSAVE autosave break case INSERT insert break public String toString String typeString switch type case LOAD typeString break case SAVE typeString break case AUTOSAVE typeString break default typeString return getClass getName typeString buffer private int type private View view private Buffer buffer private Object session private VFS vfs private String path private String markersPath private void load InputStream in null try try String args vfs getFileName path setStatus jEdit getProperty args setAbortable true setProgressValue VFS DirectoryEntry entry vfs session path view long length if entry null length entry length else length in vfs session path false view if in null return if path endsWith in new GZIPInputStream in String lineSeparator read buffer in length buffer putProperty Buffer LINESEP lineSeparator buffer setNewFile false catch CharConversionException ch Log log Log ERROR this ch Object pp path buffer getProperty Buffer ENCODING ch toString VFSManager error view pp catch IOException io Log log Log ERROR this io Object pp path io toString VFSManager error view pp if jEdit getBooleanProperty try String args vfs getFileName path setStatus jEdit getProperty args setAbortable true in vfs session markersPath true view if in null readMarkers buffer in catch IOException io catch WorkThread Abort if in null try in close catch IOException io finally try vfs session view catch IOException io Log log Log ERROR this io String pp path io toString VFSManager error view pp catch WorkThread Abort private String read Buffer buffer InputStream long length throws IOException boolean trackProgress length File file buffer getFile setProgressValue setProgressMaximum int length if length length IOBUFSIZE StringBuffer sbuf new StringBuffer int length InputStreamReader in new InputStreamReader String buffer getProperty Buffer ENCODING char buf new char IOBUFSIZE int len boolean CRLF false boolean CROnly false boolean lastWasCR false int lineCount while len in read buf buf length int lastLine for int len switch buf case if lastWasCR CROnly true CRLF false else lastWasCR true sbuf append buf lastLine lastLine sbuf append if trackProgress lineCount PROGRESS_INTERVAL setProgressValue sbuf length lastLine break case if lastWasCR CROnly false CRLF true lastWasCR false lastLine else CROnly false CRLF false sbuf append buf lastLine lastLine sbuf append if trackProgress lineCount PROGRESS_INTERVAL setProgressValue sbuf length lastLine break default if lastWasCR CROnly true CRLF false lastWasCR false break if trackProgress setProgressValue sbuf length sbuf append buf lastLine len lastLine setAbortable false String returnValue if CRLF returnValue else if CROnly returnValue else returnValue in close int bufferLength sbuf length if bufferLength char ch sbuf charAt bufferLength sbuf charAt bufferLength sbuf setLength bufferLength else if ch sbuf setLength bufferLength buffer putProperty LOAD_DATA sbuf return returnValue private void readMarkers Buffer buffer InputStream throws IOException buffer removeAllMarkers BufferedReader in new BufferedReader new InputStreamReader String line while line in readLine null if line startsWith continue char shortcut line charAt int start line indexOf int end line indexOf start int position Integer parseInt line substring start end buffer addMarker shortcut position in close private void save OutputStream out null try String args vfs getFileName path setStatus jEdit getProperty args setAbortable true try buffer readLock String savePath if vfs getCapabilities VFS RENAME_CAP savePath vfs getParentOfPath path vfs getFileName path else savePath path out vfs session savePath view if out null if path endsWith out new GZIPOutputStream out write buffer out if buffer getProperty Buffer BACKED_UP null vfs session path view buffer putProperty Buffer BACKED_UP Boolean TRUE if vfs getCapabilities VFS RENAME_CAP vfs session savePath path view if vfs getCapabilities VFS DELETE_CAP if jEdit getBooleanProperty buffer getMarkers size setStatus jEdit getProperty args setProgressValue out vfs session markersPath view if out null writeMarkers buffer out else vfs session markersPath view catch BadLocationException bl Log log Log ERROR this bl catch IOException io Log log Log ERROR this io String pp path io toString VFSManager error view pp finally buffer readUnlock catch WorkThread Abort if out null try out close catch IOException io finally try vfs session buffer view vfs session view catch IOException io Log log Log ERROR this io String pp path io toString VFSManager error view pp catch WorkThread Abort private void autosave OutputStream out null try String args vfs getFileName path setStatus jEdit getProperty args setAbortable true try buffer readLock if buffer isDirty return out vfs session path view if out null return write buffer out catch BadLocationException bl Log log Log ERROR this bl catch IOException io finally buffer readUnlock catch WorkThread Abort if out null try out close catch IOException io private void write Buffer buffer OutputStream throws IOException BadLocationException BufferedWriter out new BufferedWriter new OutputStreamWriter String buffer getProperty Buffer ENCODING IOBUFSIZE Segment lineSegment new Segment String newline String buffer getProperty Buffer LINESEP if newline null newline System getProperty Element map buffer getDefaultRootElement setProgressMaximum map getElementCount PROGRESS_INTERVAL setProgressValue int while map getElementCount Element line map getElement int start line getStartOffset buffer getText start line getEndOffset start lineSegment out write lineSegment array lineSegment offset lineSegment count out write newline if PROGRESS_INTERVAL setProgressValue PROGRESS_INTERVAL out close private void writeMarkers Buffer buffer OutputStream out throws IOException Writer new BufferedWriter new OutputStreamWriter out Vector markers buffer getMarkers for int markers size Marker marker Marker markers elementAt write write marker getShortcut write String pos String valueOf marker getPosition write pos write write pos write close private void insert InputStream in null try try String args vfs getFileName path setStatus jEdit getProperty args setAbortable true VFS DirectoryEntry entry vfs session path view long length if entry null length entry length else length in vfs session path false view if in null return if path endsWith in new GZIPInputStream in read buffer in length catch IOException io Log log Log ERROR this io String pp path io toString VFSManager error view pp catch WorkThread Abort if in null try in close catch IOException io finally try vfs session view catch IOException io Log log Log ERROR this io String pp path io toString VFSManager error view pp catch WorkThread Abort', 'bug': '1'}
{'sequence': 'public class BufferListSet implements SearchFileSet public BufferListSet Object files this files new Vector files length for int files length this files addElement Buffer files getPath public BufferListSet Vector files this files files public Buffer getFirstBuffer View view return getBuffer String files elementAt public Buffer getNextBuffer View view Buffer buffer if buffer null buffer view getBuffer for int files size if files elementAt equals buffer getPath return buffer return getFirstBuffer view else for int files size if files elementAt equals buffer getPath return getBuffer String files elementAt return null public void matchFound final Buffer buffer if SwingUtilities isEventDispatchThread try SwingUtilities invokeAndWait new Runnable public void run jEdit commitTemporary buffer catch Exception else jEdit commitTemporary buffer public int getBufferCount return files size public boolean isValid return files size public String getCode return null private Vector files private Buffer getBuffer final String path if SwingUtilities isEventDispatchThread final Buffer retVal new Buffer try SwingUtilities invokeAndWait new Runnable public void run retVal jEdit openTemporary null null path false return retVal catch Exception Log log Log ERROR this return null else return jEdit openTemporary null null path false', 'bug': '0'}
{'sequence': 'public class FontSelector extends JButton public FontSelector Font font setFont font updateText setRequestFocusEnabled false addActionListener new ActionHandler private void updateText Font font getFont String styleString switch font getStyle case Font PLAIN styleString jEdit getProperty break case Font BOLD styleString jEdit getProperty break case Font ITALIC styleString jEdit getProperty break case Font BOLD Font ITALIC styleString jEdit getProperty break default styleString break setText font getFamily font getSize styleString class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Font font new FontSelectorDialog FontSelector this getFont getSelectedFont if font null setFont font updateText class FontSelectorDialog extends EnhancedDialog public FontSelectorDialog Component comp Font font super JOptionPane getFrameForComponent comp jEdit getProperty true JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JPanel listPanel new JPanel new GridLayout JPanel familyPanel createTextFieldAndListPanel familyField new JTextField familyList new JList getFontList listPanel add familyPanel String sizes JPanel sizePanel createTextFieldAndListPanel sizeField new JTextField sizeList new JList sizes listPanel add sizePanel String styles jEdit getProperty jEdit getProperty jEdit getProperty jEdit getProperty JPanel stylePanel createTextFieldAndListPanel styleField new JTextField styleList new JList styles styleField setEditable false listPanel add stylePanel familyList setSelectedValue font getFamily true familyField setText font getFamily sizeList setSelectedValue String valueOf font getSize true sizeField setText String valueOf font getSize styleList setSelectedIndex font getStyle styleField setText String styleList getSelectedValue ListHandler listHandler new ListHandler familyList addListSelectionListener listHandler sizeList addListSelectionListener listHandler styleList addListSelectionListener listHandler content add BorderLayout NORTH listPanel preview new JLabel jEdit getProperty preview setBorder new TitledBorder jEdit getProperty updatePreview Dimension prefSize preview getPreferredSize prefSize height preview setPreferredSize prefSize content add BorderLayout CENTER preview JPanel buttons new JPanel buttons setLayout new BoxLayout buttons BoxLayout X_AXIS buttons setBorder new EmptyBorder buttons add Box createGlue ok new JButton jEdit getProperty ok addActionListener new ActionHandler getRootPane setDefaultButton ok buttons add ok buttons add Box createHorizontalStrut cancel new JButton jEdit getProperty cancel addActionListener new ActionHandler buttons add cancel buttons add Box createGlue content add BorderLayout SOUTH buttons pack setLocationRelativeTo JOptionPane getFrameForComponent comp show public void ok isOK true dispose public void cancel dispose public Font getSelectedFont if isOK return null int size try size Integer parseInt sizeField getText catch Exception size return new Font familyField getText styleList getSelectedIndex size private boolean isOK private JTextField familyField private JList familyList private JTextField sizeField private JList sizeList private JTextField styleField private JList styleList private JLabel preview private JButton ok private JButton cancel private static final String HIDEFONTS private String getFontList try Class GEClass Class forName Object GEInstance GEClass getMethod null invoke null null String nameArray String GEClass getMethod null invoke GEInstance null Vector nameVector new Vector nameArray length for int nameArray length for HIDEFONTS length if nameArray indexOf HIDEFONTS break if HIDEFONTS length nameVector addElement nameArray String new String nameVector size nameVector copyInto return catch Exception ex return Toolkit getDefaultToolkit getFontList private JPanel createTextFieldAndListPanel String label JTextField textField JList list GridBagLayout layout new GridBagLayout JPanel panel new JPanel layout GridBagConstraints cons new GridBagConstraints cons gridx cons gridy cons gridwidth cons gridheight cons fill GridBagConstraints BOTH cons weightx JLabel new JLabel jEdit getProperty label layout setConstraints cons panel add cons gridy Component vs Box createVerticalStrut layout setConstraints vs cons panel add vs cons gridy layout setConstraints textField cons panel add textField cons gridy vs Box createVerticalStrut layout setConstraints vs cons panel add vs cons gridy cons gridheight GridBagConstraints REMAINDER cons weighty JScrollPane scroller new JScrollPane list layout setConstraints scroller cons panel add scroller return panel private void updatePreview String family familyField getText int size try size Integer parseInt sizeField getText catch Exception size int style styleList getSelectedIndex preview setFont new Font family style size class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt if evt getSource ok ok else if evt getSource cancel cancel class ListHandler implements ListSelectionListener public void valueChanged ListSelectionEvent evt Object source evt getSource if source familyList String family String familyList getSelectedValue if family null familyField setText family else if source sizeList String size String sizeList getSelectedValue if size null sizeField setText size else if source styleList String style String styleList getSelectedValue if style null styleField setText style updatePreview', 'bug': '0'}
{'sequence': 'public abstract class Selection public int getStart return start public int getEnd return end public int getStartLine return startLine public int getEndLine return endLine public abstract int getStart Buffer buffer int line public abstract int getEnd Buffer buffer int line public String toString return getClass getName start end startLine endLine int start end startLine endLine protected Selection protected Selection Selection copy start copy start end copy end protected Selection int start int end this start start this end end public static class Range extends Selection public Range super public Range Selection sel super sel public Range int start int end super start end public int getStart Buffer buffer int line if line startLine return start else Element map buffer getDefaultRootElement Element lineElement map getElement line return lineElement getStartOffset public int getEnd Buffer buffer int line if line endLine return end else Element map buffer getDefaultRootElement Element lineElement map getElement line return lineElement getEndOffset public static class Rect extends Selection public Rect super public Rect Selection sel super sel public Rect int start int end super start end public int getStart Buffer buffer int line if line startLine return start else Element map buffer getDefaultRootElement int start map getElement startLine getStartOffset int end map getElement endLine getStartOffset Element lineElement map getElement line return Math min lineElement getEndOffset lineElement getStartOffset Math min public int getEnd Buffer buffer int line if line endLine return end else Element map buffer getDefaultRootElement int start map getElement startLine getStartOffset int end map getElement endLine getStartOffset Element lineElement map getElement line return Math min lineElement getEndOffset lineElement getStartOffset Math max', 'bug': '1'}
{'sequence': 'public class Token public static final byte NULL public static final byte COMMENT1 public static final byte COMMENT2 public static final byte LITERAL1 public static final byte LITERAL2 public static final byte LABEL public static final byte KEYWORD1 public static final byte KEYWORD2 public static final byte KEYWORD3 public static final byte FUNCTION public static final byte MARKUP public static final byte OPERATOR public static final byte DIGIT public static final byte INVALID public static final byte ID_COUNT public static final byte END public int length public byte id public Token prev public Token next public Token int length byte id this length length this id id public String toString return id length', 'bug': '1'}
{'sequence': 'public class TextAreaPainter extends JComponent implements TabExpander public TextAreaPainter JEditTextArea textArea enableEvents AWTEvent FOCUS_EVENT_MASK AWTEvent KEY_EVENT_MASK AWTEvent MOUSE_EVENT_MASK this textArea textArea setAutoscrolls true setDoubleBuffered true setOpaque true setCursor Cursor getPredefinedCursor Cursor TEXT_CURSOR public boolean isManagingFocus return false public boolean getFocusTraversalKeysEnabled return false public final SyntaxStyle getStyles return styles public final void setStyles SyntaxStyle styles this styles styles repaint public final Color getCaretColor return caretColor public final void setCaretColor Color caretColor this caretColor caretColor if textArea getBuffer null textArea invalidateLine textArea getCaretLine public final Color getSelectionColor return selectionColor public final void setSelectionColor Color selectionColor this selectionColor selectionColor if textArea getBuffer null textArea invalidateSelectedLines public final Color getLineHighlightColor return lineHighlightColor public final void setLineHighlightColor Color lineHighlightColor this lineHighlightColor lineHighlightColor if textArea getBuffer null textArea invalidateLine textArea getCaretLine public final boolean isLineHighlightEnabled return lineHighlight public final void setLineHighlightEnabled boolean lineHighlight this lineHighlight lineHighlight if textArea getBuffer null textArea invalidateSelectedLines public final Color getBracketHighlightColor return bracketHighlightColor public final void setBracketHighlightColor Color bracketHighlightColor this bracketHighlightColor bracketHighlightColor if textArea getBuffer null textArea invalidateLine textArea getBracketLine public final boolean isBracketHighlightEnabled return bracketHighlight public final void setBracketHighlightEnabled boolean bracketHighlight this bracketHighlight bracketHighlight if textArea getBuffer null textArea invalidateLine textArea getBracketLine public final boolean isBlockCaretEnabled return blockCaret public final void setBlockCaretEnabled boolean blockCaret this blockCaret blockCaret if textArea getBuffer null textArea invalidateLine textArea getCaretLine public final Color getEOLMarkerColor return eolMarkerColor public final void setEOLMarkerColor Color eolMarkerColor this eolMarkerColor eolMarkerColor repaint public final boolean getEOLMarkersPainted return eolMarkers public final void setEOLMarkersPainted boolean eolMarkers this eolMarkers eolMarkers repaint public final Color getWrapGuideColor return wrapGuideColor public final void setWrapGuideColor Color wrapGuideColor this wrapGuideColor wrapGuideColor repaint public final boolean getWrapGuidePainted return wrapGuide public final void setWrapGuidePainted boolean wrapGuide this wrapGuide wrapGuide repaint public void setAntiAliasEnabled boolean antiAlias this antiAlias antiAlias textArea getTextRenderer configure antiAlias fracFontMetrics public boolean isAntiAliasEnabled return antiAlias public void setFractionalFontMetricsEnabled boolean fracFontMetrics this fracFontMetrics fracFontMetrics textArea getTextRenderer configure antiAlias fracFontMetrics public boolean isFractionalFontMetricsEnabled return fracFontMetrics public void addCustomHighlight TextAreaHighlight highlight highlight init textArea highlights highlights highlight public String getToolTipText MouseEvent evt if maxLineLen int wrapGuidePos maxLineLen textArea getHorizontalOffset if Math abs evt getX wrapGuidePos return String valueOf textArea getBuffer getProperty if highlights null return highlights getToolTipText evt else return null public FontMetrics getFontMetrics return fm public void setFont Font font super setFont font fm getFontMetrics font textArea recalculateVisibleLines updateTabSize public void paintComponent Graphics gfx updateTabSize textArea getTextRenderer setupGraphics gfx Buffer buffer textArea getBuffer Rectangle clipRect gfx getClipBounds gfx setColor getBackground gfx fillRect clipRect clipRect clipRect width clipRect height int textArea getHorizontalOffset int height fm getHeight int firstLine textArea getFirstLine int firstInvalid firstLine clipRect height int lastInvalid firstLine clipRect clipRect height height int lineCount textArea getVirtualLineCount int clipRect clipRect height try int maxWidth textArea maxHorizontalScrollWidth boolean updateMaxHorizontalScrollWidth false for int line firstInvalid line lastInvalid line boolean valid buffer isLoaded line line lineCount int physicalLine if valid physicalLine buffer virtualToPhysical line else int virtualLineCount buffer getVirtualLineCount physicalLine buffer virtualToPhysical virtualLineCount line virtualLineCount int width paintLine gfx buffer valid line physicalLine if valid buffer setLineWidth physicalLine width if width maxWidth updateMaxHorizontalScrollWidth true height if buffer isNextLineRequested int clipRect clipRect height repaint getWidth getHeight if updateMaxHorizontalScrollWidth textArea updateMaxHorizontalScrollWidth catch Exception Log log Log ERROR this firstInvalid lastInvalid Log log Log ERROR this public float nextTabStop float int tabOffset int offset textArea getHorizontalOffset int ntabs int offset tabSize return ntabs tabSize offset public Dimension getPreferredSize Dimension dim new Dimension dim width fm charWidth dim height fm getHeight return dim public Dimension getMinimumSize return getPreferredSize void updateTabSize if textArea getBuffer null return tabSize fm charWidth Integer textArea getBuffer getProperty PlainDocument tabSizeAttribute intValue int Integer textArea getBuffer getProperty intValue if maxLineLen else maxLineLen fm charWidth private JEditTextArea textArea private SyntaxStyle styles private Color caretColor private Color selectionColor private Color lineHighlightColor private Color bracketHighlightColor private Color eolMarkerColor private Color wrapGuideColor private boolean blockCaret private boolean lineHighlight private boolean bracketHighlight private boolean eolMarkers private boolean wrapGuide private boolean antiAlias private boolean fracFontMetrics private int tabSize private int maxLineLen private FontMetrics fm private TextAreaHighlight highlights private int paintLine Graphics gfx Buffer buffer boolean valid int virtualLine int physicalLine int int paintHighlight gfx virtualLine physicalLine valid if maxLineLen wrapGuide gfx setColor wrapGuideColor gfx drawLine maxLineLen maxLineLen fm getHeight if valid Font defaultFont getFont Color defaultColor getForeground gfx setFont defaultFont gfx setColor defaultColor int baseLine fm getHeight fm getLeading fm getDescent buffer paintSyntaxLine physicalLine gfx baseLine this true true defaultFont defaultColor lineHighlight textArea getSelectionCount physicalLine textArea getCaretLine lineHighlightColor getBackground styles textArea getTextRenderer if eolMarkers gfx setFont defaultFont gfx setColor eolMarkerColor gfx drawString baseLine if physicalLine textArea getCaretLine textArea isCaretVisible paintCaret gfx physicalLine if buffer isFoldStart physicalLine buffer isLineVisible physicalLine gfx setColor defaultColor int start textArea getHorizontalOffset fm charWidth buffer getFoldLevel physicalLine gfx drawLine start fm getHeight fm getHeight return private void paintHighlight Graphics gfx int virtualLine int physicalLine int boolean valid if valid if textArea selection size if lineHighlight physicalLine textArea getCaretLine gfx setColor lineHighlightColor gfx fillRect getWidth fm getHeight else gfx setColor selectionColor for int textArea selection size paintSelection gfx physicalLine Selection textArea selection elementAt if bracketHighlight physicalLine textArea getBracketLine textArea isHighlightVisible paintBracketHighlight gfx physicalLine if highlights null highlights paintHighlight gfx virtualLine fm getLeading fm getDescent private void paintBracketHighlight Graphics gfx int physicalLine int int position textArea getBracketPosition if position return int textArea offsetToX physicalLine position gfx setColor bracketHighlightColor gfx drawRect fm charWidth fm getHeight private void paintCaret Graphics gfx int physicalLine int int offset textArea getCaretPosition textArea getLineStartOffset physicalLine int caretX textArea offsetToX physicalLine offset int height fm getHeight gfx setColor caretColor if textArea isOverwriteEnabled gfx drawLine caretX height caretX fm charWidth height else if blockCaret if textArea selection null lineHighlight gfx setXORMode lineHighlightColor else gfx setXORMode getBackground gfx fillRect caretX fm charWidth height gfx setPaintMode else gfx drawLine caretX caretX height private void paintSelection Graphics gfx int physicalLine int Selection if physicalLine startLine physicalLine endLine return int lineStart textArea getLineStartOffset physicalLine int x1 x2 if instanceof Selection Rect int lineLen textArea getLineLength physicalLine x1 textArea offsetToX physicalLine Math min lineLen start textArea getLineStartOffset startLine x2 textArea offsetToX physicalLine Math min lineLen end textArea getLineStartOffset endLine if x1 x2 int tmp x2 x2 x1 x1 tmp else if startLine endLine x1 textArea offsetToX physicalLine start lineStart x2 textArea offsetToX physicalLine end lineStart else if physicalLine startLine x1 textArea offsetToX physicalLine start lineStart x2 getWidth else if physicalLine endLine x1 x2 textArea offsetToX physicalLine end lineStart else x1 x2 getWidth if x1 x2 x2 gfx fillRect x1 x2 x1 fm getHeight', 'bug': '1'}
{'sequence': 'class BSHIfStatement extends SimpleNode BSHIfStatement int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError Object ret null if evaluateCondition SimpleNode jjtGetChild callstack interpreter ret SimpleNode jjtGetChild eval callstack interpreter else if jjtGetNumChildren ret SimpleNode jjtGetChild eval callstack interpreter if ret instanceof ReturnControl return ret else return Primitive VOID public static boolean evaluateCondition SimpleNode condExp CallStack callstack Interpreter interpreter throws EvalError Object obj condExp eval callstack interpreter if obj instanceof Primitive if obj Primitive VOID throw new EvalError condExp obj Primitive obj getValue if obj instanceof Boolean return Boolean obj booleanValue else throw new EvalError condExp', 'bug': '0'}
{'sequence': 'public class SyntaxStyle public SyntaxStyle Color fgColor Color bgColor Font font this fgColor fgColor this bgColor bgColor this font font public Color getForegroundColor return fgColor public Color getBackgroundColor return bgColor public Font getFont return font private Color fgColor private Color bgColor private Font font', 'bug': '0'}
{'sequence': 'public class Marker public char getShortcut return shortcut public void setShortcut char shortcut this shortcut shortcut public int getPosition return position null pos position getOffset Marker Buffer buffer char shortcut int position this buffer buffer this shortcut shortcut this pos position void createPosition try position buffer createPosition pos catch BadLocationException bl Log log Log ERROR this bl void removePosition position null private Buffer buffer private char shortcut private int pos private Position position', 'bug': '1'}
{'sequence': 'class IntPair implements Serializable public int first second class CharUnit implements Serializable public char ch public boolean bk public final class RE extends REToken private static final String s_version private static ResourceBundle messages PropertyResourceBundle getBundle Locale getDefault private REToken firstToken lastToken private int numSubs private int minimumLength public static final int REG_ICASE public static final int REG_DOT_NEWLINE public static final int REG_MULTILINE public static final int REG_NOTBOL public static final int REG_NOTEOL public static final int REG_ANCHORINDEX public static final int REG_NO_INTERPOLATE public static final String version return s_version static final String getLocalizedMessage String key return messages getString key public RE Object pattern throws REException this pattern RESyntax RE_SYNTAX_PERL5 public RE Object pattern int cflags throws REException this pattern cflags RESyntax RE_SYNTAX_PERL5 public RE Object pattern int cflags RESyntax syntax throws REException this pattern cflags syntax private RE REToken first REToken last int subs int subIndex int minLength super subIndex firstToken first lastToken last numSubs subs minimumLength minLength addToken new RETokenEndSub subIndex private RE Object patternObj int cflags RESyntax syntax int myIndex int nextSub throws REException char pattern if patternObj instanceof String pattern String patternObj toCharArray else if patternObj instanceof char pattern char patternObj else if patternObj instanceof StringBuffer pattern new char StringBuffer patternObj length StringBuffer patternObj getChars pattern length pattern else pattern patternObj toString toCharArray int pLength pattern length Vector branches null firstToken lastToken null boolean insens cflags REG_ICASE int index CharUnit unit new CharUnit IntPair minMax new IntPair REToken currentToken null char ch while index pLength index getCharUnit pattern index unit if unit ch syntax get RESyntax RE_NO_BK_VBAR unit bk syntax get RESyntax RE_NEWLINE_ALT unit ch unit bk syntax get RESyntax RE_LIMITED_OPS addToken currentToken RE theBranch new RE firstToken lastToken numSubs subIndex minimumLength if branches null branches new Vector minimumLength branches addElement theBranch firstToken lastToken currentToken null else if unit ch syntax get RESyntax RE_INTERVALS syntax get RESyntax RE_NO_BK_BRACES unit bk int newIndex getMinMax pattern index minMax syntax if newIndex index if minMax first minMax second throw new REException getLocalizedMessage REException REG_BADRPT newIndex if currentToken null throw new REException getLocalizedMessage REException REG_BADRPT newIndex if currentToken instanceof RETokenRepeated throw new REException getLocalizedMessage REException REG_BADRPT newIndex if currentToken instanceof RETokenWordBoundary currentToken instanceof RETokenWordBoundary throw new REException getLocalizedMessage REException REG_BADRPT newIndex if currentToken getMinimumLength minMax second Integer MAX_VALUE throw new REException getLocalizedMessage REException REG_BADRPT newIndex index newIndex currentToken setRepeated currentToken minMax first minMax second index else addToken currentToken currentToken new RETokenChar subIndex unit ch insens else if unit ch unit bk Vector options new Vector boolean negative false char lastChar if index pLength throw new REException getLocalizedMessage REException REG_EBRACK index if ch pattern index negative true if index pLength throw new REException getLocalizedMessage REException REG_EBRACK index ch pattern index if ch lastChar ch if index pLength throw new REException getLocalizedMessage REException REG_EBRACK index while ch pattern index if ch lastChar if index pLength throw new REException getLocalizedMessage REException REG_EBRACK index if ch pattern index options addElement new RETokenChar subIndex lastChar insens lastChar else options addElement new RETokenRange subIndex lastChar ch insens lastChar index else if ch syntax get RESyntax RE_BACKSLASH_ESCAPE_IN_LISTS if index pLength throw new REException getLocalizedMessage REException REG_EBRACK index int posixID boolean negate false char asciiEsc if indexOf pattern index syntax get RESyntax RE_CHAR_CLASS_ESC_IN_LISTS switch pattern index case negate true case posixID RETokenPOSIX DIGIT break case negate true case posixID RETokenPOSIX SPACE break case negate true case posixID RETokenPOSIX ALNUM break else if indexOf pattern index switch pattern index case asciiEsc break case asciiEsc break case asciiEsc break if lastChar options addElement new RETokenChar subIndex lastChar insens if posixID options addElement new RETokenPOSIX subIndex posixID insens negate else if asciiEsc lastChar asciiEsc else lastChar pattern index index else if ch syntax get RESyntax RE_CHAR_CLASSES index pLength pattern index StringBuffer posixSet new StringBuffer index getPosixSet pattern index posixSet int posixId RETokenPOSIX intValue posixSet toString if posixId options addElement new RETokenPOSIX subIndex posixId insens false else if lastChar options addElement new RETokenChar subIndex lastChar insens lastChar ch if index pLength throw new REException getLocalizedMessage REException REG_EBRACK index if lastChar options addElement new RETokenChar subIndex lastChar insens addToken currentToken options trimToSize currentToken new RETokenOneOf subIndex options negative else if unit ch syntax get RESyntax RE_NO_BK_PARENS unit bk boolean pure false boolean comment false boolean lookAhead false boolean negativelh false if index pLength pattern index switch pattern index case if syntax get RESyntax RE_LOOKAHEAD pure true negativelh true lookAhead true index break case if syntax get RESyntax RE_LOOKAHEAD pure true lookAhead true index break case if syntax get RESyntax RE_PURE_GROUPING pure true index break case if syntax get RESyntax RE_COMMENTS comment true break default throw new REException getLocalizedMessage REException REG_BADRPT index if index pLength throw new REException getLocalizedMessage REException REG_ESUBREG index int endIndex index int nextIndex index int nested while nextIndex getCharUnit pattern endIndex unit nested unit ch syntax get RESyntax RE_NO_BK_PARENS unit bk if endIndex nextIndex pLength throw new REException getLocalizedMessage REException REG_ESUBREG nextIndex else if unit ch syntax get RESyntax RE_NO_BK_PARENS unit bk nested else if unit ch syntax get RESyntax RE_NO_BK_PARENS unit bk nested if comment index nextIndex addToken currentToken if pure numSubs if lookAhead currentToken new RETokenLookAhead String valueOf pattern index endIndex index toCharArray cflags syntax negativelh else int useIndex pure nextSub numSubs currentToken new RE String valueOf pattern index endIndex index toCharArray cflags syntax useIndex nextSub numSubs numSubs RE currentToken getNumSubs index nextIndex else if syntax get RESyntax RE_UNMATCHED_RIGHT_PAREN_ORD unit ch syntax get RESyntax RE_NO_BK_PARENS unit bk throw new REException getLocalizedMessage REException REG_EPAREN index else if unit ch unit bk addToken currentToken currentToken null addToken new RETokenStart subIndex cflags REG_MULTILINE syntax getLineSeparator null else if unit ch unit bk addToken currentToken currentToken null addToken new RETokenEnd subIndex cflags REG_MULTILINE syntax getLineSeparator null else if unit ch unit bk addToken currentToken currentToken new RETokenAny subIndex syntax get RESyntax RE_DOT_NEWLINE cflags REG_DOT_NEWLINE syntax get RESyntax RE_DOT_NOT_NULL else if unit ch unit bk if currentToken null throw new REException getLocalizedMessage REException REG_BADRPT index if currentToken instanceof RETokenRepeated throw new REException getLocalizedMessage REException REG_BADRPT index if currentToken instanceof RETokenWordBoundary currentToken instanceof RETokenWordBoundary throw new REException getLocalizedMessage REException REG_BADRPT index if currentToken getMinimumLength throw new REException getLocalizedMessage REException REG_BADRPT index currentToken setRepeated currentToken Integer MAX_VALUE index else if unit ch syntax get RESyntax RE_LIMITED_OPS syntax get RESyntax RE_BK_PLUS_QM unit bk if currentToken null throw new REException getLocalizedMessage REException REG_BADRPT index if currentToken instanceof RETokenRepeated throw new REException getLocalizedMessage REException REG_BADRPT index if currentToken instanceof RETokenWordBoundary currentToken instanceof RETokenWordBoundary throw new REException getLocalizedMessage REException REG_BADRPT index if currentToken getMinimumLength throw new REException getLocalizedMessage REException REG_BADRPT index currentToken setRepeated currentToken Integer MAX_VALUE index else if unit ch syntax get RESyntax RE_LIMITED_OPS syntax get RESyntax RE_BK_PLUS_QM unit bk if currentToken null throw new REException getLocalizedMessage REException REG_BADRPT index if currentToken instanceof RETokenRepeated if syntax get RESyntax RE_STINGY_OPS RETokenRepeated currentToken isStingy RETokenRepeated currentToken makeStingy else throw new REException getLocalizedMessage REException REG_BADRPT index else if currentToken instanceof RETokenWordBoundary currentToken instanceof RETokenWordBoundary throw new REException getLocalizedMessage REException REG_BADRPT index else currentToken setRepeated currentToken index else if unit bk Character isDigit unit ch syntax get RESyntax RE_NO_BK_REFS addToken currentToken currentToken new RETokenBackRef subIndex Character digit unit ch insens else if unit bk unit ch syntax get RESyntax RE_STRING_ANCHORS addToken currentToken currentToken new RETokenStart subIndex null else if unit bk unit ch syntax get RESyntax RE_STRING_ANCHORS addToken currentToken currentToken new RETokenWordBoundary subIndex RETokenWordBoundary BEGIN RETokenWordBoundary END false else if unit bk unit ch addToken currentToken currentToken new RETokenWordBoundary subIndex RETokenWordBoundary BEGIN false else if unit bk unit ch addToken currentToken currentToken new RETokenWordBoundary subIndex RETokenWordBoundary END false else if unit bk unit ch syntax get RESyntax RE_STRING_ANCHORS addToken currentToken currentToken new RETokenWordBoundary subIndex RETokenWordBoundary BEGIN RETokenWordBoundary END true else if unit bk unit ch syntax get RESyntax RE_CHAR_CLASS_ESCAPES addToken currentToken currentToken new RETokenPOSIX subIndex RETokenPOSIX DIGIT insens false else if unit bk unit ch syntax get RESyntax RE_CHAR_CLASS_ESCAPES addToken currentToken currentToken new RETokenPOSIX subIndex RETokenPOSIX DIGIT insens true else if unit bk unit ch addToken currentToken currentToken new RETokenChar subIndex false else if unit bk unit ch addToken currentToken currentToken new RETokenChar subIndex false else if unit bk unit ch syntax get RESyntax RE_CHAR_CLASS_ESCAPES addToken currentToken currentToken new RETokenPOSIX subIndex RETokenPOSIX SPACE insens false else if unit bk unit ch syntax get RESyntax RE_CHAR_CLASS_ESCAPES addToken currentToken currentToken new RETokenPOSIX subIndex RETokenPOSIX SPACE insens true else if unit bk unit ch addToken currentToken currentToken new RETokenChar subIndex false else if unit bk unit ch syntax get RESyntax RE_CHAR_CLASS_ESCAPES addToken currentToken currentToken new RETokenPOSIX subIndex RETokenPOSIX ALNUM insens false else if unit bk unit ch syntax get RESyntax RE_CHAR_CLASS_ESCAPES addToken currentToken currentToken new RETokenPOSIX subIndex RETokenPOSIX ALNUM insens true else if unit bk unit ch syntax get RESyntax RE_STRING_ANCHORS addToken currentToken currentToken new RETokenEnd subIndex null addToken currentToken currentToken new RETokenChar subIndex unit ch insens addToken currentToken if branches null branches addElement new RE firstToken lastToken numSubs subIndex minimumLength minimumLength firstToken lastToken null addToken new RETokenOneOf subIndex branches false else addToken new RETokenEndSub subIndex private static int getCharUnit char input int index CharUnit unit throws REException unit ch input index if unit bk unit ch if index input length unit ch input index else throw new REException getLocalizedMessage REException REG_ESCAPE index return index public boolean isMatch Object input return isMatch input public boolean isMatch Object input int index return isMatch input index public boolean isMatch Object input int index int eflags return isMatchImpl makeCharIndexed input index index eflags private boolean isMatchImpl CharIndexed input int index int eflags return input charAt CharIndexed OUT_OF_BOUNDS REMatch new REMatch numSubs index eflags if firstToken match input while null if input charAt index CharIndexed OUT_OF_BOUNDS return true next return false public int getNumSubs return numSubs void setUncle REToken uncle if lastToken null lastToken setUncle uncle boolean chain REToken next super chain next setUncle next return true public int getMinimumLength return minimumLength public REMatch getAllMatches Object input return getAllMatches input public REMatch getAllMatches Object input int index return getAllMatches input index public REMatch getAllMatches Object input int index int eflags return getAllMatchesImpl makeCharIndexed input index index eflags private REMatch getAllMatchesImpl CharIndexed input int index int eflags Vector all new Vector REMatch null while getMatchImpl input index eflags null null all addElement index getEndIndex index input move else input move end if input isValid break REMatch mset new REMatch all size all copyInto mset return mset boolean match CharIndexed input REMatch mymatch if firstToken null return next input mymatch mymatch start subIndex mymatch index return firstToken match input mymatch public REMatch getMatch Object input return getMatch input public REMatch getMatch Object input int index return getMatch input index public REMatch getMatch Object input int index int eflags return getMatch input index eflags null public REMatch getMatch Object input int index int eflags StringBuffer buffer return getMatchImpl makeCharIndexed input index index eflags buffer REMatch getMatchImpl CharIndexed input int index int eflags StringBuffer buffer REMatch mymatch new REMatch numSubs index eflags do if minimumLength input charAt minimumLength CharIndexed OUT_OF_BOUNDS if match input mymatch REMatch longest mymatch while mymatch mymatch next null if mymatch index longest index longest mymatch longest end longest index longest finish input return longest mymatch clear index if buffer null input charAt CharIndexed OUT_OF_BOUNDS buffer append input charAt while input move return null public REMatchEnumeration getMatchEnumeration Object input return getMatchEnumeration input public REMatchEnumeration getMatchEnumeration Object input int index return getMatchEnumeration input index public REMatchEnumeration getMatchEnumeration Object input int index int eflags return new REMatchEnumeration this makeCharIndexed input index index eflags public String substitute Object input String replace return substitute input replace public String substitute Object input String replace int index return substitute input replace index public String substitute Object input String replace int index int eflags return substituteImpl makeCharIndexed input index replace index eflags private String substituteImpl CharIndexed input String replace int index int eflags StringBuffer buffer new StringBuffer REMatch getMatchImpl input index eflags buffer if null return buffer toString buffer append eflags REG_NO_INTERPOLATE replace substituteInto replace if input move end do buffer append input charAt while input move return buffer toString public String substituteAll Object input String replace return substituteAll input replace public String substituteAll Object input String replace int index return substituteAll input replace index public String substituteAll Object input String replace int index int eflags return substituteAllImpl makeCharIndexed input index replace index eflags private String substituteAllImpl CharIndexed input String replace int index int eflags StringBuffer buffer new StringBuffer REMatch while getMatchImpl input index eflags buffer null buffer append eflags REG_NO_INTERPOLATE replace substituteInto replace index getEndIndex if end char ch input charAt if ch CharIndexed OUT_OF_BOUNDS buffer append ch input move else input move end if input isValid break return buffer toString private void addToken REToken next if next null return minimumLength next getMinimumLength if firstToken null lastToken firstToken next else if lastToken chain next lastToken next private static REToken setRepeated REToken current int min int max int index throws REException if current null throw new REException getLocalizedMessage REException REG_BADRPT index return new RETokenRepeated current subIndex current min max private static int getPosixSet char pattern int index StringBuffer buf int for index pattern length if pattern pattern return buf append pattern private int getMinMax char input int index IntPair minMax RESyntax syntax throws REException boolean mustMatch syntax get RESyntax RE_NO_BK_BRACES int startIndex index if index input length if mustMatch throw new REException getLocalizedMessage REException REG_EBRACE index else return startIndex int min max CharUnit unit new CharUnit StringBuffer buf new StringBuffer do index getCharUnit input index unit if Character isDigit unit ch buf append unit ch while index input length Character isDigit unit ch if buf length if mustMatch throw new REException getLocalizedMessage REException REG_EBRACE index else return startIndex min Integer parseInt buf toString if unit ch syntax get RESyntax RE_NO_BK_BRACES unit bk max min else if index input length if mustMatch throw new REException getLocalizedMessage REException REG_EBRACE index else return startIndex else if unit ch unit bk buf new StringBuffer while index getCharUnit input index unit input length Character isDigit unit ch buf append unit ch if unit ch syntax get RESyntax RE_NO_BK_BRACES unit bk if mustMatch throw new REException getLocalizedMessage REException REG_EBRACE index else return startIndex if buf length max Integer MAX_VALUE else max Integer parseInt buf toString else if mustMatch throw new REException getLocalizedMessage REException REG_EBRACE index else return startIndex minMax first min minMax second max return index public String toString StringBuffer sb new StringBuffer dump sb return sb toString void dump StringBuffer os os append if subIndex os append if firstToken null firstToken dumpAll os os append private static CharIndexed makeCharIndexed Object input int index if input instanceof String return new CharIndexedString String input index else if input instanceof char return new CharIndexedCharArray char input index else if input instanceof StringBuffer return new CharIndexedStringBuffer StringBuffer input index else if input instanceof InputStream return new CharIndexedInputStream InputStream input index else if input instanceof Reader return new CharIndexedReader Reader input index else if input instanceof CharIndexed return CharIndexed input else return new CharIndexedString input toString index', 'bug': '0'}
{'sequence': 'public class EditorExiting extends EBMessage NonVetoable public EditorExiting EBComponent source super source', 'bug': '0'}
{'sequence': 'final class RETokenPOSIX extends REToken int type boolean insens boolean negated static final int ALNUM static final int ALPHA static final int BLANK static final int CNTRL static final int DIGIT static final int GRAPH static final int LOWER static final int PRINT static final int PUNCT static final int SPACE static final int UPPER static final int XDIGIT static final String s_nameTable static int intValue String key for int s_nameTable length if s_nameTable equals key return return RETokenPOSIX int subIndex int type boolean insens boolean negated super subIndex this type type this insens insens this negated negated int getMinimumLength return boolean match CharIndexed input REMatch mymatch char ch input charAt mymatch index if ch CharIndexed OUT_OF_BOUNDS return false boolean retval false switch type case ALNUM retval Character isLetterOrDigit ch ch break case ALPHA retval Character isLetter ch break case BLANK retval ch ch break case CNTRL retval Character isISOControl ch break case DIGIT retval Character isDigit ch break case GRAPH retval Character isWhitespace ch Character isISOControl ch break case LOWER retval insens Character isLetter ch Character isLowerCase ch break case PRINT retval Character isWhitespace ch Character isISOControl ch ch break case PUNCT retval indexOf ch break case SPACE retval Character isWhitespace ch break case UPPER retval insens Character isLetter ch Character isUpperCase ch break case XDIGIT retval Character isDigit ch indexOf ch break if negated retval retval if retval mymatch index return next input mymatch else return false void dump StringBuffer os if negated os append os append s_nameTable type', 'bug': '0'}
{'sequence': 'public class REFilterInputStream extends FilterInputStream private RE expr private String replace private String buffer private int bufpos private int offset private CharIndexedInputStream stream public REFilterInputStream InputStream stream RE expr String replace super stream this stream new CharIndexedInputStream stream this expr expr this replace replace public int read if buffer null bufpos buffer length return int buffer charAt bufpos if stream isValid return REMatch mymatch new REMatch expr getNumSubs offset if expr match stream mymatch mymatch end mymatch index mymatch finish stream stream move mymatch toString length offset mymatch toString length buffer mymatch substituteInto replace bufpos if buffer length return buffer charAt char ch stream charAt if ch CharIndexed OUT_OF_BOUNDS return stream move offset return ch public boolean markSupported return false public int read byte int off int len int int ok while len read if return ok ok off byte ok return ok public int read byte return read length', 'bug': '0'}
{'sequence': 'public class SearchSettingsChanged extends EBMessage NonVetoable public SearchSettingsChanged EBComponent source super source', 'bug': '0'}
{'sequence': 'final class RETokenAny extends REToken private boolean newline private boolean matchNull RETokenAny int subIndex boolean newline boolean matchNull super subIndex this newline newline this matchNull matchNull int getMinimumLength return boolean match CharIndexed input REMatch mymatch char ch input charAt mymatch index if ch CharIndexed OUT_OF_BOUNDS newline ch matchNull ch return false mymatch index return next input mymatch void dump StringBuffer os os append', 'bug': '0'}
{'sequence': 'public class NameSpace implements java io Serializable BshClassManager Listener NameSource public static final NameSpace JAVACODE new NameSpace public String name private NameSpace parent private Hashtable variables private Hashtable methods private This thisReference transient private static boolean superImport transient private Hashtable classCache public NameSpace String name this null name public NameSpace NameSpace parent String name setName name setParent parent BshClassManager addCMListener this public void setName String name this name name public String getName return this name SimpleNode callerInfoNode void setNode SimpleNode node this callerInfoNode node SimpleNode getNode return this callerInfoNode public Object get String name Interpreter interpreter throws EvalError CallStack callstack new CallStack return getNameResolver name toObject callstack interpreter public void setVariable String name Object value throws EvalError if variables null variables new Hashtable if value null variables remove name return boolean recurse Interpreter strictJava Object current getVariableImpl name recurse if current null current instanceof TypedVariable try TypedVariable current setValue value catch EvalError throw new EvalError name getMessage else if Interpreter strictJava throw new EvalError name else variables put name value public String getVariableNames if variables null return new String else return enumerationToStringArray variables keys public String getMethodNames if methods null return new String else return enumerationToStringArray methods keys private String enumerationToStringArray Enumeration Vector new Vector while hasMoreElements addElement nextElement String sa new String size copyInto sa return sa public NameSpace getParent return parent public NameSpace getSuper if parent null return parent else return this public NameSpace getGlobal if parent null return parent getGlobal else return this This getThis Interpreter declaringInterpreter if thisReference null thisReference This getThis this declaringInterpreter return thisReference public void prune parent null public void setParent NameSpace parent this parent parent public Object getVariable String name return getVariable name true public Object getVariable String name boolean recurse Object val getVariableImpl name recurse return unwrapVariable val protected Object unwrapVariable Object val if val instanceof TypedVariable val TypedVariable val getValue return val null Primitive VOID val protected Object getVariableImpl String name boolean recurse Object val null if variables null val variables get name if recurse val null parent null val parent getVariableImpl name recurse return val public void setTypedVariable String name Class type Object value boolean isFinal throws EvalError if variables null variables new Hashtable if value null if type isPrimitive if type Boolean TYPE value new Primitive Boolean FALSE else if type Byte TYPE value new Primitive byte else if type Short TYPE value new Primitive short else if type Character TYPE value new Primitive char else if type Integer TYPE value new Primitive int else if type Long TYPE value new Primitive else if type Float TYPE value new Primitive else if type Double TYPE value new Primitive else value Primitive NULL if variables containsKey name Object existing getVariableImpl name false if existing instanceof TypedVariable if TypedVariable existing getType type throw new EvalError name TypedVariable existing getType else TypedVariable existing setValue value return variables put name new TypedVariable type value isFinal public void setMethod String name BshMethod method if methods null methods new Hashtable Object methods get name if null methods put name method else if instanceof BshMethod Vector new Vector addElement addElement method methods put name Vector addElement method public BshMethod getMethod String name Class sig BshMethod method null Object null if methods null methods get name if instanceof Vector Vector vm Vector BshMethod ma new BshMethod vm size vm copyInto ma Class candidates new Class ma length for int ma length candidates ma getArgTypes int match Reflect findMostSpecificSignature sig candidates if match method ma match else method BshMethod if method null parent null return parent getMethod name sig return method nameSpaceChanged private String getImportedClass String name throws ClassPathException String null if null parent null return String parent getImportedClass name return nameSpaceChanged public String getImportedPackages Vector new Vector if parent null String psa parent getImportedPackages for int psa length addElement psa public Class getClass String name throws ClassPathException Class null if classCache null Class classCache get name if null getClassImpl name if null if classCache null classCache new Hashtable classCache put name return private Class getClassImpl String name throws ClassPathException if Name isCompound name String fullname getImportedClass name if fullname null Class clas classForName fullname if clas null if Name isCompound fullname try clas getNameResolver fullname toClass else Interpreter debug if clas null BshClassManager cacheClassInfo fullname clas return clas return null Class classForName if null return if superImport BshClassManager bcm BshClassManager getClassManager if bcm null String bcm getClassNameByUnqName name if null return classForName Class classForName name if null return Interpreter debug name this return null private Class classForName String name return BshClassManager classForName name public String getAllNames Vector vec new Vector getAllNamesAux vec String names new String vec size vec copyInto names return names protected void getAllNamesAux Vector vec Enumeration varNames variables keys while varNames hasMoreElements vec addElement varNames nextElement Enumeration methodNames methods keys while methodNames hasMoreElements vec addElement methodNames nextElement if parent null parent getAllNamesAux vec Vector nameSourceListeners public void addNameSourceListener NameSource Listener listener if nameSourceListeners null nameSourceListeners new Vector nameSourceListeners addElement listener public static void doSuperImport throws EvalError BshClassManager bcm BshClassManager getClassManager if bcm null bcm doSuperImport superImport true static class TypedVariable implements java io Serializable Class type boolean isFinal TypedVariable Class type Object value boolean isFinal throws EvalError this type type if type null throw new InterpreterError value this isFinal isFinal setValue value void setValue Object val throws EvalError if isFinal value null throw new EvalError val getAssignableForm val type if val instanceof Primitive Primitive val isNumber try val BSHCastExpression castPrimitive Primitive val type catch EvalError throw new InterpreterError this value val Object getValue return value Class getType return type public String toString return type value public static Object checkAssignableFrom Object rhs Class lhsType throws EvalError return getAssignableForm rhs lhsType static Object getAssignableForm Object rhs Class lhsType throws EvalError Class originalType if lhsType null throw new InterpreterError if rhs null throw new InterpreterError if rhs Primitive VOID throw new EvalError if rhs Primitive NULL if lhsType isPrimitive return rhs else throw new EvalError lhsType getName Class rhsType if rhs instanceof Primitive rhsType originalType Primitive rhs getType if lhsType isPrimitive else if Boolean class isAssignableFrom lhsType Character class isAssignableFrom lhsType Number class isAssignableFrom lhsType rhs Primitive rhs getValue rhsType rhs getClass else assignmentError lhsType originalType else rhsType originalType rhs getClass if lhsType isPrimitive if rhsType Boolean class rhs new Primitive Boolean rhs rhsType Boolean TYPE else if rhsType Character class rhs new Primitive Character rhs rhsType Character TYPE else if Number class isAssignableFrom rhsType rhs new Primitive Number rhs rhsType Primitive rhs getType else assignmentError lhsType originalType if Reflect isAssignableFrom lhsType rhsType return rhs if lhsType Short class if rhsType Byte class return new Short Number rhs shortValue if lhsType Integer class if rhsType Byte class rhsType Short class return new Integer Number rhs intValue if rhsType Character class return new Integer Number rhs intValue if lhsType Long class if rhsType Byte class rhsType Short class rhsType Integer class return new Long Number rhs longValue if rhsType Character class return new Long Number rhs longValue if lhsType Float class if rhsType Byte class rhsType Short class rhsType Integer class rhsType Long class return new Float Number rhs floatValue if rhsType Character class return new Float Number rhs floatValue if lhsType Double class if rhsType Byte class rhsType Short class rhsType Integer class rhsType Long class rhsType Float class return new Double Number rhs doubleValue if rhsType Character class return new Double Number rhs doubleValue if Capabilities canGenerateInterfaces lhsType isInterface rhs instanceof bsh This return bsh This rhs getInterface lhsType assignmentError lhsType originalType return rhs private static void assignmentError Class lhs Class rhs throws EvalError String lhsType Reflect normalizeClassName lhs String rhsType Reflect normalizeClassName rhs throw new EvalError rhsType lhsType public String toString return name null super toString name super toString private synchronized void writeObject java io ObjectOutputStream throws IOException defaultWriteObject public Object invokeMethod String methodName Object args Interpreter interpreter throws EvalError return invokeMethod methodName args interpreter null null public Object invokeMethod String methodName Object args Interpreter interpreter CallStack callstack SimpleNode callerInfo throws EvalError if callstack null callstack new CallStack callstack push this BshMethod meth getMethod methodName Reflect getTypes args if meth null return meth invokeDeclaredMethod args interpreter callstack callerInfo meth getMethod new Class null null if meth null return meth invokeDeclaredMethod new Object methodName args interpreter callstack callerInfo throw new EvalError methodName this public void classLoaderChanged nameSpaceChanged public void nameSpaceChanged classCache null public void loadDefaultImports Name getNameResolver String name return new Name this name public int getInvocationLine SimpleNode node getNode if node null return node getLineNumber else return public String getInvocationText SimpleNode node getNode if node null return node getText else return public static Class identifierToClass Name ClassIdentifier ci return ci getTargetClass', 'bug': '0'}
{'sequence': 'public interface ParserConstants int EOF int NONPRINTABLE int SINGLE_LINE_COMMENT int HASH_BANG_COMMENT int FORMAL_COMMENT int MULTI_LINE_COMMENT int BOOLEAN int BREAK int CLASS int BYTE int CASE int CATCH int CHAR int CONST int CONTINUE int int DO int DOUBLE int ELSE int FALSE int FINAL int FINALLY int FLOAT int FOR int GOTO int IF int IMPORT int INSTANCEOF int INT int INTERFACE int LONG int NEW int NULL int PRIVATE int PROTECTED int PUBLIC int RETURN int SHORT int STATIC int SWITCH int THROW int TRUE int TRY int VOID int WHILE int INTEGER_LITERAL int DECIMAL_LITERAL int HEX_LITERAL int OCTAL_LITERAL int FLOATING_POINT_LITERAL int EXPONENT int CHARACTER_LITERAL int STRING_LITERAL int IDENTIFIER int LETTER int DIGIT int LPAREN int RPAREN int LBRACE int RBRACE int LBRACKET int RBRACKET int SEMICOLON int COMMA int DOT int ASSIGN int GT int GTX int LT int LTX int BANG int TILDE int HOOK int COLON int EQ int LE int LEX int GE int GEX int NE int BOOL_OR int BOOL_ORX int BOOL_AND int BOOL_ANDX int INCR int DECR int PLUS int MINUS int STAR int SLASH int BIT_AND int BIT_ANDX int BIT_OR int BIT_ORX int XOR int MOD int LSHIFT int LSHIFTX int RSIGNEDSHIFT int RSIGNEDSHIFTX int RUNSIGNEDSHIFT int RUNSIGNEDSHIFTX int PLUSASSIGN int MINUSASSIGN int STARASSIGN int SLASHASSIGN int ANDASSIGN int ANDASSIGNX int ORASSIGN int ORASSIGNX int XORASSIGN int MODASSIGN int LSHIFTASSIGN int LSHIFTASSIGNX int RSIGNEDSHIFTASSIGN int RSIGNEDSHIFTASSIGNX int RUNSIGNEDSHIFTASSIGN int RUNSIGNEDSHIFTASSIGNX int DEFAULT String tokenImage', 'bug': '0'}
{'sequence': 'public class MacrosChanged extends EBMessage NonVetoable public MacrosChanged EBComponent source super source', 'bug': '0'}
{'sequence': 'public class CharIndexedSegment implements CharIndexed Serializable private Segment seg private int m_index CharIndexedSegment Segment seg int index this seg seg m_index index public char charAt int index return m_index index seg count seg array seg offset m_index index CharIndexed OUT_OF_BOUNDS public boolean isValid return m_index seg count public boolean move int index return m_index index seg count', 'bug': '0'}
{'sequence': 'public class PluginManagerProgress extends JDialog public PluginManagerProgress JDialog dialog String caption Roster roster super JOptionPane getFrameForComponent dialog caption true this roster roster JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content globalProgress new JProgressBar globalProgress setStringPainted true globalProgress setString caption count roster getOperationCount globalProgress setMaximum count content add BorderLayout NORTH globalProgress localProgress new JProgressBar localProgress setStringPainted true content add BorderLayout CENTER localProgress stop new JButton jEdit getProperty stop addActionListener new ActionHandler JPanel panel new JPanel panel setLayout new BoxLayout panel BoxLayout X_AXIS panel add Box createGlue panel add stop panel add Box createGlue content add BorderLayout SOUTH panel addWindowListener new WindowHandler pack Dimension screen getToolkit getScreenSize Dimension size getSize size width Math max size width setSize size setLocationRelativeTo dialog show public void removing String plugin String args plugin showMessage jEdit getProperty args stop setEnabled true public void downloading String plugin String args plugin showMessage jEdit getProperty args stop setEnabled true public void installing String plugin String args plugin showMessage jEdit getProperty args stop setEnabled false public void setMaximum final int total SwingUtilities invokeLater new Runnable public void run localProgress setMaximum total public void setValue final int value SwingUtilities invokeLater new Runnable public void run localProgress setValue value public void done final boolean ok this ok ok try if ok done count SwingUtilities invokeAndWait new Runnable public void run dispose if ok GUIUtilities message PluginManagerProgress this null else else SwingUtilities invokeAndWait new Runnable public void run globalProgress setValue done localProgress setValue catch Exception public boolean isOK return ok private Thread thread private JProgressBar globalProgress localProgress private JButton stop private int count private int done private boolean ok private Roster roster private void showMessage final String msg try SwingUtilities invokeAndWait new Runnable public void run localProgress setString msg catch Exception Thread yield class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt if evt getSource stop thread interrupt dispose class WindowHandler extends WindowAdapter boolean done public void windowActivated WindowEvent evt if done return done true thread new RosterThread thread start public void windowClosing WindowEvent evt thread interrupt dispose class RosterThread extends Thread RosterThread super public void run roster performOperations PluginManagerProgress this', 'bug': '1'}
{'sequence': 'final class RETokenWordBoundary extends REToken private boolean negated private int where static final int BEGIN static final int END RETokenWordBoundary int subIndex int where boolean negated super subIndex this where where this negated negated boolean match CharIndexed input REMatch mymatch char ch if mymatch eflags RE REG_ANCHORINDEX RE REG_ANCHORINDEX mymatch offset mymatch index mymatch anchor if ch input charAt mymatch index CharIndexed OUT_OF_BOUNDS before Character isLetterOrDigit ch ch if ch input charAt mymatch index CharIndexed OUT_OF_BOUNDS after Character isLetterOrDigit ch ch boolean doNext false if where BEGIN BEGIN doNext after before if where END END doNext before after if negated doNext doNext return doNext next input mymatch false void dump StringBuffer os if where BEGIN END os append negated else if where BEGIN os append else os append', 'bug': '0'}
{'sequence': 'public class AddAbbrevDialog extends JDialog public AddAbbrevDialog View view String abbrev super view jEdit getProperty true this view view this abbrev abbrev JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content content add BorderLayout NORTH new JLabel jEdit getProperty new String abbrev editor new AbbrevEditor editor setBorder new EmptyBorder content add BorderLayout CENTER editor Box box new Box BoxLayout X_AXIS box add Box createGlue global new JButton jEdit getProperty global addActionListener new ActionHandler box add global box add Box createHorizontalStrut modeSpecific new JButton jEdit getProperty modeSpecific addActionListener new ActionHandler box add modeSpecific box add Box createHorizontalStrut cancel new JButton jEdit getProperty cancel addActionListener new ActionHandler box add cancel box add Box createGlue content add BorderLayout SOUTH box KeyListener listener new KeyHandler addKeyListener listener editor getBeforeCaretTextArea addKeyListener listener editor getAfterCaretTextArea addKeyListener listener setDefaultCloseOperation DISPOSE_ON_CLOSE GUIUtilities requestFocus this editor getBeforeCaretTextArea pack setLocationRelativeTo view show private View view private String abbrev private AbbrevEditor editor private JButton global private JButton modeSpecific private JButton cancel class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source global Abbrevs addGlobalAbbrev abbrev editor getExpansion Abbrevs expandAbbrev view false else if source modeSpecific Abbrevs addModeAbbrev view getBuffer getMode getName abbrev editor getExpansion Abbrevs expandAbbrev view false dispose class KeyHandler extends KeyAdapter public void keyPressed KeyEvent evt if evt getKeyCode KeyEvent VK_ESCAPE dispose', 'bug': '0'}
{'sequence': 'class BSHFormalParameter extends SimpleNode public static final Class UNTYPED null public String name public Class type BSHFormalParameter int id super id public Object eval NameSpace namespace throws EvalError if jjtGetNumChildren type BSHType jjtGetChild getType namespace else type UNTYPED return Primitive VOID', 'bug': '0'}
{'sequence': 'public class VFSManager public static void start ioThreadPool start public static WorkThreadPool getIOThreadPool return ioThreadPool public static VFS getFileVFS return fileVFS public static VFS getUrlVFS return urlVFS public static VFS getVFSByName String name return VFS vfsHash get name public static VFS getVFSForProtocol String protocol if protocol equals return fileVFS else VFS vfs VFS protocolHash get protocol if vfs null return vfs else return urlVFS public static VFS getVFSForPath String path if MiscUtilities isURL path return getVFSForProtocol MiscUtilities getProtocolOfURL path else return fileVFS public static void registerVFS String protocol VFS vfs Log log Log DEBUG VFSManager class vfs getName protocol vfsHash put vfs getName vfs protocolHash put protocol vfs public static Enumeration getFilesystems return vfsHash elements public static void waitForRequests ioThreadPool waitForRequests public static boolean errorOccurred return error public static int getRequestCount return ioThreadPool getRequestCount public static void runInAWTThread Runnable run ioThreadPool addWorkRequest run true public static void runInWorkThread Runnable run ioThreadPool addWorkRequest run false public static void error final Component comp final String error final Object args if SwingUtilities isEventDispatchThread GUIUtilities error comp error args return VFSManager error true runInAWTThread new Runnable public void run VFSManager error false if comp null comp isShowing GUIUtilities error null error args else GUIUtilities error comp error args public static void sendVFSUpdate VFS vfs String path boolean parent if parent sendVFSUpdate vfs vfs getParentOfPath path false sendVFSUpdate vfs path false else if path length path endsWith path endsWith java io File separator path path substring path length synchronized vfsUpdateLock for int vfsUpdates size VFSUpdate msg VFSUpdate vfsUpdates elementAt if msg getPath equals path return vfsUpdates addElement new VFSUpdate path if vfsUpdates size VFSManager runInAWTThread new SendVFSUpdatesSafely static class SendVFSUpdatesSafely implements Runnable public void run synchronized vfsUpdateLock for int vfsUpdates size EditBus send VFSUpdate vfsUpdates elementAt vfsUpdates removeAllElements private static WorkThreadPool ioThreadPool private static VFS fileVFS private static VFS urlVFS private static Hashtable vfsHash private static Hashtable protocolHash private static boolean error private static Object vfsUpdateLock private static Vector vfsUpdates static int count try count Integer parseInt jEdit getProperty catch NumberFormatException nf count ioThreadPool new WorkThreadPool count fileVFS new FileVFS urlVFS new UrlVFS vfsHash new Hashtable protocolHash new Hashtable vfsUpdateLock new Object vfsUpdates new Vector registerVFS FavoritesVFS PROTOCOL new FavoritesVFS registerVFS FileRootsVFS PROTOCOL new FileRootsVFS private VFSManager', 'bug': '1'}
{'sequence': 'class JJTParserState private java util Stack nodes private java util Stack marks private boolean node_created JJTParserState nodes new java util Stack marks new java util Stack sp mk boolean nodeCreated return node_created void reset nodes removeAllElements marks removeAllElements sp mk Node rootNode return Node nodes elementAt void pushNode Node nodes push sp Node popNode if sp mk mk Integer marks pop intValue return Node nodes pop Node peekNode return Node nodes peek int nodeArity return sp mk void clearNodeScope Node while sp mk popNode mk Integer marks pop intValue void openNodeScope Node marks push new Integer mk mk sp jjtOpen void closeNodeScope Node int num mk Integer marks pop intValue while num Node popNode jjtSetParent jjtAddChild num jjtClose pushNode node_created true void closeNodeScope Node boolean condition if condition int nodeArity mk Integer marks pop intValue while Node popNode jjtSetParent jjtAddChild jjtClose pushNode node_created true else mk Integer marks pop intValue node_created false', 'bug': '0'}
{'sequence': 'public class StringUtil public static String split String String delim Vector new Vector StringTokenizer st new StringTokenizer delim while st hasMoreTokens addElement st nextToken String sa new String size copyInto sa return sa public static String bubbleSort String in Vector new Vector for int in length addElement in int size boolean swap true while swap swap false for int if String elementAt compareTo String elementAt String tmp String elementAt removeElementAt insertElementAt tmp swap true String out new String copyInto out return out public static String maxCommonPrefix String one String two int while one regionMatches two return one substring public static String methodString String name Class types StringBuffer sb new StringBuffer name if types length sb append for int types length Class types sb append null getName if types length Class types types length sb append null getName sb append sb append return sb toString', 'bug': '0'}
{'sequence': 'public interface OptionPane String getName Component getComponent void init void save', 'bug': '0'}
{'sequence': 'final class RETokenChar extends REToken private char ch private boolean insens RETokenChar int subIndex char boolean ins super subIndex ch new char ch insens ins Character toLowerCase int getMinimumLength return ch length boolean match CharIndexed input REMatch mymatch int ch length char for int input charAt mymatch index if insens Character toLowerCase ch return false mymatch index return next input mymatch boolean chain REToken next if next instanceof RETokenChar RETokenChar cnext RETokenChar next int newsize ch length cnext ch length char chTemp new char newsize System arraycopy ch chTemp ch length System arraycopy cnext ch chTemp ch length cnext ch length ch chTemp return false else return super chain next void dump StringBuffer os os append ch', 'bug': '0'}
{'sequence': 'public abstract class WorkRequest implements Runnable public void setAbortable boolean abortable Thread thread Thread currentThread if thread instanceof WorkThread WorkThread thread setAbortable abortable public void setStatus String status Thread thread Thread currentThread if thread instanceof WorkThread WorkThread thread setStatus status public void setProgressValue int value Thread thread Thread currentThread if thread instanceof WorkThread WorkThread thread setProgressValue value public void setProgressMaximum int value Thread thread Thread currentThread if thread instanceof WorkThread WorkThread thread setProgressMaximum value', 'bug': '0'}
{'sequence': 'class InstallPluginsDialog extends EnhancedDialog static final int INSTALL static final int UPDATE InstallPluginsDialog JDialog dialog Vector model int mode super JOptionPane getFrameForComponent dialog mode INSTALL jEdit getProperty jEdit getProperty true JPanel content new JPanel new BorderLayout content setBorder new EmptyBorder setContentPane content JLabel label new JLabel jEdit getProperty label setBorder new EmptyBorder content add BorderLayout NORTH label JPanel panel new JPanel new BorderLayout panel setBorder new EmptyBorder plugins new JCheckBoxList model plugins getSelectionModel addListSelectionListener new ListHandler JScrollPane scroller new JScrollPane plugins Dimension dim scroller getPreferredSize dim height scroller setPreferredSize dim panel add BorderLayout CENTER scroller JPanel panel2 new JPanel new BorderLayout panel2 setBorder new EmptyBorder JPanel labelBox new JPanel new GridLayout mode UPDATE labelBox setBorder new EmptyBorder labelBox add new JLabel jEdit getProperty SwingConstants RIGHT labelBox add new JLabel jEdit getProperty SwingConstants RIGHT labelBox add new JLabel jEdit getProperty SwingConstants RIGHT if mode UPDATE labelBox add new JLabel jEdit getProperty SwingConstants RIGHT labelBox add new JLabel jEdit getProperty SwingConstants RIGHT labelBox add new JLabel jEdit getProperty SwingConstants RIGHT panel2 add BorderLayout WEST labelBox JPanel valueBox new JPanel new GridLayout mode UPDATE valueBox setBorder new EmptyBorder valueBox add name new JLabel valueBox add author new JLabel valueBox add latestVersion new JLabel if mode UPDATE valueBox add installedVersion new JLabel valueBox add updated new JLabel valueBox add Box createGlue panel2 add BorderLayout CENTER valueBox JPanel panel3 new JPanel new BorderLayout description new JTextArea description setEditable false description setLineWrap true description setWrapStyleWord true panel3 add BorderLayout NORTH new JScrollPane description if mode INSTALL JPanel panel4 new JPanel new BorderLayout ButtonGroup grp new ButtonGroup installUser new JRadioButton String settings jEdit getSettingsDirectory if settings null settings jEdit getProperty installUser setEnabled false else settings MiscUtilities constructPath settings installUser setEnabled true String args settings installUser setText jEdit getProperty args grp add installUser panel4 add BorderLayout CENTER installUser installSystem new JRadioButton String jEditHome jEdit getJEditHome if jEditHome null jEditHome jEdit getProperty installSystem setEnabled false else jEditHome MiscUtilities constructPath jEditHome installSystem setEnabled true args jEditHome installSystem setText jEdit getProperty args grp add installSystem panel4 add BorderLayout SOUTH installSystem if installUser isEnabled installUser setSelected true else installSystem setSelected true panel3 add BorderLayout CENTER panel4 panel3 add BorderLayout SOUTH downloadSource new JCheckBox jEdit getProperty downloadSource setSelected jEdit getBooleanProperty panel2 add BorderLayout SOUTH panel3 panel add BorderLayout SOUTH panel2 content add BorderLayout CENTER panel Box box new Box BoxLayout X_AXIS box add Box createGlue install new JButton jEdit getProperty install setEnabled false getRootPane setDefaultButton install install addActionListener new ActionHandler box add install box add Box createHorizontalStrut cancel new JButton jEdit getProperty cancel addActionListener new ActionHandler box add cancel box add Box createHorizontalStrut box add Box createGlue content add BorderLayout SOUTH box pack setLocationRelativeTo dialog show public void ok jEdit setBooleanProperty downloadSource isSelected dispose public void cancel cancelled true dispose void installPlugins Roster roster if cancelled return String installDirectory if installUser null installUser isSelected installDirectory MiscUtilities constructPath jEdit getSettingsDirectory else installDirectory MiscUtilities constructPath jEdit getJEditHome Object selected plugins getCheckedValues for int selected length PluginList Plugin plugin PluginList Plugin selected plugin install roster installDirectory downloadSource isSelected private JCheckBoxList plugins private JLabel name private JLabel author private JLabel latestVersion private JLabel installedVersion private JLabel updated private JTextArea description private JRadioButton installUser private JRadioButton installSystem private JCheckBox downloadSource private JButton install private JButton cancel private boolean cancelled private Thread thread class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt if evt getSource install ok else cancel class ListHandler implements ListSelectionListener public void valueChanged ListSelectionEvent evt Object selected plugins getSelectedValue if selected instanceof PluginList Plugin install setEnabled true PluginList Plugin plugin PluginList Plugin selected PluginList Branch branch plugin getCompatibleBranch name setText plugin name author setText plugin author if branch obsolete latestVersion setText jEdit getProperty else latestVersion setText branch version if installedVersion null installedVersion setText plugin installedVersion updated setText branch date StringBuffer buf new StringBuffer for int branch deps size PluginList Dependency dep PluginList Dependency branch deps elementAt if dep what equals dep isSatisfied if buf length buf append buf append dep plugin description setText plugin description buf length jEdit getProperty buf toString branch obsolete jEdit getProperty else install setEnabled false name setText null author setText null latestVersion setText null if installedVersion null installedVersion setText null updated setText null description setText null', 'bug': '1'}
{'sequence': 'class BSHCastExpression extends SimpleNode public BSHCastExpression int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError NameSpace namespace callstack top Class toType BSHType jjtGetChild getType namespace SimpleNode expression SimpleNode jjtGetChild Object fromValue expression eval callstack interpreter Class fromType fromValue getClass try return castObject fromValue toType catch EvalError reThrow this public static Object castObject Object fromValue Class toType throws EvalError Class fromType fromValue getClass Object result null if toType isPrimitive if fromValue instanceof Primitive result castPrimitive Primitive fromValue toType else castError fromValue getClass toType else if fromValue instanceof Primitive result castPrimitive Primitive fromValue toType else if Capabilities canGenerateInterfaces fromValue instanceof bsh This toType isInterface result bsh This fromValue getInterface toType else if toType isInstance fromValue result fromValue else castError fromType toType if result null throw new InternalError return result public static void castError Class from Class to throws EvalError castError Reflect normalizeClassName from Reflect normalizeClassName to public static void castError String from String to throws EvalError Exception cce new ClassCastException from to throw new TargetError cce public static Primitive castPrimitive Primitive primValue Class toType throws EvalError if primValue Primitive VOID castError Reflect normalizeClassName toType Object value primValue getValue Class fromType primValue getType if toType isPrimitive if primValue Primitive NULL castError toType else return primValue if fromType Boolean TYPE if toType Boolean TYPE castError fromType toType else return primValue if value instanceof Character value new Integer Character value charValue if value instanceof Number Number number Number value if toType Byte TYPE value new Primitive number byteValue else if toType Short TYPE value new Primitive number shortValue else if toType Character TYPE value new Primitive char number intValue else if toType Integer TYPE value new Primitive number intValue else if toType Long TYPE value new Primitive number longValue else if toType Float TYPE value new Primitive number floatValue else if toType Double TYPE value new Primitive number doubleValue else castError fromType toType return Primitive value throw new EvalError', 'bug': '0'}
{'sequence': 'public class HandlerBase implements XmlHandler public void startDocument throws java lang Exception public void endDocument throws java lang Exception public Object resolveEntity String publicId String systemId throws java lang Exception return null public void startExternalEntity String systemId throws java lang Exception public void endExternalEntity String systemId throws java lang Exception public void doctypeDecl String name String publicId String systemId throws java lang Exception public void attribute String aname String value boolean isSpecified throws java lang Exception public void startElement String elname throws java lang Exception public void endElement String elname throws java lang Exception public void charData char ch int start int length throws java lang Exception public void ignorableWhitespace char ch int start int length throws java lang Exception public void processingInstruction String target String data throws java lang Exception public void error String message String systemId int line int column throws XmlException java lang Exception throw new XmlException message systemId line column', 'bug': '0'}
{'sequence': 'public class ViewUpdate extends EBMessage NonVetoable public static final Object CREATED public static final Object CLOSED public ViewUpdate View view Object what super view if what null throw new NullPointerException this what what public Object getWhat return what public View getView return View getSource public String paramString return super paramString what private Object what', 'bug': '0'}
{'sequence': 'public class TipOfTheDay extends EnhancedDialog public TipOfTheDay View view super view jEdit getProperty false setContentPane new TipPanel setDefaultCloseOperation DISPOSE_ON_CLOSE pack setLocationRelativeTo view show public void ok dispose public void cancel dispose class TipPanel extends JPanel TipPanel super new BorderLayout setBorder new EmptyBorder JLabel label new JLabel jEdit getProperty label setFont new Font Font PLAIN label setForeground UIManager getColor TipPanel this add BorderLayout NORTH label tipText new JEditorPane tipText setEditable false tipText setContentType nextTip JScrollPane scroller new JScrollPane tipText scroller setPreferredSize new Dimension TipPanel this add BorderLayout CENTER scroller ActionHandler actionHandler new ActionHandler Box buttons new Box BoxLayout X_AXIS showNextTime new JCheckBox jEdit getProperty jEdit getBooleanProperty showNextTime addActionListener actionHandler buttons add showNextTime buttons add Box createHorizontalStrut buttons add Box createGlue nextTip new JButton jEdit getProperty nextTip addActionListener actionHandler buttons add nextTip buttons add Box createHorizontalStrut close new JButton jEdit getProperty close addActionListener actionHandler buttons add close TipOfTheDay this getRootPane setDefaultButton close Dimension dim nextTip getPreferredSize dim width Math max dim width close getPreferredSize width nextTip setPreferredSize dim close setPreferredSize dim TipPanel this add BorderLayout SOUTH buttons private JCheckBox showNextTime private JButton nextTip close private JEditorPane tipText private int currentTip private void nextTip int count Integer parseInt jEdit getProperty int tipToShow currentTip while tipToShow currentTip tipToShow Math abs new Random nextInt count try tipText setPage TipOfTheDay class getResource tipToShow catch Exception Log log Log ERROR this class ActionHandler implements ActionListener public void actionPerformed ActionEvent evt Object source evt getSource if source showNextTime jEdit setBooleanProperty showNextTime isSelected else if source nextTip nextTip else if source close dispose', 'bug': '1'}
{'sequence': 'public class PluginsMenu extends EnhancedMenu public PluginsMenu super Vector pluginMenuItems new Vector EditPlugin pluginArray jEdit getPlugins for int pluginArray length try EditPlugin plugin pluginArray int count pluginMenuItems size plugin createMenuItems null pluginMenuItems pluginMenuItems if count pluginMenuItems size Log log Log WARNING this plugin getClassName plugin createMenuItems pluginMenuItems catch Throwable Log log Log ERROR this Log log Log ERROR this if pluginMenuItems isEmpty add GUIUtilities loadMenuItem return MiscUtilities quicksort pluginMenuItems new MiscUtilities MenuItemCompare JMenu menu this for int pluginMenuItems size if menu getItemCount menu addSeparator JMenu newMenu new JMenu jEdit getProperty menu add newMenu menu newMenu menu add JMenuItem pluginMenuItems elementAt', 'bug': '0'}
{'sequence': 'class BSHUnaryExpression extends SimpleNode implements ParserConstants public int kind public boolean postfix false BSHUnaryExpression int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError SimpleNode node SimpleNode jjtGetChild if node instanceof BSHLHSPrimaryExpression return lhsUnaryOperation BSHLHSPrimaryExpression node toLHS callstack interpreter else return unaryOperation node eval callstack interpreter kind private Object lhsUnaryOperation LHS lhs throws EvalError Interpreter debug Object prevalue postvalue prevalue lhs getValue postvalue unaryOperation prevalue kind Object retVal if postfix retVal prevalue else retVal postvalue lhs assign postvalue return retVal private Object unaryOperation Object op int kind throws EvalError if op instanceof Boolean op instanceof Character op instanceof Number return primitiveWrapperUnaryOperation op kind if op instanceof Primitive throw new EvalError tokenImage kind this return Primitive unaryOperation Primitive op kind private Object primitiveWrapperUnaryOperation Object val int kind throws EvalError Class operandType val getClass Object operand Primitive promoteToInteger val if operand instanceof Boolean return new Boolean Primitive booleanUnaryOperation Boolean operand kind else if operand instanceof Integer int result Primitive intUnaryOperation Integer operand kind if kind INCR kind DECR if operandType Byte TYPE return new Byte byte result if operandType Short TYPE return new Short short result if operandType Character TYPE return new Character char result return new Integer result else if operand instanceof Long return new Long Primitive longUnaryOperation Long operand kind else if operand instanceof Float return new Float Primitive floatUnaryOperation Float operand kind else if operand instanceof Double return new Double Primitive doubleUnaryOperation Double operand kind else throw new InterpreterError', 'bug': '0'}
{'sequence': 'class BSHReturnStatement extends SimpleNode implements ParserConstants public int kind BSHReturnStatement int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError Object value if jjtGetNumChildren value SimpleNode jjtGetChild eval callstack interpreter else value Primitive VOID return new ReturnControl kind value', 'bug': '0'}
{'sequence': 'final class RETokenBackRef extends REToken private int num private boolean insens RETokenBackRef int subIndex int num boolean insens super subIndex this num num this insens insens boolean match CharIndexed input REMatch mymatch int mymatch start num mymatch end num for int if input charAt mymatch index input charAt return false mymatch index return next input mymatch void dump StringBuffer os os append append num', 'bug': '0'}
{'sequence': 'class PluginList Vector plugins Hashtable pluginHash Vector pluginSets PluginList throws Exception plugins new Vector pluginHash new Hashtable pluginSets new Vector String path jEdit getProperty PluginListHandler handler new PluginListHandler this path XmlParser parser new XmlParser parser setHandler handler parser parse null null new BufferedReader new InputStreamReader new URL path openStream void addPlugin Plugin plugin plugin checkIfInstalled plugins addElement plugin pluginHash put plugin name plugin void addPluginSet PluginSet set pluginSets addElement set void finished for int plugins size Plugin plugin Plugin plugins elementAt for int plugin branches size Branch branch Branch plugin branches elementAt for int branch deps size Dependency dep Dependency branch deps elementAt if dep what equals dep plugin Plugin pluginHash get dep pluginName void dump for int plugins size System err println Plugin plugins elementAt System err println static class PluginSet String name String description Vector plugins new Vector void install Roster roster String installDirectory boolean downloadSource for int plugins size Plugin plugin Plugin plugins elementAt if plugin canBeInstalled plugin install roster installDirectory downloadSource public String toString return plugins toString static class Plugin String jar String name String description String author Vector branches new Vector String installed String installedVersion void checkIfInstalled EditPlugin JAR jars jEdit getPluginJARs for int jars length String path jars getPath if new File path exists continue if MiscUtilities getFileName path equals jar installed path EditPlugin plugins jars getPlugins if plugins length installedVersion jEdit getProperty plugins getClassName break String notLoaded jEdit getNotLoadedPluginJARs for int notLoaded length String path notLoaded if MiscUtilities getFileName path equals jar installed path break Branch getCompatibleBranch for int branches size Branch branch Branch branches elementAt if branch canSatisfyDependencies return branch return null boolean canBeInstalled Branch branch getCompatibleBranch return branch null branch obsolete void install Roster roster String installDirectory boolean downloadSource if installed null roster addOperation new Roster Remove installed Branch branch getCompatibleBranch if branch obsolete return branch satisfyDependencies roster installDirectory downloadSource if installed null installDirectory MiscUtilities getParentOfPath installed roster addOperation new Roster Install downloadSource branch downloadSource branch download installDirectory public String toString return name static class Branch String version String date String download String downloadSource boolean obsolete Vector deps new Vector boolean canSatisfyDependencies for int deps size Dependency dep Dependency deps elementAt if dep canSatisfy return false return true void satisfyDependencies Roster roster String installDirectory boolean downloadSource for int deps size Dependency dep Dependency deps elementAt dep satisfy roster installDirectory downloadSource public String toString return version download obsolete deps static class Dependency String what String from String to String pluginName Plugin plugin Dependency String what String from String to String pluginName this what what this from from this to to this pluginName pluginName boolean isSatisfied if what equals for int plugin branches size Branch branch Branch plugin branches elementAt if plugin installedVersion null from null MiscUtilities compareVersions plugin installedVersion from to null MiscUtilities compareVersions plugin installedVersion to return true return false else if what equals String javaVersion System getProperty substring if from null MiscUtilities compareVersions javaVersion from to null MiscUtilities compareVersions javaVersion to return true else return false else if what equals String build jEdit getBuild if from null MiscUtilities compareVersions build from to null MiscUtilities compareVersions build to return true else return false else Log log Log ERROR this what return false boolean canSatisfy return what equals isSatisfied void satisfy Roster roster String installDirectory boolean downloadSource if what equals for int plugin branches size Branch branch Branch plugin branches elementAt if plugin installedVersion null MiscUtilities compareVersions plugin installedVersion branch version from null MiscUtilities compareVersions branch version from to null MiscUtilities compareVersions branch version to plugin install roster installDirectory downloadSource return public String toString return what from to plugin', 'bug': '1'}
{'sequence': 'class CharIndexedCharArray implements CharIndexed Serializable private char private int anchor CharIndexedCharArray char str int index str anchor index public char charAt int index int pos anchor index return pos length pos pos OUT_OF_BOUNDS public boolean isValid return anchor length public boolean move int index return anchor index length', 'bug': '0'}
{'sequence': 'public class TargetError extends EvalError Throwable target public TargetError String msg Throwable SimpleNode node super msg node target public TargetError Throwable SimpleNode node this node public TargetError String Throwable this null public Throwable getTarget if target instanceof InvocationTargetException return InvocationTargetException target getTargetException else return target public String toString return super toString printTargetError target public void printStackTrace super printStackTrace System out println target printStackTrace public void reThrow String msg throws TargetError throw new TargetError msg getMessage target node public void reThrow String msg SimpleNode node throws TargetError String msg null msg throw new TargetError getMessage target node public void reThrow SimpleNode node throws TargetError reThrow null node public String printTargetError Throwable String target toString if Capabilities canGenerateInterfaces xPrintTargetError return public String xPrintTargetError Throwable String getTarget Interpreter new Interpreter try set return String eval getTarget catch EvalError throw new InterpreterError toString', 'bug': '0'}
{'sequence': 'class CharIndexedInputStream implements CharIndexed private static final int BUFFER_INCREMENT private BufferedInputStream br private int index private int bufsize BUFFER_INCREMENT private int end UNKNOWN private char cached OUT_OF_BOUNDS private char lookBehind new char OUT_OF_BOUNDS OUT_OF_BOUNDS CharIndexedInputStream InputStream str int index if str instanceof BufferedInputStream br BufferedInputStream str else br new BufferedInputStream str BUFFER_INCREMENT next if index move index private boolean next if end return false try if index br reset int br read br mark bufsize if end cached OUT_OF_BOUNDS return false cached char index catch IOException printStackTrace cached OUT_OF_BOUNDS return false return true public char charAt int index if index return cached else if index end return OUT_OF_BOUNDS else if index return lookBehind else if index return lookBehind else if index return OUT_OF_BOUNDS else if index bufsize try while bufsize index bufsize BUFFER_INCREMENT br reset br mark bufsize br skip index catch IOException else if this index index try br reset br skip index catch IOException char ch OUT_OF_BOUNDS try int br read if end index return ch ch char catch IOException ie return ch public boolean move int index boolean retval true while retval index retval next return retval public boolean isValid return cached OUT_OF_BOUNDS', 'bug': '0'}
{'sequence': 'class BSHAllocationExpression extends SimpleNode BSHAllocationExpression int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError SimpleNode type SimpleNode jjtGetChild SimpleNode args SimpleNode jjtGetChild if type instanceof BSHAmbiguousName BSHAmbiguousName name BSHAmbiguousName type if args instanceof BSHArguments return objectAllocation name BSHArguments args callstack interpreter else return objectArrayAllocation name BSHArrayDimensions args callstack interpreter else return primitiveArrayAllocation BSHPrimitiveType type BSHArrayDimensions args callstack interpreter private Object objectAllocation BSHAmbiguousName nameNode BSHArguments argumentsNode CallStack callstack Interpreter interpreter throws EvalError NameSpace namespace callstack top Class type nameNode toClass namespace Object args argumentsNode getArguments callstack interpreter if args null throw new EvalError this boolean hasBody jjtGetNumChildren if hasBody BSHBlock body BSHBlock jjtGetChild return constructWithBody type args body callstack interpreter else return constructObject type args private Object constructObject Class type Object args throws EvalError try return Reflect constructObject type args catch ReflectError throw new EvalError getMessage this catch InvocationTargetException Interpreter debug getTargetException throw new TargetError getTargetException this private Object constructWithBody Class type Object args BSHBlock body CallStack callstack Interpreter interpreter throws EvalError if type isInterface throw new EvalError type NameSpace namespace callstack top NameSpace local new NameSpace namespace callstack push local body eval callstack interpreter true callstack pop return local getThis interpreter getInterface type private Object objectArrayAllocation BSHAmbiguousName nameNode BSHArrayDimensions dimensionsNode CallStack callstack Interpreter interpreter throws EvalError NameSpace namespace callstack top Class type nameNode toClass namespace if type null throw new EvalError nameNode getName namespace this Object result dimensionsNode eval type callstack interpreter if result Primitive VOID return result else return arrayNewInstance type dimensionsNode private Object primitiveArrayAllocation BSHPrimitiveType typeNode BSHArrayDimensions dimensionsNode CallStack callstack Interpreter interpreter throws EvalError Class type typeNode getType Object result dimensionsNode eval type callstack interpreter if result Primitive VOID return result return arrayNewInstance type dimensionsNode private Object arrayNewInstance Class type BSHArrayDimensions dimensionsNode throws EvalError try return Array newInstance type dimensionsNode dimensions catch NegativeArraySizeException e1 throw new TargetError e1 catch Exception throw new EvalError getMessage this', 'bug': '0'}
{'sequence': 'class BSHMethodInvocation extends SimpleNode BSHMethodInvocation int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError NameSpace namespace callstack top Name name BSHAmbiguousName jjtGetChild getName namespace Object args BSHArguments jjtGetChild getArguments callstack interpreter try return name invokeMethod interpreter args callstack this catch ReflectError throw new EvalError getMessage this catch java lang reflect InvocationTargetException throw new TargetError getTargetException this catch EvalError ee ee reThrow this throw new Error', 'bug': '0'}
{'sequence': 'public class VFSUpdate extends EBMessage public VFSUpdate String path super null if path null throw new NullPointerException this path path public String getPath return path public String paramString return super paramString path private String path', 'bug': '0'}
{'sequence': 'class BSHReturnType extends SimpleNode public boolean isVoid BSHReturnType int id super id public Object getReturnType NameSpace namespace throws EvalError if isVoid return Primitive VOID else return BSHType jjtGetChild getType namespace', 'bug': '0'}
{'sequence': 'class BSHStatementExpressionList extends SimpleNode BSHStatementExpressionList int id super id public Object eval CallStack callstack Interpreter interpreter throws EvalError int jjtGetNumChildren for int SimpleNode node SimpleNode jjtGetChild node eval callstack interpreter return Primitive VOID', 'bug': '0'}
{'sequence': 'class BshMethod implements java io Serializable public BSHMethodDeclaration method NameSpace declaringNameSpace private Class argTypes public BshMethod BSHMethodDeclaration method NameSpace declaringNameSpace this method method this declaringNameSpace declaringNameSpace public Class getArgTypes if argTypes null argTypes method params argTypes return argTypes public Object invokeDeclaredMethod Object argValues Interpreter interpreter CallStack callstack SimpleNode callerInfo throws EvalError if argValues null argValues new Object if argValues length method params numArgs try String help String declaringNameSpace get method name interpreter interpreter println help return Primitive VOID catch Exception throw new EvalError method name callerInfo NameSpace localNameSpace new NameSpace declaringNameSpace method name localNameSpace setNode callerInfo for int method params numArgs if method params argTypes null try argValues NameSpace getAssignableForm argValues method params argTypes catch EvalError throw new EvalError method params argNames method name getMessage callerInfo localNameSpace setTypedVariable method params argNames method params argTypes argValues false if argValues Primitive VOID throw new EvalError method params argNames method name callerInfo else localNameSpace setVariable method params argNames argValues callstack push localNameSpace Object ret method block eval callstack interpreter true callstack pop if ret instanceof ReturnControl ReturnControl rs ReturnControl ret if rs kind rs RETURN ret ReturnControl ret value else throw new EvalError method if method returnType null if method returnType Primitive VOID return method returnType try ret NameSpace getAssignableForm ret Class method returnType catch EvalError throw new EvalError method name getMessage method return ret public String toString return method name', 'bug': '0'}
{'sequence': 'public class LogViewer extends JPanel implements DockableWindow public LogViewer super new BorderLayout String settingsDirectory jEdit getSettingsDirectory if settingsDirectory null String args MiscUtilities constructPath settingsDirectory JLabel label new JLabel jEdit getProperty args add BorderLayout NORTH label JTextArea textArea new JTextArea textArea setDocument Log getLogDocument add BorderLayout CENTER new JScrollPane textArea public String getName return public Component getComponent return this', 'bug': '0'}
{'sequence': 'public class FileVFS extends VFS public static final String BACKED_UP_PROPERTY public static final String PERMISSIONS_PROPERTY public FileVFS super fsView FileSystemView getFileSystemView public int getCapabilities return READ_CAP WRITE_CAP BROWSE_CAP DELETE_CAP RENAME_CAP MKDIR_CAP public String getParentOfPath String path if File separatorChar if path length path charAt return FileRootsVFS PROTOCOL else if path length path endsWith return FileRootsVFS PROTOCOL if path equals return FileRootsVFS PROTOCOL return MiscUtilities getParentOfPath path public String constructPath String parent String path return MiscUtilities constructPath parent path public char getFileSeparator return File separatorChar public boolean load View view Buffer buffer String path File file buffer getFile if file exists buffer setNewFile true return false else buffer setReadOnly file canWrite if file isDirectory String args file getPath GUIUtilities error view args buffer setNewFile false return false if file canRead String args file getPath GUIUtilities error view args buffer setNewFile false return false return super load view buffer path public boolean save View view Buffer buffer String path File file new File path if file isDirectory String args file getPath GUIUtilities error view args return false if file exists file canWrite file exists new File file getParent canWrite String args path GUIUtilities error view args return false int permissions getPermissions buffer getPath Log log Log DEBUG this buffer getPath Integer toString permissions buffer putProperty PERMISSIONS_PROPERTY new Integer permissions return super save view buffer path public boolean insert View view Buffer buffer String path File file new File path if file exists return false if file isDirectory String args file getPath GUIUtilities error view args return false if file canRead String args file getPath GUIUtilities error view args return false return super load view buffer path public VFS DirectoryEntry Object session String path Component comp if File separatorChar if path length path charAt path path concat File separator File directory new File path String list directory list if list null String pp path VFSManager error comp pp return null Vector list2 new Vector for int list length String name list String if path endsWith File separator path name else path File separatorChar name File file new File int type if file isDirectory type VFS DirectoryEntry DIRECTORY else type VFS DirectoryEntry FILE VFS DirectoryEntry entry new VFS DirectoryEntry name type file length fsView isHiddenFile file list2 addElement entry VFS DirectoryEntry retVal new VFS DirectoryEntry list2 size list2 copyInto retVal return retVal public DirectoryEntry Object session String path Component comp if path endsWith path endsWith File separator path path substring path length File file new File path if file exists return null int type if file isDirectory type VFS DirectoryEntry DIRECTORY else type VFS DirectoryEntry FILE return new VFS DirectoryEntry file getName path path type file length fsView isHiddenFile file public boolean Object session String path Component comp boolean retVal new File path delete if retVal VFSManager sendVFSUpdate this path true return retVal public boolean Object session String from String to Component comp File new File to delete boolean retVal new File from renameTo VFSManager sendVFSUpdate this from true VFSManager sendVFSUpdate this to true return retVal public boolean Object session String directory Component comp boolean retVal new File directory mkdirs VFSManager sendVFSUpdate this directory true return retVal public void Object session String path Component comp throws IOException int backups try backups Integer parseInt jEdit getProperty catch NumberFormatException nf Log log Log ERROR this nf backups if backups return String backupPrefix jEdit getProperty String backupSuffix jEdit getProperty File file new File path String backupDirectory jEdit getProperty if backupDirectory null backupDirectory length backupDirectory file getParent else backupDirectory MiscUtilities constructPath System getProperty backupDirectory backupDirectory MiscUtilities concatPath backupDirectory file getParent File dir new File backupDirectory if dir exists dir mkdirs String name file getName if backups file renameTo new File backupDirectory backupPrefix name backupSuffix else new File backupDirectory backupPrefix name backupSuffix backups backupSuffix delete for int backups File backup new File backupDirectory backupPrefix name backupSuffix backupSuffix backup renameTo new File backupDirectory backupPrefix name backupSuffix backupSuffix file renameTo new File backupDirectory backupPrefix name backupSuffix backupSuffix public InputStream Object session String path boolean ignoreErrors Component comp throws IOException try return new FileInputStream path catch IOException io if ignoreErrors return null else throw io public OutputStream Object session String path Component comp throws IOException OutputStream retVal new FileOutputStream path return retVal public void Object session Buffer buffer Component comp int permissions Integer buffer getProperty PERMISSIONS_PROPERTY intValue setPermissions buffer getPath permissions public static int getPermissions String path int permissions if isUnix String cmdarray path try Process process Runtime getRuntime exec cmdarray BufferedReader reader new BufferedReader new InputStreamReader process getInputStream String output reader readLine if output null String output substring if length if charAt permissions if charAt permissions if charAt permissions else if charAt permissions else if charAt permissions if charAt permissions if charAt permissions if charAt permissions else if charAt permissions else if charAt permissions if charAt permissions if charAt permissions if charAt permissions else if charAt permissions else if charAt permissions catch Throwable return permissions public static void setPermissions String path int permissions if permissions if isUnix String cmdarray Integer toString permissions path try Process process Runtime getRuntime exec cmdarray process getInputStream close process getOutputStream close process getErrorStream close int exitCode process waitFor if exitCode Log log Log NOTICE FileVFS class exitCode catch Throwable private FileSystemView fsView private static boolean isUnix static if File separatorChar String osName System getProperty if osName indexOf if osName indexOf isUnix true else isUnix false else isUnix true Log log Log DEBUG FileVFS class isUnix', 'bug': '1'}
{'sequence': 'public class EnhancedCheckBoxMenuItem extends JCheckBoxMenuItem public EnhancedCheckBoxMenuItem String label EditAction action super label this action action if action null setEnabled true addActionListener new EditAction Wrapper action shortcutProp1 action getName shortcutProp2 action getName else setEnabled false setModel new Model public Dimension getPreferredSize Dimension super getPreferredSize String shortcut getShortcut if shortcut null width getFontMetrics acceleratorFont stringWidth shortcut return public void paint Graphics super paint String shortcut getShortcut if shortcut null setFont acceleratorFont setColor getModel isArmed acceleratorSelectionForeground acceleratorForeground FontMetrics fm getFontMetrics Insets insets getInsets drawString shortcut getWidth fm stringWidth shortcut insets right insets left getFont getSize insets top public String getActionCommand return getModel getActionCommand private String shortcutProp1 private String shortcutProp2 private EditAction action private static Font acceleratorFont private static Color acceleratorForeground private static Color acceleratorSelectionForeground private String getShortcut if action null return null else String shortcut1 jEdit getProperty shortcutProp1 String shortcut2 jEdit getProperty shortcutProp2 if shortcut1 null shortcut1 length if shortcut2 null shortcut2 length return null else return shortcut2 else if shortcut2 null shortcut2 length return shortcut1 else return shortcut1 shortcut2 static acceleratorFont UIManager getFont acceleratorFont new Font acceleratorFont getStyle acceleratorFont getSize acceleratorForeground UIManager getColor acceleratorSelectionForeground UIManager getColor class Model extends DefaultButtonModel public boolean isSelected if isShowing return false try return action isSelected EditAction getView EnhancedCheckBoxMenuItem this catch Throwable Log log Log ERROR this return false public void setSelected boolean', 'bug': '1'}
{'sequence': 'public class EditorStarted extends EBMessage NonVetoable public EditorStarted EBComponent source super source', 'bug': '0'}
{'sequence': 'class BSHAmbiguousName extends SimpleNode public String text BSHAmbiguousName int id super id public Name getName NameSpace namespace return namespace getNameResolver text public Object toObject CallStack callstack Interpreter interpreter throws EvalError return getName callstack top toObject callstack interpreter public Class toClass NameSpace namespace throws EvalError return getName namespace toClass public LHS toLHS CallStack callstack Interpreter interpreter throws EvalError return getName callstack top toLHS callstack interpreter public Object eval CallStack callstack Interpreter interpreter throws EvalError throw new InterpreterError public String toString return text', 'bug': '0'}
{'sequence': 'public class FileRootsVFS extends VFS public static final String PROTOCOL public FileRootsVFS super try method File class getMethod new Class Log log Log DEBUG this catch Exception fsView FileSystemView getFileSystemView Log log Log DEBUG this public int getCapabilities public String getParentOfPath String path return PROTOCOL public VFS DirectoryEntry Object session String url Component comp File roots if method null roots fsView getRoots else try roots File method invoke null new Object catch Exception roots null Log log Log ERROR this if roots null return null VFS DirectoryEntry rootDE new VFS DirectoryEntry roots length for int roots length String name roots getPath rootDE session name comp return rootDE public DirectoryEntry Object session String path Component comp return new VFS DirectoryEntry path path path VFS DirectoryEntry FILESYSTEM false private FileSystemView fsView private Method method', 'bug': '0'}
{'sequence': 'public class RESearchMatcher implements SearchMatcher public static final RESyntax RE_SYNTAX_JEDIT new RESyntax RESyntax RE_SYNTAX_PERL5 set RESyntax RE_CHAR_CLASSES setLineSeparator public RESearchMatcher String search String replace boolean ignoreCase boolean beanshell String replaceMethod throws Exception this replace MiscUtilities escapesToChars replace this beanshell beanshell this replaceMethod replaceMethod replaceNS new NameSpace BeanShell getNameSpace re new RE search ignoreCase RE REG_ICASE RE REG_MULTILINE RE_SYNTAX_JEDIT public int nextMatch Segment text REMatch match re getMatch new CharIndexedSegment text if match null return null int start match getStartIndex int end match getEndIndex if start end return null int result start end return result public String substitute String text throws Exception REMatch match re getMatch text if match null return null if beanshell int count match getSubCount for int count replaceNS setVariable match toString Object obj BeanShell runCachedBlock replaceMethod null replaceNS if obj null return null else return obj toString else return match substituteInto replace private String replace private RE re private boolean beanshell private String replaceMethod private NameSpace replaceNS', 'bug': '1'}
{'sequence': 'public class HyperSearchRequest extends WorkRequest public HyperSearchRequest View view SearchMatcher matcher HyperSearchResults results this view view this matcher matcher this results results this resultTreeModel results getTreeModel this resultTreeRoot DefaultMutableTreeNode resultTreeModel getRoot public void run SearchFileSet fileset SearchAndReplace getSearchFileSet setProgressMaximum fileset getBufferCount setStatus jEdit getProperty int resultCount int bufferCount try int current Buffer buffer fileset getFirstBuffer view if buffer null do setProgressValue current int thisResultCount doHyperSearch buffer matcher if thisResultCount bufferCount resultCount thisResultCount while buffer fileset getNextBuffer view buffer null catch Exception Log log Log ERROR this Object args getMessage if args null args toString VFSManager error view args catch WorkThread Abort finally final int resultCount final int bufferCount VFSManager runInAWTThread new Runnable public void run results searchDone private View view private SearchMatcher matcher private HyperSearchResults results private DefaultTreeModel resultTreeModel private DefaultMutableTreeNode resultTreeRoot private int doHyperSearch Buffer buffer SearchMatcher matcher throws Exception setAbortable false int resultCount final DefaultMutableTreeNode bufferNode new DefaultMutableTreeNode buffer getPath try buffer readLock Element map buffer getDefaultRootElement Segment text new Segment int offset int length buffer getLength int line loop for buffer getText offset length offset text int match matcher nextMatch text if match null break loop offset match int newLine map getElementIndex offset if line newLine continue loop line newLine resultCount bufferNode insert new DefaultMutableTreeNode new HyperSearchResult buffer line false bufferNode getChildCount finally buffer readUnlock if resultCount resultTreeRoot insert bufferNode resultTreeRoot getChildCount SwingUtilities invokeLater new Runnable public void run resultTreeModel reload resultTreeRoot setAbortable true return resultCount', 'bug': '1'}
{'sequence': 'class BlockNameSpace extends NameSpace public BlockNameSpace NameSpace parent throws EvalError super parent parent name public void setVariable String name Object throws EvalError if weHaveVar name super setVariable name else getParent setVariable name boolean weHaveVar String name return super getVariableImpl name false null', 'bug': '0'}
{'sequence': 'public abstract class InputHandler extends KeyAdapter public InputHandler View view this view view public abstract void addKeyBinding String keyBinding EditAction action public abstract void removeKeyBinding String keyBinding public abstract void removeAllKeyBindings public boolean isPrefixActive return false public boolean isRepeatEnabled return repeat public void setRepeatEnabled boolean repeat this repeat repeat repeatCount view getStatus setMessage null public int getRepeatCount return repeat repeatCount repeatCount public void setRepeatCount int repeatCount repeat true this repeatCount repeatCount view getStatus setMessage null public EditAction getLastAction return lastAction public int getLastActionCount return lastActionCount public void readNextChar String msg String code view getStatus setMessage msg readNextChar code public void readNextChar String code readNextChar code public void invokeAction EditAction action Buffer buffer view getBuffer buffer endCompoundEdit if lastAction action lastActionCount else lastAction action lastActionCount boolean repeat int getRepeatCount if action noRepeat action invoke view else if REPEAT_COUNT_THRESHOLD String label jEdit getProperty action getName if label null label action getName else label GUIUtilities prettifyMenuLabel label Object pp label new Integer if GUIUtilities confirm view pp JOptionPane WARNING_MESSAGE JOptionPane YES_NO_OPTION JOptionPane YES_OPTION repeat false repeatCount view getStatus setMessage null return try buffer beginCompoundEdit for int action invoke view finally buffer endCompoundEdit Macros Recorder recorder view getMacroRecorder if recorder null action noRecord recorder record action getCode if if readNextChar null return repeat false repeatCount view getStatus setMessage null private static final int REPEAT_COUNT_THRESHOLD protected View view protected boolean repeat protected int repeatCount protected EditAction lastAction protected int lastActionCount protected String readNextChar protected void userInput char ch lastAction null if readNextChar null invokeReadNextChar ch else Buffer buffer view getBuffer if buffer insideCompoundEdit buffer beginCompoundEdit JEditTextArea textArea view getTextArea int getRepeatCount if textArea userInput ch else if REPEAT_COUNT_THRESHOLD Object pp String valueOf ch new Integer if GUIUtilities confirm view pp JOptionPane WARNING_MESSAGE JOptionPane YES_NO_OPTION JOptionPane YES_OPTION repeat false repeatCount view getStatus setMessage null return for int textArea userInput ch Macros Recorder recorder view getMacroRecorder if recorder null recorder record ch setRepeatEnabled false protected void invokeReadNextChar char ch String charStr MiscUtilities charsToEscapes String valueOf ch int index while index readNextChar indexOf readNextChar readNextChar substring index charStr readNextChar substring index Macros Recorder recorder view getMacroRecorder if recorder null recorder record getRepeatCount readNextChar if getRepeatCount Buffer buffer view getBuffer try buffer beginCompoundEdit BeanShell eval view getRepeatCount readNextChar false finally buffer endCompoundEdit else BeanShell eval view readNextChar false readNextChar null view getStatus setMessage null', 'bug': '1'}
{'sequence': 'public interface NameSource public String getAllNames public void addNameSourceListener NameSource Listener listener public static interface Listener public void nameSourceChanged NameSource src', 'bug': '0'}
{'sequence': 'class CommandLineReader extends FilterReader public CommandLineReader Reader in super in static final int normal lastCharNL sentSemi int state lastCharNL public int read throws IOException int if state sentSemi state lastCharNL return while in read if if state lastCharNL state sentSemi else state lastCharNL else state normal return public int read char buff int off int len throws IOException int read if else buff off char return public static void main String args throws Exception Reader in new CommandLineReader new InputStreamReader System in while true System out println in read', 'bug': '0'}
{'sequence': 'private Vector stack new Vector public void clear stack removeAllElements public void push NameSpace ns stack insertElementAt ns public NameSpace top return get public NameSpace get int depth if depth depth return NameSpace JAVACODE else return NameSpace stack elementAt depth public void set int depth NameSpace ns stack setElementAt ns depth public NameSpace pop if depth throw new InterpreterError NameSpace top top stack removeElementAt return top public NameSpace swap NameSpace newTop NameSpace oldTop NameSpace stack elementAt stack setElementAt newTop return oldTop public int depth return stack size public NameSpace toArray NameSpace nsa new NameSpace depth stack copyInto nsa return nsa public String toString StringBuffer sb new StringBuffer sb append NameSpace nsa toArray for int nsa length sb append nsa return sb toString', 'bug': '0'}
{'sequence': 'public class HyperSearchResults extends JPanel implements DockableWindow EBComponent public static final String NAME public HyperSearchResults View view super new BorderLayout this view view caption new JLabel updateCaption add BorderLayout NORTH caption resultTreeRoot new DefaultMutableTreeNode resultTreeModel new DefaultTreeModel resultTreeRoot resultTree new JTree resultTreeModel resultTree setCellRenderer new ResultCellRenderer resultTree setVisibleRowCount resultTree setRootVisible false resultTree setShowsRootHandles true resultTree putClientProperty resultTree setEditable false resultTree addMouseListener new MouseHandler JScrollPane scrollPane new JScrollPane resultTree Dimension dim scrollPane getPreferredSize dim width scrollPane setPreferredSize dim add BorderLayout CENTER scrollPane public String getName return NAME public Component getComponent return this public void addNotify super addNotify EditBus addToBus this public void removeNotify super removeNotify EditBus removeFromBus this public void handleMessage EBMessage msg if msg instanceof BufferUpdate BufferUpdate bmsg BufferUpdate msg Buffer buffer bmsg getBuffer if bmsg getWhat BufferUpdate LOADED for int resultTreeRoot getChildCount DefaultMutableTreeNode bufferNode DefaultMutableTreeNode resultTreeRoot getChildAt for int bufferNode getChildCount HyperSearchResult result HyperSearchResult DefaultMutableTreeNode bufferNode getChildAt getUserObject if buffer getPath equals result path result bufferOpened buffer else if bmsg getWhat BufferUpdate CLOSED for int resultTreeRoot getChildCount DefaultMutableTreeNode bufferNode DefaultMutableTreeNode resultTreeRoot getChildAt for int bufferNode getChildCount HyperSearchResult result HyperSearchResult DefaultMutableTreeNode bufferNode getChildAt getUserObject if buffer getPath equals result path result bufferClosed public DefaultTreeModel getTreeModel return resultTreeModel public void searchStarted caption setText jEdit getProperty resultTreeRoot removeAllChildren resultTreeModel reload resultTreeRoot public void searchDone int resultCount int bufferCount updateCaption resultCount bufferCount SwingUtilities invokeLater new Runnable public void run if resultTreeRoot getChildCount resultTree expandPath new TreePath DefaultMutableTreeNode resultTreeRoot getChildAt getPath private View view private JLabel caption private JTree resultTree private DefaultMutableTreeNode resultTreeRoot private DefaultTreeModel resultTreeModel private void updateCaption int resultCount int bufferCount Object pp new Integer resultCount new Integer bufferCount caption setText jEdit getProperty pp class MouseHandler extends MouseAdapter public void mouseClicked MouseEvent evt TreePath path resultTree getPathForLocation evt getX evt getY if path null return Object value DefaultMutableTreeNode path getLastPathComponent getUserObject if value instanceof String Buffer buffer jEdit openFile view String value if buffer null return view setBuffer buffer view toFront view requestFocus else final HyperSearchResult result HyperSearchResult value final Buffer buffer result getBuffer if buffer null return VFSManager runInAWTThread new Runnable public void run int pos result linePos getOffset view setBuffer buffer view getTextArea setCaretPosition pos view toFront view requestFocus class ResultCellRenderer extends DefaultTreeCellRenderer public Component getTreeCellRendererComponent JTree tree Object value boolean sel boolean expanded boolean leaf int row boolean hasFocus Component comp super getTreeCellRendererComponent tree value sel expanded leaf row hasFocus if comp instanceof JLabel return comp JLabel label JLabel comp label setIcon null return label', 'bug': '1'}
